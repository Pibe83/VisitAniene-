(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[81164],{984206:(e,o,t)=>{t.d(o,{Z:()=>r});const r=2},615298:(e,o,t)=>{t.d(o,{j:()=>s});const r={"á":"a","à":"a","â":"a","ä":"a","ã":"a","å":"a","æ":"a","ç":"c","é":"e","è":"e","ê":"e","ë":"e","í":"i","ì":"i","î":"i","ï":"i","ñ":"n","ó":"o","ò":"o","ô":"o","ö":"o","õ":"o","ø":"o","œ":"o","ß":"s","ú":"u","ù":"u","û":"u","ü":"u"},i=e=>{if(!e)return"";let o="";for(let t=0;t<e.length;t+=1)o+=r[e.charAt(t)]||e.charAt(t);return o},s=(e,o,t="name")=>{const r=o.toLowerCase();return e.filter((e=>((e,o)=>{const t=o.split(" "),r=e.split(" ");let s=0;for(let n=0;n<r.length;n+=1)(i(r[n]).includes(t[s])||r[n].includes(t[s]))&&(s+=1);return s===t.length})(e[t].toLowerCase(),r)))}},425480:(e,o,t)=>{t.d(o,{Z:()=>n});var r=t(667294),i=t(700380);function s(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}class n extends r.PureComponent{constructor(...e){super(...e),s(this,"setContainerRef",(e=>{this.containerRef=e})),s(this,"fetchMoreIfNecessary",(0,i.Z)((()=>{const{fetchMore:e,scrollBuffer:o}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:o,scrollHeight:t},r)=>e+o+(r?r(o):2*o)>t)(this.containerRef,o)&&e()}),200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},486746:(e,o,t)=>{t.d(o,{Z:()=>a});var r=t(488769),i=t(758119),s=t(883119),n=t(785893);const c=({collaborator_count:e,useLegoLayout:o,type:t})=>o?(0,n.jsx)(s.xu,{marginEnd:e?2:0,children:(0,n.jsx)(r.Z,{type:t})}):(0,n.jsx)(r.Z,{type:t}),a=({board:e,showCollaborativeIcon:o,showPrivateIcon:t,showProtectedIcon:a,showSectionsIcon:d,useLegoLayout:l})=>{var u;const _=(null==e||null===(u=e.collaborating_users)||void 0===u?void 0:u.length)||0;return o||t||a||d?(0,n.jsxs)(s.xu,{display:"flex",direction:"row",marginEnd:l?0:5,dangerouslySetInlineStyle:{__style:{paddingLeft:8}},alignItems:"center",children:[t&&(0,n.jsx)(c,{collaborator_count:_,useLegoLayout:l,type:"secret"}),a&&(0,n.jsx)(c,{collaborator_count:_,useLegoLayout:l,type:"protected"}),o&&(l?(0,n.jsx)(i.Z,{board:e,isCompact:!0,ownerOnly:!1}):(0,n.jsx)(r.Z,{type:"group"})),d&&(0,n.jsx)(r.Z,{type:"sections"})]}):null}},24886:(e,o,t)=>{t.d(o,{Z:()=>s});var r=t(883119),i=t(785893);const s=({image_url:e,naturalHeight:o,naturalWidth:t})=>(0,i.jsx)(r.xu,{"aria-hidden":"true",marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,height:48,children:(0,i.jsx)(r.zd,{wash:!0,width:48,height:48,rounding:2,children:(0,i.jsx)(r.Ee,{src:e,alt:"",naturalHeight:o,naturalWidth:t})})})},758119:(e,o,t)=>{t.d(o,{Z:()=>u});var r=t(189734),i=t.n(r),s=t(898781),n=t(19121),c=t(883119),a=t(349700),d=t(785893);function l(e){var o,t,r,i;const s=null!==(o=null!==(t=null==e?void 0:e.imageMediumUrl)&&void 0!==t?t:null==e?void 0:e.image_medium_url)&&void 0!==o?o:"";return{name:null!==(r=null!==(i=null==e?void 0:e.fullName)&&void 0!==i?i:null==e?void 0:e.full_name)&&void 0!==r?r:"",src:"https://s.pinimg.com/images/user/default_75.png"===s?void 0:s}}function u({board:e,forceViewer:o,isCompact:t,ownerOnly:r}){var u,_,b,I,p;const h=(0,s.ZP)(),f=(0,n.Z)(),m=r?[l(null==e?void 0:e.owner)]:function(e,o,t){const{collaborated_by_me:r,collaborating_users:s,owner:n}=null!=e?e:{},c=null!=s?s:[],a=[n];if(r||t){const e=c.findIndex((e=>o.isAuth&&e.id===o.id));if(-1!==e){const o=c.splice(e,1)[0];a.push(o)}else a.push(o)}const d=i()(c,"full_name");return[...a,...d]}(e,f,o).map(l),E=m.slice(0,3).map((e=>e.name));let y="";switch(m.length){case 3:y=(0,a.Wc)(`${h.bt("{{ first }}, {{ second }} e {{ last }}", "{{ first }}, {{ second }}, and {{ last }}", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars", undefined, true)}`,{first:`${null!==(u=E[0])&&void 0!==u?u:""}`,second:`${null!==(_=E[1])&&void 0!==_?_:""}`,last:`${null!==(b=E[2])&&void 0!==b?b:""}`});break;case 2:y=(0,a.Wc)(`${h.bt("{{ first }} e {{ second }}", "{{ first }} and {{ second }}", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars", undefined, true)}`,{first:`${null!==(I=E[0])&&void 0!==I?I:""}`,second:`${null!==(p=E[1])&&void 0!==p?p:""}`});break;default:y=E.join(", ")}const A=m.length>3?(0,a.Wc)(`, ${h.nbt(["Collaboratori: {{ userNames }} e {{ leftCount }} altro.", "Collaboratori: {{ userNames }} e altri {{ leftCount }}."], m.length - 3, "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree", true)}`,{userNames:y,leftCount:""+(m.length-3)}):(0,a.Wc)(`, ${h.bt("Collaboratori: {{ userNames }}.", "Collaborators: {{ userNames }}.", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree", undefined, true)}`,{userNames:y});return(0,d.jsx)(c.HE,{accessibilityLabel:A,collaborators:m,size:t?"xs":"sm"})}},678638:(e,o,t)=>{t.d(o,{$n:()=>E,A4:()=>v,CE:()=>I,ET:()=>P,F$:()=>m,Kw:()=>B,Nv:()=>g,PA:()=>S,X_:()=>O,d9:()=>y,e1:()=>b,o4:()=>T,vB:()=>h});var r=t(492583),i=t(689070),s=t(563339),n=t(483025),c=t(254176),a=t(248327),d=t(782677),l=t(214494),u=t(956800),_=t(414327);function b(e){return o=>{const{boardId:t,sectionIdBefore:s,sectionIdAfter:n,sourceSectionId:c,targetSectionId:a}=e;o((0,u._f)({feedType:r.Z.BOARD_SECTIONS,feedId:t,itemType:"boardsection",sourceItemId:c,targetItemId:a}));let d=Object.freeze({});return s&&(d={...d,section_before:s}),n&&(d={...d,section_after:n}),(0,i.Z)({url:`/v3/board/sections/${c}/reorder/`,method:"POST",data:d})}}function I(e,o){return t=>t((0,a.U)("BoardSectionResource",{options:{field_set_key:o||"board_page",section_id:e}}))}function p(e,o){return{type:"SECTION_ADDED",payload:{boardId:e,section:o}}}function h({boardId:e,name:o,nameSource:t,pinImport:i,initialPinIds:n=[]},a,d){let b=0;"RECOMMENDATION"===t?b=1:"EDITED_RECOMMENDATION"===t&&(b=2);const I={board_id:e,initial_pins:i&&!i.all?i.pinIds:n,name:o,name_source:b,...d?{orbac_subject_id:d}:Object.freeze({})};return o=>l.Z.create("BoardSectionResource",I).callCreate({showError:!1}).then((({resource_response:{data:t}})=>{o(p(e,t)),o((0,u.vX)({feedId:e,feedType:r.Z.BOARD_SECTIONS,itemIds:[t.id],itemType:"boardsection"})),o((0,c.Tq)(e,"pin_count")),o((0,_.jB)("BoardSectionsRepinResource",{board_id:e}));const{all:n,pinIds:d}=i||{all:!1,pinIds:[]};return n?new Promise(((r,i)=>o((0,s.Z)({inverseSelection:!0,selectedPinIds:d,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:t.id}},a)).then((()=>r(t))).catch(i))):(d.length>0&&o((0,u.N8)(r.Z.BOARDFEED,e)),t)}))}function f(e,o){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:o}}}function m(e,o,t){return i=>l.Z.create("BoardSectionEditResource",{section_id:o,...t?{orbac_subject_id:t}:Object.freeze({})}).callDelete({showError:!1}).then((()=>Promise.all([i(f(e,o)),i((0,u.EX)({feedId:e,feedType:r.Z.BOARD_SECTIONS,itemIds:[o],itemType:"boardsection"})),i((0,c.Tq)(e,"pin_count")),i((0,_.jB)("BoardSectionsRepinResource",{board_id:e}))])))}function E(e,o,t,i){return s=>l.Z.create("BoardSectionEditResource",{section_id:o,title:t,...i?{orbac_subject_id:i}:Object.freeze({})}).callCreate({showError:!1}).then((o=>{const t=o.resource_response.data;return s(function(e,o){return t=>{const i=o.board;var s,n,a,d,l;i&&i.id!==e?(t(f(e,null!==(s=o.id)&&void 0!==s?s:"")),t((0,u.EX)({feedId:e,feedType:r.Z.BOARD_SECTIONS,itemIds:[null!==(n=o.id)&&void 0!==n?n:""],itemType:"boardsection"})),t((0,c.Tq)(e,"pin_count")),t(p(null!==(a=i.id)&&void 0!==a?a:"",o)),t((0,u.vX)({feedId:null!==(d=i.id)&&void 0!==d?d:"",feedType:r.Z.BOARD_SECTIONS,itemIds:[null!==(l=o.id)&&void 0!==l?l:""],itemType:"boardsection"})),t((0,c.Tq)(e,"pin_count"))):t({type:"SECTION_UPDATED",payload:{boardId:e,section:o}})}}(e,t)),s((0,_.jB)("BoardSectionsRepinResource",{board_id:e})),t}))}function y(e,o,t){return s=>(0,i.Z)({url:`/v3/board/sections/${o}/merge/${t}/`,method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then((i=>Promise.all([s(f(e,o)),s((0,_.jB)("BoardSectionsRepinResource",{board_id:e})),s(I(t)),s((0,u.N8)(r.Z.BOARD_SECTION_PINS,t))]).then((()=>i))))}const A=(e,o)=>({type:"BOARD_SECTION_EDIT",payload:o}),S=(e,o)=>t=>l.Z.create("BoardSectionEditResource",{...o,section_id:e}).callCreate().then((e=>(t(A(0,o)),e.resource_response.data))),v=e=>o=>{const t={section_id:e};return l.Z.create("BoardSectionResource",t).callGet().then((e=>{var t;const r=(null===(t=e.resource_response)||void 0===t?void 0:t.data)||{id:"",title:""};return o(A(0,r)),e}))},T=(e,o,t,r)=>i=>{const s=l.Z.create("BoardSectionEditResource",{section_id:o}).callDelete();return i(((e,o,t,r)=>({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:o,boardId:t,pinCount:r}}))(e,o,t,r)),s},g=(e,o,t)=>i=>{const s={board_id:e,initial_pins:o,name:t},c="BoardSectionResource";return l.Z.create(c,s).callCreate().then((t=>{const a=t.resource_response.data,l=(0,d.Fv)(a,n.Z[c]);return i((0,_.XM)(c,s,t,l)),i(p(e,a)),i((0,u.vX)({feedId:e,feedType:r.Z.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),o.length&&i({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:a.id},pinIds:o}}),t}))},B=e=>o=>{const{source:t,target:r,pinIds:i}=e;if(o({type:"PINS_MOVE",payload:e}),t.boardlessPins||r.boardId!==t.boardId){const e={board_id:r.boardId,pin_ids:i,section_id:r.sectionId},o="BulkEditResource";return l.Z.create(o,e).callUpdate()}if(r.sectionId){const e={section_id:r.sectionId,pins:i},t="BoardSectionEditResource";return l.Z.create(t,e).callUpdate().then((r=>{const i=(0,d.Fv)(r.resource_response.data,n.Z[t]);return o((0,_.XM)(t,e,r,i)),r}))}const s={section_id:t.sectionId,pins:i};return l.Z.create("BoardSectionPinsResource",s).callDelete()},O=e=>o=>{o({type:"PINS_MOVE_ALL",payload:e});const{source:t,target:r,excludePinIds:i}=e,s={board_id:t.boardId,new_board_id:r.boardId,pin_ids:i,old_section_id:t.sectionId,new_section_id:r.sectionId};return l.Z.create("BulkEditSelectAllResource",s).callUpdate()},P=(e,o,t,r)=>i=>i(g(e,[],o)).then((o=>{const s=o.resource_response.data.id;return i(O({source:{boardId:e,sectionId:r},target:{boardId:e,sectionId:s},excludePinIds:t}))}))},563339:(e,o,t)=>{t.d(o,{Z:()=>b,S:()=>_});var r=t(492583),i=t(214494),s=t(254176),n=t(678638),c=t(124237);const a=e=>o=>{c.Z.showError(function(e,o){switch(e.api_error_code){case 2171:case 2172:case 2173:return o.bt("Attendi fino al termine dell'azione della bacheca precedente.", "Please wait until the previous board action finishes.", " - ", undefined, true);default:return e.message}}(o,e))};var d=t(956800);const l=e=>(0,d.N8)(e.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,e.sectionId||e.boardId);function u(e,o){const{source:t,target:r}=e;r.boardId!==t.boardId?(o((0,s.Tq)(t.boardId,"pin_count")),o((0,s.Tq)(r.boardId,"pin_count"))):t.sectionId&&r.sectionId||o((0,s.Tq)(r.boardId,"pin_count")),t.sectionId&&o((0,n.CE)(t.sectionId)),r.sectionId&&o((0,n.CE)(r.sectionId))}function _(e){return o=>{const{selectedPinIds:t,source:i,target:s}=e;o((0,d.EX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,itemIds:t,itemType:"pin"})),o((0,d.vX)({feedId:s.sectionId||s.boardId,feedType:s.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,itemIds:t,itemType:"pin"})),u(e,o)}}function b(e,o){return t=>function(e,o,t){const{inverseSelection:s,selectedPinIds:n,source:c,target:u,orbacSubjectId:_}=e;if(c.boardId===u.boardId&&(c.sectionId||null)===(u.sectionId||null))return Promise.reject();if(s){const e={board_id:c.boardId,new_board_id:u.boardId,old_section_id:c.sectionId||void 0,new_section_id:u.sectionId||void 0,pin_ids:n,orbac_subject_id:_};return i.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then((()=>Promise.all([o(l(c)),o(l(u))]))).catch(a(t))}{const e=(e,t)=>{o((0,d.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,itemIds:n,itemType:"pin"})),o((0,d.vX)({feedId:t.sectionId||t.boardId,feedType:t.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,itemIds:n,itemType:"pin"}))};e(c,u);const s=()=>e(u,c);if(u.boardId===c.boardId){if(u.sectionId){const e={section_id:u.sectionId,pins:n,orbac_subject_id:_};return i.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch((e=>{s(),a(t)(e)}))}{const e={section_id:c.sectionId,pins:n,orbac_subject_id:_};return i.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch((e=>{s(),a(t)(e)}))}}{const e={board_id:u.boardId,section_id:u.sectionId||void 0,pin_ids:n,orbac_subject_id:_};return i.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch((e=>{s(),a(t)(e)}))}}}(e,t,o).then((()=>u(e,t)))}},488769:(e,o,t)=>{t.d(o,{Z:()=>n});var r=t(898781),i=t(883119),s=t(785893);const n=function({type:e}){const o=(0,r.ZP)(),t={group:{accessibilityLabel:o.bt("bacheca di gruppo", "group board", "Board picker group board icon", undefined, true),icon:"people"},protected:{accessibilityLabel:o.bt("bacheca protetta", "protected board", "Board picker protected board icon", undefined, true),icon:"protect"},secret:{accessibilityLabel:o.bt("bacheca segreta", "secret board", "Board picker secret board icon", undefined, true),icon:"lock"},sections:{accessibilityLabel:o.bt("bacheca con sezioni", "board with sections", "Board picker board with sections icon", undefined, true),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:o.bt("bacheca con sezioni", "board with sections", "Board picker board with sections icon", undefined, true),icon:"arrow-down"}}[e];return(0,s.jsx)(i.xu,{marginStart:1,children:(0,s.jsx)(i.xu,{marginStart:2,children:"sections"===e||"sectionsInline"===e?(0,s.jsx)(i.JO,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:"12",color:"default"}):(0,s.jsx)(i.JO,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:16,color:"default"})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/81164.it-fa065e6f0233690e.mjs.map