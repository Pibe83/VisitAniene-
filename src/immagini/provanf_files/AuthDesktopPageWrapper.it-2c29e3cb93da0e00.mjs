(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[16115,33312,24525,74513],{737811:e=>{var t,n,s={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[t,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};s.hash="ba7787ee8344e34b151f6a5f633c4170",e.exports=s},939971:e=>{var t,n,s={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarketingPixelQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetThirdPartyTrackingSettingsQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,concreteType:"PrivacyPolicyRules",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sendEventsToFacebook",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sendPixel",storageKey:null}],storageKey:null}],type:"V3GetThirdPartyTrackingSettings",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MarketingPixelQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetThirdPartyTrackingSettingsQuery",plural:!1,selections:[t,{kind:"InlineFragment",selections:[n],type:"V3GetThirdPartyTrackingSettings",abstractKey:null}],storageKey:null}]},params:{id:"0af0ebc3d1bdfa898b3fb7209156a29f43e45a5762ade8f5909b21f8930336ca",metadata:{},name:"MarketingPixelQuery",operationKind:"query",text:null}};s.hash="4cbfbeb13b6d75d6f6b35f16cd250f54",e.exports=s},727561:(e,t,n)=>{var s=n(567990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,s(e)+1).replace(i,""):e}},567990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var s=n(513218),i=n(707771),o=n(14841),r=Math.max,a=Math.min;e.exports=function(e,t,n){var l,c,d,u,p,h,_=0,g=!1,m=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,s=c;return l=c=void 0,_=t,u=e.apply(s,n)}function f(e){return _=e,p=setTimeout(b,t),g?v(e):u}function y(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-_>=d}function b(){var e=i();if(y(e))return w(e);p=setTimeout(b,function(e){var n=t-(e-h);return m?a(n,d-(e-_)):n}(e))}function w(e){return p=void 0,x&&l?v(e):(l=c=void 0,u)}function S(){var e=i(),n=y(e);if(l=arguments,c=this,h=e,n){if(void 0===p)return f(h);if(m)return clearTimeout(p),p=setTimeout(b,t),v(h)}return void 0===p&&(p=setTimeout(b,t)),u}return t=o(t)||0,s(n)&&(g=!!n.leading,d=(m="maxWait"in n)?r(o(n.maxWait)||0,t):d,x="trailing"in n?!!n.trailing:x),S.cancel=function(){void 0!==p&&clearTimeout(p),_=0,l=h=c=p=void 0},S.flush=function(){return void 0===p?u:w(i())},S}},707771:(e,t,n)=>{var s=n(555639);e.exports=function(){return s.Date.now()}},14841:(e,t,n)=>{var s=n(727561),i=n(513218),o=n(733448),r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):r.test(e)?NaN:+e}},442279:(e,t)=>{function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){return e===t}function i(e){var t=arguments.length<=1||void 0===arguments[1]?s:arguments[1],n=null,i=null;return function(){for(var s=arguments.length,o=Array(s),r=0;r<s;r++)o[r]=arguments[r];return null!==n&&n.length===o.length&&o.every((function(e,s){return t(e,n[s])}))||(i=e.apply(void 0,o)),n=o,i}}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function r(e){for(var t=arguments.length,s=Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var a=0,l=i.pop(),c=o(i),d=e.apply(void 0,[function(){return a++,l.apply(void 0,arguments)}].concat(s)),u=function(e,t){for(var s=arguments.length,i=Array(s>2?s-2:0),o=2;o<s;o++)i[o-2]=arguments[o];var r=c.map((function(n){return n.apply(void 0,[e,t].concat(i))}));return d.apply(void 0,n(r))};return u.resultFunc=l,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}var a=t.P1=r(i)},187345:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),i=n(319915),o=n(947599),r=n(187178),a=n(616550),l=n(780280),c=n(785893);const d=(0,s.lazy)((()=>n.e(68583).then(n.bind(n,468583))));function u(e){const{removeInSiteFeedbackModal:t,submitInSiteFeedback:n,inSiteFeedback:s}=(0,r.y)(),{actionFrom:u,isSubmitting:p,modalOpen:h,modalTitle:_,nextPageToRedirect:g,prompt:m,submissionComplete:x,submissionFailure:v}=s,f=(0,a.useLocation)(),y=(0,l.B)();return h?(0,c.jsx)(i.Z,{name:"SafeSuspense_InSiteFeedbackManager_InSiteFeedbackManagerInternal",children:(0,c.jsx)(o.Z,{children:(0,c.jsx)(d,{...e,actionFrom:u,hideModal:()=>t(),isSubmitting:p,location:f,modalOpen:h,nextPageToRedirect:g,prompt:m,requestContext:y,submissionComplete:x,submissionFailure:v,submitFeedback:e=>n(e),title:_})})}):null}},268469:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(898781),i=n(349700),o=n(883119),r=n(785893);const a=()=>{const e=(0,s.ZP)();return(0,r.jsx)(o.J0,{iconAccessibilityLabel:e.bt("Messaggio informativo", "Info message", "header.accountsOptionsMenu.info.icon", undefined, true),message:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,i.nk)(e.bt("Business Access {{ isNow }} Manager aziendale {{ restOfMsg }}", "Business Access {{ isNow }} Business Manager {{ restOfMsg }}", "header.accountsOptionsMenu.newEntryPtBold", undefined, true),{isNow:(0,r.jsx)(o.xv,{inline:!0,children:e.bt("ora è", "is now", "header.accountsOptionsMenu.newEntryPtIsNow", undefined, true)}),restOfMsg:(0,r.jsx)(o.xv,{inline:!0,children:e.bt("e ora è disponibile nel menu a discesa Azienda.", "and can now be found in the Business drop-down menu.", "header.accountsOptionsMenu.newEntryPtRestOfMsg", undefined, true)})})}),type:"info"})}},219286:(e,t,n)=>{function s(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}n.d(t,{Z:()=>s})},237056:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(773285),i=n(50286);const o=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function r(e){const t=(0,i.HG)(),{checkExperiment:n}=(0,s.F)(),r=o[t?"dweb":"mweb"];return e&&(n("sce_lightswitch_organic"),n("sce_lightswitch_monetized")),n(r.organic).anyEnabled||n(r.monetized).anyEnabled}},90053:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),i=n(72809),o=n(19121),r=n(444445),a=n(65675),l=n(366428),c=n(883119),d=n(785893);function u({contextLogData:e,dominantColor:t,handleReport:n,height:u,id:p,image:h,isDarkRep:_=!1,isHovered:g,name:m,onMouseEnter:x,onMouseLeave:v,onTap:f,searchBoxRenderStopwatch:y,slotIndex:b,url:w,viewParameter:S,viewType:I,width:P}){const A=(0,l.Z)({contextLogData:e,impressionType:"Article",loggingId:p,slotIndex:b,viewParameter:S,viewType:I}),T=(0,o.Z)(),[C,j]=(0,s.useState)(!1),E=C||g,k=u||80;let R,D;!P||P>=200?(R=3,D="300"):P>=150?(R=2,D="200"):(R=2,D="100");const Z=()=>{x?x():j(!0)},L=()=>{v?v():j(!1)};return(0,d.jsx)(c.xu,{height:k,ref:A,width:P||"100%",children:(0,d.jsx)(c.zd,{wash:!_,rounding:4,children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:_?{__style:{backgroundColor:E?"var(--color-gray-roboflow-600)":"var(--color-gray-roboflow-700)"}}:{__style:E?a.A.lightHoverOverlay:{}},children:(0,d.jsx)(c.st,{children:(0,d.jsxs)(c.iP,{href:w,onBlur:L,onFocus:Z,onMouseEnter:Z,onMouseLeave:L,onTap:f,role:"link",rounding:4,children:[(0,d.jsxs)(c.kC,{direction:"row",children:[(0,d.jsx)(c.zd,{height:k,wash:!0,width:k,children:(0,d.jsx)(c.Ee,{alt:m,color:t,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{null==y||y.stop()},src:h})}),(0,d.jsx)(c.xu,{alignItems:"center",display:"flex",maxHeight:k,maxWidth:P?P-k:r.yF-80,padding:4,children:(0,d.jsx)(c.xv,{color:_?"light":void 0,lineClamp:R,size:D,weight:"bold",children:m})})]}),n&&T.isAuth&&T.isEmployee?(0,d.jsx)(c.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,d.jsx)(i.Z,{handleReport:n,imgSignature:h,isVisible:null!=E&&E})}):null]})})})})})}},299487:(e,t,n)=>{n.d(t,{Z:()=>_});var s=n(56641),i=n(366284);let o;const r={},a="https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",l="https://assets.pinterest.com/ext/Pinterest_Firefox.xpi",c="https://safari-extensions.apple.com/details/?id=com.pinterest.extension-HWZFLG9PNK",d="https://about.pinterest.com/assets/ext/Pinterest-IE-0.0.4.exe",u="https://addons.opera.com/en/extensions/details/pinterest-8/?display=en",p="https://microsoftedge.microsoft.com/addons/detail/pinterest-save-button/bkgoflemacdadndiohhdnphcmdhacabg/",h={[i.oi.CHROME]:{url:a,newWindow:!0},[i.oi.FIREFOX]:{url:l,newWindow:!1},[i.oi.SAFARI]:{url:c,newWindow:!0},[i.oi.IE]:{url:d,newWindow:!1},[i.oi.OPERA]:{url:u,newWindow:!0},[i.oi.EDGE]:{url:p,newWindow:!0}};r.handleExtensionInstall=(e,t)=>{const n=(0,i.u$)(e),o=function(e){return e?h[e].url:void 0}(n);o&&((0,s.Z)(o,function(e){return e?h[e].newWindow:void 0}(n)),t())},r.isExtensionInstalled=()=>o,r.isBrowserExtensionSupported=e=>(0,i.i7)(e)||(0,i.vU)(e)||(0,i.un)(e),r.extensionReady=(e,t=100)=>new Promise((n=>{setTimeout((()=>{document.body&&(o=document.body.hasAttribute("data-pinterest-extension-installed"),r.isBrowserExtensionSupported(e)||(o=!0),n(o))}),t)})),r.initBrowserExtension=()=>{Promise.resolve().then(n.bind(n,422722)).then((({default:e})=>{e.logToServer(e.SERVER_LOG_TYPE.BROWSER_EXTENSION,e.HTTP_METHOD.POST,{browser_extension_installed:o})}))};const _=r},199324:(e,t,n)=>{n.d(t,{Z:()=>s});const s=["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto","Oxygen-Sans","Ubuntu","Cantarell",'"Fira Sans"','"Droid Sans"','"Helvetica Neue"',"Helvetica",'"ヒラギノ角ゴ Pro W3"','"Hiragino Kaku Gothic Pro"',"メイリオ","Meiryo",'"ＭＳ Ｐゴシック"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},987835:(e,t,n)=>{n.d(t,{Z:()=>se});var s=n(667294),i=n(333312),o=n(268469),r=n(506708),a=n(761038),l=n(321611),c=n(966224),d=n(663709),u=n(898781);function p(){const e=(0,u.ZP)();return{addAccount:{value:"add-account",label:e.bt("Aggiungi account", "Add account", "header.accountsOptionsMenu.addSecondaryAccountButton", undefined, true)},businessAccess:{value:"business-access",label:e.bt("Business Access", "Business Access", "Link to business Access Landing Page", undefined, true)},businessAccount:e=>({value:`business-account-${e.id}`,label:e.username}),contentClaiming:{value:"content-claiming",label:e.bt("Portale per la rivendicazione dei contenuti", "Content claiming portal", "header.accountsOptionsMenu.contentManagementPortal", undefined, true)},convertToBusiness:{value:"convert-to-business",label:e.bt("Converti in un account per aziende", "Convert to business", "header.accountsOptionsMenu.addAccountButton", undefined, true)},currentAccount:{value:"current-account",label:e.bt("Account attuale", "Current account", "SwitchAccountsList.CurrentlyInItem", undefined, true)},failedAccount:{value:"failed-account",label:e.bt("Impossibile accedere a questo account.", "Failed to log into this account", "header.accountsOptionsMenu.failedAccountItem", undefined, true)},getHelp:{value:"get-help",label:e.bt("Chiedi aiuto", "Get help", "header.accountsOptionsMenu.getHelp", undefined, true)},homefeedTuner:{value:"homefeed-tuner",label:e.bt("Migliora il feed", "Tune your home feed", "header.accountsOptionsMenu.homefeedTuner", undefined, true)},installApp:e=>({value:"install-app",label:e}),lbaAccountSwitch:e=>({value:`lba-account-switch-${e.id}`,label:e.username}),logOut:{value:"log-out",label:e.bt("Esci", "Log out", "header.accountsOptionsMenu.logout", undefined, true)},parentAccount:e=>({value:`parent-account-${e.id}`,label:e.username}),termsOfService:{value:"tos-policy",label:e.bt("Consulta i termini di servizio", "See terms of service", "header.accountsOptionsMenu.termsOfService", undefined, true)},privacyPolicy:{value:"privacy-policy",label:e.bt("Consulta le norme sulla privacy", "See privacy policy", "header.accountsOptionsMenu.Privacy", undefined, true)},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e.bt("Centro segnalazioni e violazioni", "Reports and violations center", "header.accountsOptionsMenu.reportsAndViolationsCenter", undefined, true)},reportBug:{value:"report-bug",label:e.bt("Segnala un bug", "Report a bug", "header.accountsOptionsMenu.reportBug", undefined, true)},settings:{value:"settings",label:e.bt("Impostazioni", "Settings", "header.accountsOptionsMenu.settings", undefined, true)},settingsPrivacy:{value:"settingsPrivacy",label:e.bt("I tuoi diritti sulla privacy", "Your privacy rights", "header.accountsOptionsMenu.settingsPrivacy.label", undefined, true)},adsSupport:{value:"ads-support",label:e.bt("Supporto per annunci", "Ads support", "header.accountsOptionsMenu.adsSupport", undefined, true)},requestFeature:{value:"request-a-feature",label:e.bt("Richiedi una funzionalità", "Request a feature", "header.accountsOptionsMenu.requestAFeature", undefined, true)},pinterestTvStudio:{value:"pinterest-tv-studio",label:e.bt("Pinterest TV Studio", "Pinterest TV Studio", "Link to Pinterest Tv Creator Studio", undefined, true)},betaTester:{value:"be-a-beta-tester",label:e.bt("Diventa un tester beta", "Be a beta tester", "header.accountsOptionsMenu.beBetaTesterProgram", undefined, true)}}}var h=n(551327),_=n(809603),g=n(662499),m=n(458451),x=n(56641),v=n(66699),f=n(112690),y=n(30287),b=n(966113);const w=["chrome","windows"];var S=n(946984),I=n(784590),P=n(19121),A=n(883119),T=n(273712),C=n(407043),j=n(773285),E=n(573991),k=n(780280),R=n(785893);function D({onDismiss:e,advertiser:t,showAdsSupportOption:n,isWwwSite:i}){var D,Z;const L=(0,P.Z)(),M=(0,u.ZP)(),{logContextEvent:O}=(0,C.v)(),{isLoaded:z,data:B}=(0,I.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),N=(0,k.B)(),{country:F,countryFromIp:H,isAuthenticated:U}=N,q=U&&T.gs.indexOf(F)>-1||T.gs.indexOf(H)>-1,{content_claiming_access:W=!1}=B||{},{handleShowReportBugModal:G}=(0,E.Z)(),V=(0,h.Z)(),$=function(){const e=(0,u.ZP)(),t=(0,s.useContext)(g.Z),n=(0,y.kM)(window,t),i=(0,f.Z)(),o=e=>{i({component:247,element:e,event_type:101})},r=()=>{if("windows"===n)o(11409),(0,x.Z)(`${b.TM}&cid=flyout_cta`,!0);else if("chrome"===n&&t){const e=t();e&&(o(11410),e.prompt())}},a=(0,v.Z)(e.bt("Installa l'app {{appName}}", "Install the {{appName}} app", "header.accountsOptionsMenu.installApp", undefined, true),{appName:(0,m.Z)(n)});return w.includes(n)?{onClick:r,text:a}:null}(),{checkExperiment:Y}=(0,j.F)(),K=L.isAuth&&!!L.isEmployee,X=!!L.isAuth&&L.isPartner,J=!!L.isAuth&&!L.isLimitedLogin,Q=(0,S.Z)(),{fetchedUserAccounts:ee,handleAccountRepClick:te,handleAddSecondaryAccount:ne,handleClick:se,handleLinkedAccountSwitch:ie,handleUnlockBusinessTools:oe,isLoading:re,showUnlockBusinessTools:ae}=(0,_.Z)(e,i),le=p(),{anyEnabled:ce}=Y("web_pinterest_tv_creator_studio_entry_points"),{anyEnabled:de}=Y("digital_services_act_portal");let ue=!1;if(X){const{anyEnabled:e}=Y("aid_exp_ia_navigation_update_overflow");ue=e}let pe=ee.filter((e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness));const he=ee.find((e=>e.id===(L.isAuth&&L.id)));L.isAuth&&(null===(D=L.partner)||void 0===D?void 0:D.is_linked_business)&&(pe=pe.sort((e=>{var t;return null!=he&&null!==(t=he.owners)&&void 0!==t&&t.some((t=>t.id===e.id))?-1:1})));const _e=(0,d.Z)({isUnder16:!!L.isAuth&&L.isUnder16,isPrivateProfile:!!L.isAuth&&L.isPrivateProfile,isMWebExperiment:!1}),ge=!_e||_e&&(pe.length>1||1===pe.length&&pe[0].businesses.length>0),me=re&&(0,R.jsx)(c.Z,{}),xe=null!=he&&null!==(Z=he.businesses)&&void 0!==Z&&Z.length?he.businesses.map((e=>L.id!==e.id&&(0,R.jsx)(A.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ie(e,he.id),option:le.lbaAccountSwitch(e),children:(0,R.jsx)(a.Z,{user:e},e.id)},e.id))):null,ve=pe.map((e=>{var t;return e.id!==(L.isAuth&&L.id)?[(0,R.jsx)(A.Lt.Item,{onSelect:()=>te(e),option:le.parentAccount(e),children:(0,R.jsx)(a.Z,{user:e,isCurrentAccount:(L.isAuth&&L.id)===e.id})},e.id),...null!=e&&null!==(t=e.businesses)&&void 0!==t&&t.length?e.businesses.map((t=>L.id!==t.id&&(0,R.jsx)(A.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ie(t,e.id),option:le.businessAccount(t),children:(0,R.jsx)(a.Z,{user:t},t.id)},t.id))):[]]:null})),fe=i&&(0,R.jsx)(A.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:ne,option:le.addAccount}),ye=(0,R.jsx)(A.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:ne,option:le.addAccount}),be=ae&&(0,R.jsx)(A.Lt.Item,{dataTestId:"header-menu-business-account",onSelect:oe,option:le.convertToBusiness}),we=z&&W&&(0,R.jsx)(A.Lt.Link,{href:"/content-claiming",onClick:()=>se(13606),option:le.contentClaiming}),Se=K&&(0,R.jsx)(A.Lt.Item,{onSelect:()=>{G(),se(13607),e()},option:le.reportBug}),Ie=(0,R.jsx)(A.Lt.Link,{dataTestId:"header-menu-options-settings",onClick:({event:e})=>{if(Q)return e.stopPropagation(),void Q();se(247)},href:J?`https://${(0,r.Z)()}/settings`:"",option:le.settings}),Pe=Y("aid_exp_business_manager_dropdown_entrypoint").anyEnabled;let Ae=null;X&&(Ae=Pe?(0,R.jsx)(o.Z,{}):(0,R.jsx)(A.Lt.Link,{onClick:()=>se(11719),href:`https://${(0,r.Z)()}/business/business-access/`,dataTestId:"header-menu-options-business-access",option:le.businessAccess}));const Te=!q&&X&&ce&&(0,R.jsx)(A.Lt.Link,{onClick:()=>{O({event_type:10218,view_type:588,element:13290,aux_data:{elementId:"header-menu-options-creator-studio"}}),se(13290)},href:`https://${(0,r.Z)()}/tv/studio/`,dataTestId:"header-menu-options-creator-studio",badge:{text:"Beta",type:"info"},option:le.pinterestTvStudio}),Ce=(0,R.jsx)(A.Lt.Link,{onClick:({event:e})=>{if(Q)return e.stopPropagation(),void Q();se(11345)},href:J?"/edit":"",option:le.homefeedTuner}),je=!X&&$?(0,R.jsx)(A.Lt.Item,{onSelect:()=>{$.onClick(),e()},option:le.installApp($.text)}):null,Ee=(0,R.jsx)(A.Lt.Link,{dataTestId:"header-menu-options-privacy",option:le.settingsPrivacy,onClick:({event:e})=>{if(Q)return e.stopPropagation(),void Q();se(13334)},href:J?`https://${(0,r.Z)()}/settings/privacy`:""}),ke=de?(0,R.jsx)(A.Lt.Link,{onClick:({event:e})=>{if(Q)return e.stopPropagation(),void Q();se(14618)},href:J?"/reports-and-violations":"",option:le.reportsAndViolationsCenter}):null,Re=X&&n&&(De=7,!t||(0,l.Z)((t||{}).actions||[],De))&&(0,R.jsx)(A.Lt.Link,{dataTestId:"header-menu-options-ads-support",isExternal:!0,onClick:()=>se(10106),href:b.Jb,option:le.adsSupport});var De;const Ze=X?(0,R.jsx)(A.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",isExternal:!0,onClick:()=>se(11345),href:b.W3+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",option:le.requestFeature}):null,Le=(0,R.jsx)(A.Lt.Link,{dataTestId:"header-menu-options-help",isExternal:!0,onClick:()=>se(8002),href:`${b.gO}?source=gear_menu_web`,option:le.getHelp}),Me=(0,R.jsx)(A.Lt.Link,{dataTestId:"header-menu-options-tos",isExternal:!0,onClick:()=>se(61),href:b.dQ,option:le.termsOfService}),Oe=(0,R.jsx)(A.Lt.Link,{dataTestId:"header-menu-options-policy",isExternal:!0,onClick:()=>se(8004),href:b.R_,option:le.privacyPolicy}),ze=(0,R.jsx)(A.Lt.Link,{dataTestId:"header-menu-options-beta-tester",isExternal:!0,onClick:()=>se(13613),href:b.LO,option:le.betaTester}),Be=(0,R.jsx)(A.Lt.Item,{dataTestId:"header-menu-options-logout",onSelect:V,option:le.logOut}),Ne=ge?(0,R.jsxs)(A.Lt.Section,{label:M.bt("I tuoi account", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true),children:[me,xe,ve,!_e&&fe,!_e&&be]},"your-accounts"):null,Fe=(0,R.jsxs)(A.Lt.Section,{label:M.bt("I tuoi account", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true),children:[me,xe,ve,!_e&&ye,!_e&&be,Ie,Ae]},"your-accounts"),He=(0,R.jsxs)(A.Lt.Section,{label:M.bt("Contenuto", "Content", "header.accountsOptionsMenu.contentHeader", undefined, true),children:[we,ke,Te,je]}),Ue=(0,R.jsxs)(A.Lt.Section,{label:M.bt("Guida", "Help", "header.accountsOptionsMenu.helpHeader", undefined, true),children:[Le,Re,Ze,Se]}),qe=(0,R.jsxs)(A.Lt.Section,{label:M.bt("Privacy", "Privacy", "header.accountsOptionsMenu.privacyHeader", undefined, true),children:[Oe,Ee]}),We=(0,R.jsxs)(A.Lt.Section,{label:"",children:[Me,Be]}),Ge=(0,R.jsxs)(A.Lt.Section,{label:M.bt("Altre opzioni", "More options", "header.accountsOptionsMenu.optionsHeader", undefined, true),children:[we,ke,Se,Ie,Ae,Te,Ce,je,Ee,Re,Ze,Le,Me,Oe,ze,Be]});return{yourAccount:ue?Fe:Ne,moreOptions:ue?[He,Ue,qe,We]:Ge}}var Z=n(842469),L=n(781153),M=n(170168);function O({anchor:e,onDismiss:t,advertiser:n,showAccountSwitcher:s,showAdsSupportOption:i,isWwwSite:o}){var r;const l=(0,P.Z)(),c=(0,u.ZP)(),{failedAccount:d,fetchedUserAccounts:h,handleAccountRepClick:g,handleLinkedAccountSwitch:m,handleReauthAccount:x,handleRemoveUnauthAccount:v}=(0,_.Z)(t,o),f=p(),y=h.find((e=>e.id===(l.isAuth&&l.id))),b=l.isAuth&&(null===(r=l.partner)||void 0===r?void 0:r.is_linked_business),{yourAccount:w,moreOptions:S}=D({onDismiss:t,advertiser:n,showAdsSupportOption:i,isWwwSite:o});return(0,R.jsx)(L.Z,{children:(0,R.jsxs)(A.Lt,{anchor:e,idealDirection:"down",onDismiss:t,id:"HeaderAccountOptionsFlyout",zIndex:new A.Ry(1e3),isWithinFixedContainer:!0,children:[s&&(d?(0,R.jsxs)(A.Lt.Section,{label:c.bt("Oh, no! Non sei più collegato", "Oh no! You're no longer logged into", "header.accountsOptionsMenu.failedAccount", undefined, true),children:[(0,R.jsx)(A.Lt.Item,{onSelect:()=>{},option:f.failedAccount,children:(0,R.jsx)(a.Z,{user:d})}),(0,R.jsx)(Z.Z,{failedAccount:d,handleReauthAccount:x,handleRemoveUnauthAccount:v})]}):[(0,R.jsx)(A.Lt.Section,{label:c.bt("Accesso effettuato con:", "Currently in", "SwitchAccountsList.CurrentlyInTitle", undefined, true),children:!!y&&(0,R.jsx)(A.Lt.Item,{onSelect:()=>b?m(y,void 0):g(y),option:f.currentAccount,selected:f.currentAccount,children:(0,R.jsx)(A.rU,{href:o?`/${y.username}/`:`${M.C0}/${y.username}/`,underline:"none",children:(0,R.jsx)(a.Z,{user:y,isCurrentAccount:!0})})})},"currently-in"),w]),S]})})}var z=n(941646),B=n(142644),N=n(977558),F=n(53987),H=n(319915),U=n(947599),q=n(425288);const W=(0,s.lazy)((()=>n.e(93209).then(n.bind(n,893209)))),{Provider:G}=(0,q.Z)("LinkedBusinessAccountConfirmationModal");function V({children:e,onDismiss:t}){const[n,i]=(0,s.useState)(!1),o=(0,s.useMemo)((()=>({showLinkedBusinessAccountConfirmationModal:()=>{i(!0)}})),[]);return(0,R.jsxs)(s.Fragment,{children:[(0,R.jsx)(G,{value:o,children:e}),n&&(0,R.jsx)(H.Z,{name:"SafeSuspense_LinkedBusinessAccountConfirmationModalContextProvider_LinkedBusinessAccountConfirmationModal",children:(0,R.jsx)(U.Z,{children:(0,R.jsx)(W,{onDismiss:()=>{i(!1),t()}})})})]})}var $=n(539278),Y=n(883521),K=n(343341),X=n(307593);const J="MOBILE",Q="DESKTOP",ee=e=>[J,Q].includes(e),te=e=>"STERLING"===e;var ne=n(616550);function se({currentSite:e,isSterlingOnSteroids:t,isAdsNavMenuEnabled:n,advertiser:o}){const r=(0,u.ZP)(),{showAccountMenuFlyout:a,updateHeaderState:l}=(0,Y.J)(),c=e=>{l({type:e?"showAccountMenuFlyout":"hideAccountMenuFlyout"})},[d,p]=(0,s.useState)(!1),h=(0,ne.useHistory)(),_=(0,P.Z)(),g=(0,I.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:_.isAuth?_.id:""}}),m=(0,s.useRef)(),x=ee(e)&&!t||"ANALYTICS"===e||te(e);const v=te(e)||n,f=(0,ne.useLocation)(),y=(0,K.F9)();(0,s.useEffect)((()=>{(0,$.rL)({showOneToast:y.showOneToast,i18n:r,location:f,history:h,username:_.username||"",fullName:_.fullName||"",avatarUrl:_.imageMediumUrl||""})}),[]),(0,s.useEffect)((()=>(_.isAuth&&_.partner&&(0,X.Mt)(_,g.data),()=>{_.isAuth&&_.partner&&(0,X.CV)("flyout.dismiss")})),[]);const b=()=>{c(!1)};(0,s.useEffect)((()=>{var e,t;(null!==(e=null===(t=g.data)||void 0===t?void 0:t.businesses)&&void 0!==e?e:[]).length>0&&p(!0)}),[g]);const{pathname:w}=f,S=!(w.startsWith("/settings")||w.startsWith("/edit"))&&(_.username&&w.startsWith(`/${_.username}`)||w.startsWith("/news_hub"));return(0,R.jsx)(B.T,{children:(0,R.jsx)(E.j,{children:(0,R.jsxs)(V,{onDismiss:b,children:[(0,R.jsx)(A.xu,{ref:m,"data-test-id":"header-accounts-options-button",children:(0,R.jsx)(A.hU,{accessibilityLabel:r.bt("Account e altre opzioni", "Accounts and more options", "header.accountsOptionsMenu.accountsOptionsMenuButton", undefined, true),icon:"arrow-down",iconColor:a?"darkGray":"gray",onClick:()=>{c(!a),p(!1)},size:"xs",tooltip:{accessibilityLabel:"",text:r.bt("Account e altre opzioni", "Accounts and more options", "navbar.actionsOptionsButton.tooltip", undefined, true),zIndex:new A.H3([new A.Ry(N.fe)])}})}),a&&(0,R.jsx)(z.Z,{id:"HeaderAccountsOptionsFlyout",children:(0,R.jsx)(O,{anchor:m.current,onDismiss:b,showAccountSwitcher:x,showAdsSupportOption:v,advertiser:o,isWwwSite:ee(e)})}),d&&(0,R.jsx)(z.Z,{id:"LinkedBusinessAccountFlyout",children:(0,R.jsx)(i.default,{anchor:m.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),(0,F.LO)(f)&&(0,R.jsx)(i.default,{anchor:m.current,idealDirection:"left",experienceIds:[503137],placementId:1000303}),_.isAuth&&!_.partner?(0,R.jsx)(i.default,{anchor:m.current,experienceIds:[503893,503602],onClickComplete:()=>h.push("/settings"),placementId:1000109,showCaret:!0}):null,S&&(0,R.jsx)(i.default,{anchor:m.current,experienceIds:[505283],onClickComplete:()=>{h.push("/settings/privacy/")},placementId:1000109,showCaret:!0,textWeight:"bold",hasFullWidthButton:!1,textAlign:"center",flyoutSize:"md"})]})})})}},761038:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(116303),i=n(898781),o=n(883119),r=n(785893);function a(e){var t;return null!==(t=e.partner)&&void 0!==t&&t.isLinkedBusiness?e.partner.businessName||e.fullName||e.username:e.fullName||e.username}function l(e){const{imageMediumUrl:t}=e;return t&&!t.includes("static/images/user/default")?t:""}function c({user:e,isCurrentAccount:t}){var n,c;const d=(0,i.ZP)(),u=e.partner,p=null===(n=e.partner)||void 0===n?void 0:n.isLinkedBusiness;return(0,r.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginEnd:4,rounding:2,"data-test-id":"HeaderAccountsOptionsMenuAccountRep",children:[(0,r.jsx)(o.xu,{flex:"none",height:60,marginEnd:2,rounding:"circle",width:60,children:(0,r.jsx)(s.Z,{accessibilityLabel:"",name:a(e),src:l(e)})}),(0,r.jsxs)(o.xu,{maxWidth:176,children:[(0,r.jsx)(o.xv,{lineClamp:1,weight:"bold",children:a(e)}),(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,r.jsx)(o.xv,{color:"subtle",size:"200",lineClamp:1,children:u?d.bt("Aziende", "Business", "SwitchAccountsListItem.BusinessAccount.label", undefined, true):d.bt("Personale", "Personal", "SwitchAccountsListItem.PersonalAccount.label", undefined, true)})}),t&&(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,r.jsx)(o.xv,{color:"subtle",size:"200",lineClamp:1,children:p?null===(c=e.partner)||void 0===c?void 0:c.bizOwnershipEmail:e.email})})]})]})}},842469:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(667294),i=n(898781),o=n(883119),r=n(785893);function a({failedAccount:e,handleReauthAccount:t,handleRemoveUnauthAccount:n}){const a=(0,i.ZP)();return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(o.xu,{marginTop:4,children:(0,r.jsx)(o.zx,{fullWidth:!0,text:a.bt("Accedi di nuovo", "Log in again", "header.accountsOptionsMenu.failedAccountLoginButton", undefined, true),color:"red",onClick:t})}),(0,r.jsx)(o.xu,{marginTop:3,children:(0,r.jsx)(o.zx,{fullWidth:!0,text:a.bt("Rimuovi account", "Remove account", "header.accountsOptionsMenu.failedAccountRemoveButton", undefined, true),onClick:()=>n(e.id)})})]})}},551327:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(112690),i=n(19121),o=n(283943),r=n(829281),a=n(884732),l=n(307593);function c(){const e=(0,i.Z)(),t=(0,s.Z)(),n=(0,o.aU)(),c=(0,r.a)(),{headerVisible:d,activeClient:u,changeClient:p}=c||{};return function(){t({event_type:101,component:8,element:8005}),d&&u?p():(0,a.lv)()>1?(e.isAuth&&((0,l.RD)(e.id),(0,l.CV)("utils.user_deleted",{deleted_user:e.id})),n({redirectUrl:"/",source:"user_header",localStorageItems:(0,a.Q)()})):((0,l.CV)("utils.group_deleted"),n({redirectUrl:"/",source:"user_header"}))}}},809603:(e,t,n)=>{n.d(t,{Z:()=>x});var s=n(667294),i=n(124580),o=n(172071),r=n(214494),a=n(85334),l=n(19121),c=n(12610),d=n(142644),u=n(201819),p=n(407043),h=n(616550),_=n(522679),g=n(307593),m=n(966113);function x(e,t){const{flushContextEvents:n,logContextEvent:x}=(0,p.v)(),[v,f]=(0,s.useState)(!1),[y,b]=(0,s.useState)(null),w=(0,h.useHistory)(),S=(0,l.Z)(),{showAccountSwitcherLoginModal:I}=(0,d.g)(),{userAccounts:P}=(0,_.N)(),{data:A}=(0,u.iY)(),T=(0,a.Z)(),C=!(!S.isAuth||S.partner||null==A||!A.businesses)&&0===A.businesses.length;(0,s.useEffect)((()=>(S.isAuth&&(0,g.Mt)(S,A),()=>{(0,g.CV)("flyout.dismiss")})),[]),(0,s.useEffect)((()=>((0,g.CV)("modal.shown"),()=>{(0,g.CV)("modal.dismiss")})),[]),(0,s.useEffect)((()=>{P.length>1&&x({event_type:13,view_type:234,component:13369,element:12722})}),[x,P]);const j=(e,t)=>{throw(0,g.z3)(e,"account_switcher_flyout"),f(!1),t};return{failedAccount:y,fetchedUserAccounts:P,handleAccountRepClick:e=>{S.isAuth&&e.id!==S.id&&(e=>{const{id:t}=e;f(!0),x({event_type:101,component:13369,element:11196}),(0,g.CV)("switch_account_click",{destination_user_id:t},"account_switcher_flyout");const s={get_user:!0,switch_account:t};i.Z.pause(c.LU),n(!0),T({creds:s,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(((n={})=>{var s,i;null!=n&&null!==(s=n.resource_response)&&void 0!==s&&null!==(i=s.data)&&void 0!==i&&i.user?(0,g.iS)("/",t,"account_switcher_flyout"):((0,g.CV)("no_api_access_token",{destination_user_id:t},"account_switcher_flyout"),(0,g.z3)(t,"account_switcher_flyout"),b(e),f(!1))}),(e=>{j(t,e)}))})(e)},handleAddSecondaryAccount:()=>{(0,g.CV)("add_account_click",null,"account_switcher_flyout"),x({event_type:101,component:8,element:12756}),e(),w.push(m.rO)},handleClick:t=>{13290!==t&&x({event_type:101,component:8,element:t}),e()},handleLinkedAccountSwitch:(e,s)=>{const{partner:a}=e;if(f(!0),x({event_type:101,component:13369,element:null!=a&&a.isLinkedBusiness?11195:11194}),i.Z.pause(c.LU),n(!0),null!=a&&a.isLinkedBusiness){const t={business_id:e.id,get_user:!0,owner_id:s};o.Z.increment("web.partner.linked_business_account.switch_account_attempt",1),T({creds:t,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then((t=>{o.Z.increment("web.partner.linked_business_account.switch_account_success",1),(0,g.iS)("/",e.id,"account_switcher_flyout")}),(t=>{j(e.id,t)}))}else r.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then((()=>{S.isAuth&&((0,g.RD)(S.id),(0,g.iS)(t?`/${e.username}`:"/",S.id,"account_switcher_flyout"))}),(e=>{S.isAuth&&j(S.id,e)}))},handleReauthAccount:()=>{(0,g.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),b(null),I("account_switcher_flyout",null==y?void 0:y.email)},handleRemoveUnauthAccount:e=>{(0,g.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,g.RD)(e),b(null)},handleUnlockBusinessTools:()=>{e(),S.isAuth?window.location.href="https://www.pinterest.com/convert-business":w.push(`${m.ms}?utm_source=pinterest&utm_medium=settings&utm_campaign=convert_settings`),x({event_type:101,component:8,element:10299})},isLoading:v,showUnlockBusinessTools:C}}},391254:(e,t,n)=>{n.d(t,{Z:()=>o});n(441143);var s=n(785893);class i{static factory(e){return e instanceof i?e:new i(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function o(e){const{css:t,unsafeCSS:n,...o}=e,r=String(t||"")||n||"";return!!r?(0,s.jsx)("style",{...o,dangerouslySetInnerHTML:{__html:String(i.factory(r))}}):null}},321611:(e,t,n)=>{function s(e,t){return e.includes(t)||e.includes(80)}n.d(t,{Z:()=>s})},663709:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(773285);const i=({isUnder16:e,isPrivateProfile:t,isMWebExperiment:n})=>{const{checkExperiment:i}=(0,s.F)();return!(!e&&!t)&&i(n?"mweb_prevent_acc_switch":"web_prevent_acc_switch").anyEnabled}},941646:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(883119),i=n(785893);function o(e){const{children:t,display:n,id:o}=e;return(0,i.jsx)(s.xu,{"data-test-id":o,display:n,children:t})}},55259:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(794230),i=n(619937);const o={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},r=e=>{let t={};return e&&(t={objectiveTypes:[e]}),t},a={overview:()=>"/",reporting:e=>{const t=e.objectiveType||null;delete e.objectiveType;const n={...e,...r(t)};return(0,s.Z)("/reporting/campaigns/",n)},reportingAdGroup:e=>{const{campaignId:t,objectiveType:n,showAllEntities:i,adGroupId:a,message:l}=e,c=a?{adGroupIds:[a]}:{},d={campaignIds:[t],...i?o:{},...r(n),...c,message:l};return(0,s.Z)("/reporting/adgroups/",d)},campaign:e=>{const{id:t,objectiveType:n}=e;return(0,s.Z)("/reporting/adgroups/",{campaignIds:[t],...r(n)})},editCampaign:e=>e.isAutomatedCampaign?a.editAutomated({campaignId:e.id,view:"campaign"}):a.editV2({campaignId:e.id,view:"campaign"}),adgroup:e=>{const{id:t,objectiveType:n,showAllEntities:i,pinPromotionId:a,campaignId:l}=e;if("TEMPORARY_SHOPPING"===n||"CATALOG_SALES"===n)return(0,s.Z)("/reporting/productgroups/",{adGroupIds:[t],...r(n)});{const e=i?o:{},c=l?{campaignIds:[l]}:{},d=a?{pinPromotionIds:[a]}:{};return(0,s.Z)("/reporting/ads/",{adGroupIds:[t],...r(n),...e,...d,...c})}},editAdGroup:e=>e.isAutomatedCampaign?a.editAutomated({campaignId:e.id,view:"campaign"}):a.editV2({adGroupId:e.id,view:"adgroup"}),pinPromotion:e=>{const{id:t,adFilter:n}=e,i=n?{adFilter:n}:{};return(0,s.Z)("/reporting/ads/",{pinPromotionIds:[t],...i})},editPinPromotion:e=>{const t=e.isCreatingPins?{isCreatingPins:!0}:{},n=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return a.editV2({adGroupId:e.adGroupId,view:"ad",...n,...t})},productGroup:e=>{const{id:t,name:n}=e;return(0,s.Z)("/reporting/productgroups/",{productGroupIds:[t],name:n})},campaigns:()=>"/reporting/campaigns/",adgroups:()=>"/reporting/adgroups/",ads:()=>"/reporting/ads/",productgroups:()=>"/reporting/productgroups/",campaignNegativeKeywords:()=>"/reporting/campaignNegativeKeywords/",campaignSearchQueries:()=>"/reporting/campaignSearchQueries/",adGroupNegativeKeywords:()=>"/reporting/adGroupNegativeKeywords/",adGroupPositiveKeywords:()=>"/reporting/adGroupPositiveKeywords/",adGroupSearchQueries:()=>"/reporting/adGroupSearchQueries/",ad:e=>a.pinPromotion(e),campaignMode:e=>(0,s.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),create:e=>{const{campaignId:t,objectiveType:n,partialCreate:i,catalogsFeedId:o,managedClientId:r,productGroupId:a,resumeLastDraft:l}=e,c={};return t&&i&&(c.campaignId=t),n&&(c.objectiveType=n),"CATALOG_SALES"===n&&o&&(c.catalogsFeedId=o),a&&(c.productGroupId=a),r&&(c.managedClientId=r),l&&(c.resumeLastDraft=!0),(0,s.Z)("/ads/create/",c)},createAutomated:e=>(0,s.Z)("/automated/ads/create/",e),editV2:e=>(0,s.Z)("/ads/edit/",e),editAutomated:e=>(0,s.Z)("/automated/ads/edit/",e),editDraftCampaign:e=>(0,s.Z)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"}),duplicateCampaign:e=>(0,s.Z)("/ads/duplicate/",e),audiences:e=>(0,s.Z)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),audience_debug:()=>"/audience_debug/",prepaid_spend_campaign_breakdown:()=>"/billing/prepaid_spend_campaign_breakdown/",billing:e=>{const{page:t,subSection:n,nextStepUrl:o}=e;switch(t){case i.kM.BILLING_HISTORY:return"/billing/history/";case i.kM.ORDER_LINES:return"/billing/order_lines/";case i.kM.PROMOTIONS:return"/billing/promotions/";case i.kM.DOCUMENTS:return"/billing/documents/";case i.kM.PREPAID_CAMPAIGN_SPEND:return"/billing/prepaid_campaign_spend_summary/";default:const e={};return n&&(e.section=n),o&&(e.next_step_link_url=o),(0,s.Z)("/billing/",e)}},bulk:e=>{const{subSection:t,page:n,jobStarted:o}=e||{};switch(n){case i.fm.UPLOAD_TEMPLATE:return(0,s.Z)("/bulk_editor/upload_template/",{section:t});case i.fm.DOWNLOAD_TEMPLATE:return(0,s.Z)("/bulk_editor/download_template/",{section:t});case i.fm.HISTORY:return(0,s.Z)("/bulk_editor/history/",{section:t,job_started:o});case i.fm.RESOURCES:return(0,s.Z)("/bulk_editor/resources/",{section:t});default:return"/bulk_editor/"}},history:e=>(0,s.Z)("/history/",e),shopping:e=>a.reporting(r("TEMPORARY_SHOPPING")),pinterest_tag:e=>{const{page:t,subSection:n,platform:o,source:r,origin:a}=e;switch(t){case i.qp.PINTEREST_EVENT_HISTORY:return r?(0,s.Z)("/conversions/event-history/",{source:r}):"/conversions/event-history/";case i.qp.CONVERSION_HEALTH:return"/conversions/health/";case i.qp.PINTEREST_TAG:return(0,s.Z)("/conversions/tag/",{subPage:n,platform:o});case i.qp.PINTEREST_TAG_MANUAL_SETUP_FLOW:return"/conversions/tag_manual_setup/";case i.qp.PINTEREST_TAG_EVENTS:return"/conversions/tag-events/";case i.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case i.qp.CONVERSION_UPLOAD:return(0,s.Z)("/conversions/upload/",{subPage:n});case i.qp.UPLOAD_HISTORY:return(0,s.Z)("/conversions/history/",{subPage:n});case i.qp.PCA_UPLOAD_HISTORY:return(0,s.Z)("/conversions/pca_history/",{subPage:n});case i.qp.PCA_UPLOAD:return(0,s.Z)("/conversions/pca_upload/",{subPage:n});case i.qp.CONVERSIONS_API_MANUAL_SETUP_FLOW:return r||a?(0,s.Z)("/conversions/api_manual_setup/",{source:r,origin:a}):"/conversions/api_manual_setup/";case i.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case i.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";default:return"/conversions/tag/"}},"pin-builder":e=>(0,s.Z)("/pin-builder/",e),purchases:()=>a.reporting(r("PURCHASE")),awareness_reserved:()=>a.reporting(r("IMPRESSION")),engagement:()=>a.reporting(r("BILLABLE_ENGAGEMENT")),videos:()=>a.reporting(r("TEMPORARY_BIDDED_CPM_VIDEO")),videos_reserved:()=>a.reporting(r("TEMPORARY_IMPRESSION_VIDEO")),videos_cpv:()=>a.reporting(r("TEMPORARY_MRC_CPV_VIDEO")),conversions:()=>a.reporting(r("WEB_CONVERSION")),accounts_manager:()=>"/accounts_manager/",reporting_preferences:e=>(0,s.Z)("/reporting/preferences/",e),report_builder:e=>(0,s.Z)("/report-center/builder/",e),report_history:e=>(0,s.Z)("/report-center/history/",e),report_unsubscribe:e=>(0,s.Z)("/report-center/unsubscribe/",e),report_download:e=>(0,s.Z)("/report-center/download/",e),media_planner:()=>"/media_planner/",awareness:()=>a.reporting(r("AWARENESS")),traffic:()=>a.reporting(r("TRAFFIC")),app_installs:()=>a.reporting(r("APP_INSTALL")),catalog_sales:()=>a.reporting(r("CATALOG_SALES")),web_conversion:()=>a.reporting(r("WEB_CONVERSION")),video_view:()=>a.reporting(r("VIDEO_VIEW")),quick_promote:e=>(0,s.Z)("/quick-promote/",e),quick_promote_on_www:()=>"/advertiser/quick-promote/",recommendations:e=>(0,s.Z)("/recommendations/",e),catalog_view:()=>"/product-catalogs/data-source",campaign_insights:e=>`/campaign-insights/${e.campaignId}/`},l=a},613316:(e,t,n)=>{function s(e){return[0,24,21,26].includes(e)}function i({articleType:e,id:t,title:n}){const s=n.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${s}/${t}/`:`/discover/article/${s}/${t}/`}n.d(t,{x:()=>i,y:()=>s})},773515:(e,t,n)=>{function s(e){return"object"==typeof e&&null!==e&&"url"in e&&"media"in e}n.d(t,{Z:()=>s})},78714:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(56641),i=n(954931),o=n(867820);const r=(e,t)=>{null!=t&&t.disableOriginCheck||(0,i.Z)(e)||(e="/",(0,o.My)("url_reset")),(0,s.Z)(e)}},924196:(e,t,n)=>{n.d(t,{Z:()=>s});const s={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},904431:(e,t,n)=>{function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});class i{static reportGoogleConversion(e,t,n,s){s||(void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,n):i.queuedGoogleConversions.push({id:e,label:t,url:n}))}static reportFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("track",t,n):window.fbq("track",t):i.queuedFacebookConversions.push({id:e,event:t,data:n})}static reportCustomFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t):i.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n})}static reportPinterestConversion(e,t,n){void 0!==window.pintrk?n?window.pintrk("track",t,n):window.pintrk("track",t):i.queuedPinterestConversions.push({id:e,event:t,data:n})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):i.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("role","presentation"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){const n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("role","presentation"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){const s=1e13*Math.random(),i=document.createElement("iframe");i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("frameborder","0"),i.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${s}?`),i.style.display="none",document.body.insertBefore(i,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){const n=document.createElement("script");t||(n.setAttribute("async",""),n.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),n.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};const n=i.queuedGoogleConversions;for(let s=0;s<n.length;s+=1){const o=n[s];o.id===e&&i.reportGoogleConversion(o.id,o.label,o.url,t)}}),document.body.insertBefore(n,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,s,o,r,a;t=window,n=document,s="script",t.fbq||(o=t.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},t._fbq||(t._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(r=n.createElement(s)).async=!0,r.src="//connect.facebook.net/en_US/fbevents.js",(a=n.getElementsByTagName(s)[0]).parentNode.insertBefore(r,a)),window.fbq("init",e),window.fbq("track","PageView");const l=i.queuedFacebookConversions;for(let c=0;c<l.length;c+=1){const t=l[c];t.id===e&&(t.isCustomEvent?i.reportCustomFacebookConversion(e,t.event,t.data):i.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,n,s,i,o,r;t=window,n=document,s="script",t.twq||((i=t.twq=function(){i.exe?i.exe.apply(i,arguments):i.queue.push(arguments)}).version="1.1",i.queue=[],(o=n.createElement(s)).async=!0,o.src="//static.ads-twitter.com/uwt.js",(r=n.getElementsByTagName(s)[0]).parentNode.insertBefore(o,r)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}(),window.pintrk("load",e),window.pintrk("page");const t=i.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){const s=t[n];s.id===e&&i.reportPinterestConversion(e,s.event,s.data)}}}s(i,"queuedGoogleConversions",[]),s(i,"queuedFacebookConversions",[]),s(i,"queuedPinterestConversions",[]),s(i,"queuedTwitterConversions",[]);const o=i},201819:(e,t,n)=>{n.d(t,{OS:()=>o,iY:()=>r});var s=n(784590),i=n(19121);const o=4;function r(){const e=(0,i.Z)();return(0,s.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.isAuth&&e.id}})}},81636:(e,t,n)=>{n.d(t,{Q:()=>c,Z:()=>d});var s=n(667294),i=n(682492),o=n.n(i),r=n(112690),a=n(780280),l=n(385740);function c(e,t){const{setViewContextData:n}=(0,l.sV)(),{requestIdentifier:i}=(0,a.B)(),c=(0,r.Z)(),{viewData:d}=(0,l.SU)();(0,s.useEffect)((()=>{var t;e&&(n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?o()(d,e.view_data):o()({},d),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:i}))}),[t])}function d(e){const{children:t,log:n}=e;return c(n),t||null}},327956:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(667294),i=n(407043),o=n(385740);const r=e=>{const t=(0,s.useRef)(!1),{logContextEvent:n}=(0,i.v)(),{viewType:r,viewParameter:a}=(0,o.SU)();(0,s.useEffect)((()=>{Object.entries(e).length>0&&!t.current&&r&&(n({event_type:13,view_type:r,view_parameter:a,...e}),t.current=!0)}))}},722767:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(667294),i=n(973935);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends s.Component{constructor(...e){super(...e),o(this,"observer",null),o(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=i.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return s.Children.only(this.props.children)}}const a=r},66211:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(898781),i=n(883119),o=n(785893);function r(){const e=(0,s.ZP)();return(0,o.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(i.$j,{accessibilityLabel:e.bt("Caricamento modulo iscrizione in corso", "Loading signup form", " - ", undefined, true),show:!0})})}},272160:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(240684),i=n(883119),o=n(785893);const r=(0,s.ZP)({resolved:{},chunkName:()=>"LimitedLoginModalCommon",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(40738).then(n.bind(n,947202)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 947202}});function a(){return(0,o.jsx)(r,{fallback:(0,o.jsx)(i.xu,{})})}},11363:(e,t,n)=>{n.d(t,{Bx:()=>i,N4:()=>r,is:()=>a,lt:()=>s,oM:()=>o});const s=e=>e.bt("Ci sei quasi! Accedi per usufruire di tutte le funzionalità di Pinterest", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),i=e=>e.bt("Accedi per salvare questo Pin", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),o=e=>e.bt("Accedi per modificare questo Pin", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),r=({i18n:e,toFollow:t})=>t?e.bt("Accedi per seguire", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("Accedi per smettere di seguire", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true),a=e=>e.bt("Accedi per creare un Pin o una bacheca", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true)},85334:(e,t,n)=>{n.d(t,{Z:()=>b});var s=n(667294),i=n(231486),o=n(807998),r=n(383690),a=n(69642),l=n(584595),c=n(330102),d=n(290148),u=n(817656),p=n(532975),h=n(762752),_=n(407043),g=n(283943),m=n(214494),x=n(995146),v=n(867820),f=n(226198),y=n(529195);function b(){const e=(0,g.hq)(),t=(0,r.Z)(),{logContextEvent:n}=(0,_.v)(),b=(0,a.Z)();return(0,s.useCallback)((({creds:s,isAccountSwitch:r,loggingOptions:{loggingData:a=Object.freeze({}),loginAttemptContextEvent:_},recaptchaV2Token:g,recaptchaV3Token:w})=>{t();const S=!(!s.facebook_autologin&&!s.autologin),I=(0,d.eD)(s),P=e=>{const t=s.google_open_id_token?"google":"facebook";S&&(0,v.dy)({event:e,provider:t})};n({..._,event_type:7534}),b({action:S?"autologin":"login",event:"attempt",trigger:a.trigger,type:I});const A=e=>{let t="referrer_unknown";try{const e=document.referrer;t=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(l){}const i=a===Object(a)?a.container:"container_unknown";(0,v.My)("login.referrer."+t+"."+I),(0,v.My)("login.container."+String(i)+"."+I),(0,v.My)("login.type."+I);const o=I||"method_unknown",r=a.page||"page_unknown";s.facebook_autologin?((0,v.My)("web_autologin_facebook"),(0,v.My)("new_web_autologin_facebook",{page:r,referrer:t,container:i})):((0,v.My)(`web_login.${o}.success.${r}.${String(i)}.${t}.tier1`),(0,v.My)(`new_web_login.${o}.success`,{page:r,referrer:t,container:i})),(0,c.ko)({country:null==e?void 0:e.country,countryFromHostName:null==e?void 0:e.countryFromHostName,countryFromIp:null==e?void 0:e.countryFromIp,regionFromIp:null==e?void 0:e.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),n({..._,event_type:7536}),b({action:S?"autologin":"login",event:"success",trigger:a&&a.trigger,type:I})},T=({error:e,isCrossDomain:t})=>{if(!e)return;const s=e.http_status===u.Ej?u.Ej:e.api_error_code;let i=s;s&&l.qF.has(s)&&(i=l.qF.get(s));const{container:o,trigger:r}=a;(0,v.My)(`${t?"unauth_web_client_cctld_login_api_error":"unauth_web_client_login_api_error"}.${String(i)}.${o||"unknow_container"}.${I}`),n({..._,event_type:7535}),b({action:S?"autologin":"login",event:"fail",trigger:r,type:I})};if(s.username_or_email&&!s.mfa_resend&&e&&-1!==o.Z.indexOf(e.origin)){const t=e=>(0,v.My)(`web_cross_domain_login.${e}.${(0,d.eD)(s)}`);t("attempt");const{referrer:n,facebookToken:i,unauthId:o}=e;return(0,x.pH)(s,{recaptchaV3Token:w,referrer:n,facebookToken:i,unauthId:o}).then((e=>{const n=e&&e.data;if(n)return t("success_with_token"),(0,x.kv)(n).then((e=>(t("success_token_exchanged"),A(),Promise.resolve())),(e=>{throw t("success_token_not_exchanged"),e}));throw t("success_without_token"),new Error}),(e=>{throw t("failure"),T({error:e,isCrossDomain:!0}),e}))}P("login_api_call_start");const C=(0,y.OJ)();return m.Z.create("UserSessionResource",{...s,...C?{referrer:C}:Object.freeze({}),get_user:s.get_user||s.switch_account&&r,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:(0,y.t_)()||null,recaptchaV2Token:g,recaptchaV3Token:w}).callCreate({showError:!1,async:!0}).then((e=>{const{country:t,country_from_hostname:n,country_from_ip:s,region_from_ip:o}=(null==e?void 0:e.client_context)||Object.freeze({});return A({country:t,countryFromHostName:n,countryFromIp:s,regionFromIp:o}),P("login_api_call_success"),(0,p.B)(!1),i.zN(f.e7.name),i.zN(f.x3.name),(0,h.D)("login").then((()=>e))}),(e=>(T({error:e,isCrossDomain:!1}),P("login_api_call_failure"),Promise.reject(e))))}),[e,t,n,b])}},946984:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(898781),i=n(11363),o=n(987318);const r=()=>{const{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,o.H)(),r=(0,s.ZP)();return"AUTH"===t.type?null:t=>{null==e||e.setVisible(!0),null==n||n.setText((null==t?void 0:t.loginModalHeader)||(0,i.lt)(r))}}},532975:(e,t,n)=>{n.d(t,{B:()=>r,a:()=>o});var s=n(957161),i=n(299899);const o=()=>!!s.Z.getItem(i.WM),r=e=>{s.Z.setItem(i.WM,!!e)}},493678:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(667294),i=n(124237),o=n(121151),r=n(898781),a=n(407043),l=n(883119),c=n(785893);function d(){const{logContextEvent:e}=(0,a.v)(),t=(0,r.ZP)(),[n,d]=(0,s.useState)(),[u,p]=(0,s.useState)(),[h,_]=(0,s.useState)();(0,s.useEffect)((()=>{const n=t.bt("Spiacenti! Si è verificato un errore nel nostro sistema.", "Sorry! Something went wrong on our end.", " - ", undefined, true),s=t.bt("Si è verificato un errore", "Something went wrong", " - ", undefined, true);return i.Z.setShowHtmlErrorCallback(((t=n,i,o=s)=>{t===n&&o===s&&e({event_type:13,component:9,view_type:17,view_parameter:3237});const r=t.replace(/&#x27;/g,"'").replace(/&#39;/g,"'");d(i),p(o||""),_(r)})),()=>{i.Z.setShowHtmlErrorCallback((()=>{}))}}),[e,d,p,_,t]);const g=()=>{"function"==typeof n&&n(),d(null),p(null),_(null)};return h?(0,c.jsx)(o.ZP,{accessibilityModalLabel:t.bt("Si è verificato un errore", "An error occurred", " - ", undefined, true),heading:u,onDismiss:g,size:"sm",footer:(0,c.jsx)(l.kC,{alignItems:"stretch",justifyContent:"end",children:(0,c.jsx)(l.zx,{color:"red",onClick:g,text:t.bt("OK", "Okay", " - ", undefined, true)})}),children:(0,c.jsx)(l.xu,{margin:5,"data-test-id":"error-modal",children:(0,c.jsx)(l.xv,{children:h})})}):null}},121093:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(667294),i=n(702664),o=n(332611),r=n(242923),a=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends s.Component{constructor(...e){super(...e),l(this,"state",{hasCompleted:[],hasDismissed:[]}),l(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:n,viewExperience:s,viewExperienceObject:i}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",i(e)):n?s(e.placement_id,e.experience_id,n):s(e.placement_id,e.experience_id))})),l(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:n,experience:s,isBackendExperience:i,preventRemoval:o,targeting:r}=this.props,a=e||1;if(s&&!this.state.hasCompleted.includes(s.experience_id)){const{placement_id:e,experience_id:l}=s||{},c=o||2===a;(1===a||c)&&e&&l&&(i?n(s,c):r?t(e,l,c,r):t(e,l,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),l(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:s,preventRemoval:i,targeting:o}=this.props,{placement_id:r,experience_id:a}=n||{};n&&!this.state.hasDismissed.includes(a)&&(s?t(n):o?e(r,a,!!i,o):e(r,a,!!i),this.setState((e=>({hasDismissed:[...e.hasDismissed,a]}))))})),l(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:s,transitionType:i}=this.props,{experience_id:o,type:r}=e;if(t&&t.includes(o))return!0;if(null==t||!t.length){if(s&&s(e))return!0;if(n&&n.includes(r))return!0;if(i&&i===r)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):s.Children.only(e):null}}function d(e){const t=(0,i.useSelector)((({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0))),n=(0,i.useDispatch)();return(0,a.jsx)(c,{...e,experience:t,completeExperience:(e,t,s,i)=>n((0,o.CK)(e,t,s,!1,{},i)),completeExperienceObject:(e,t)=>n((0,r.Tl)(e,t)),dismissExperience:(e,t,s,i)=>n((0,o.Qu)(e,t,s,void 0,i)),dismissExperienceObject:e=>n((0,r.CF)(e)),viewExperience:(e,t,s)=>n((0,o.UT)(e,t,!1,!1,void 0,s)),viewExperienceObject:e=>n((0,r.dy)(e))})}l(c,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},701500:(e,t,n)=>{n.d(t,{Z:()=>p});var s=n(667294),i=n(249647),o=n(570470),r=n(883119),a=n(785893);class l extends s.Component{renderPulsar(){const{anchor:e,handleComplete:t,handlePulsarCompleteOnHover:n,zIndex:s}=this.props;return(0,a.jsx)(o.Z,{anchor:e,onTouch:t,onMouseEnter:n,zIndex:s})}renderFlyout(){const{anchor:e,tooltip:t,handleDismiss:n,handleComplete:s}=this.props;if(!t)return null;const{cancelButtonText:i,confirmButtonText:o,mainText:l,idealDirection:c="down"}=t,d=i&&n&&o&&s;return(0,a.jsx)(r.J2,{anchor:e,color:"blue",idealDirection:c,onDismiss:n,shouldFocus:!1,showCaret:!0,size:"flexible",children:(0,a.jsxs)(r.xu,{maxWidth:284,padding:3,width:"max-content",children:[(0,a.jsx)(r.xv,{color:"inverse",overflow:"breakWord",weight:"bold",children:l}),d?(0,a.jsxs)(r.xu,{marginTop:2,display:"flex",alignItems:"center",children:[(0,a.jsx)(r.xu,{column:6,marginEnd:1,children:(0,a.jsx)(r.zx,{fullWidth:!0,color:"transparentWhiteText",onClick:e=>n(e),size:"md",text:String(i)})}),(0,a.jsx)(r.xu,{column:6,children:(0,a.jsx)(r.zx,{fullWidth:!0,color:"white",size:"md",text:String(o),onClick:s})})]}):null]})})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}var c=n(70061),d=n(764990),u=n(123159);function p({anchor:e,anchorElementRef:t,children:n,containerBoxConfig:o,experience:p,isHidden:h,onCompleteClick:_,zIndex:g}){var m;const{completeExperience:x,dismissExperience:v,experiences:f,viewExperience:y}=(0,u.M)(),b=(({anchor:e,anchorExperiences:t,passedExperience:n})=>n||(t?t[e]:null))({anchor:e,anchorExperiences:Object.values(f).reduce(((e,t)=>(8===t.type&&(e[(0,d.A0)(t)]=t),e)),{}),passedExperience:p}),w=(null==b||null===(m=b.display_data)||void 0===m?void 0:m.delay)||0,[S,I]=(0,s.useState)(!!w);if((0,s.useEffect)((()=>{if(w>0&&S){const e=setTimeout((()=>{I(!1)}));return()=>clearTimeout(e)}return()=>{}}),[w,S]),(0,s.useEffect)((()=>{!S&&b&&y(b.placement_id,b.experience_id)}),[S,b]),!b||S||h)return s.Children.only(n);const P=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),(0,i.Z)(c.Z,!0)(t)})(b),A=()=>{var e;null!==(e=b.display_data)&&void 0!==e&&e.complete_on_hover&&x(b.placement_id,b.experience_id)};return(0,a.jsxs)(r.xu,{position:"relative",height:null==o?void 0:o.height,display:null==o?void 0:o.display,children:[(0,a.jsx)(r.iP,{onMouseEnter:A,onTap:()=>{_&&_(),P.skipComplete||x(b.placement_id,b.experience_id)},children:s.Children.only(n)}),(0,a.jsx)(l,{anchor:t||null,handlePulsarCompleteOnHover:A,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),v(b.placement_id,b.experience_id)},pulserOnly:!!P.pulserOnly,tooltip:P.tooltip,zIndex:g})]})}},333312:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(667294),i=n(121093),o=n(570470),r=n(883119),a=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends s.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:s}=this.props,i=n.slice(-3);return(0,a.jsx)(r.J2,{anchor:e,color:"white",idealDirection:s,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(r.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(r.xv,{color:"default",weight:"bold",children:t})}),(0,a.jsx)(r.xu,{display:"flex",marginEnd:-2,paddingX:2,children:i.map((e=>(0,a.jsx)(r.xu,{height:60,width:50,paddingX:1,children:(0,a.jsx)(r.zd,{rounding:2,height:60,children:(0,a.jsx)(r.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends s.Component{constructor(...e){super(...e),d(this,"dismissRef",(0,s.createRef)()),d(this,"state",{paused:!1}),d(this,"dismissCb",(()=>{var e,t;null===(e=(t=this.dismissRef).current)||void 0===e||e.call(t)})),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){const{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:l,flyoutSize:d,fontSize:u,hasFullWidthButton:p=!0,idealDirection:h,useMasonryFlyout:_,noClickToDismiss:g,onClickComplete:m,onClickDismiss:x,placementId:v,positionRelativeToAnchor:f,shouldTimeoutDismiss:y,showCaret:b,textAlign:w,textOverflow:S,textOverrideFn:I,textWeight:P,customizedComplete:A,pulsarZIndex:T,advertiserId:C}=this.props,j=t||(({children:e})=>_?(0,a.jsx)(r.mh,{children:e}):e),E="blue";return(0,a.jsx)(i.Z,{eligibleIds:n,placementId:v,eligibleTypes:[8],targeting:C?{advertiserId:parseInt(C,10)}:null,children:({complete:t,dismiss:n,experience:i})=>{const{display_data:{scroll_to_dismiss:v,scroll_to_dismiss_delay_in_seconds:C=0,...k}}=i,R=v&&e,D=()=>{Z(),setTimeout(n,1e3*C)},Z=()=>{R&&(window.removeEventListener("scroll",D),window.removeEventListener("touchmove",D))},L=()=>{Z(),t()};if(R&&(window.addEventListener("scroll",D),window.addEventListener("touchmove",D)),this.setDefaultPulsarTooltip(k),!k.has_pulsar&&!k.has_tooltip)return L(),null;y&&k.disappearTime&&k.disappearTime>0&&(this.timer=setTimeout((()=>(D(),null)),k.disappearTime));const M=501041===i.experience_id||505086===i.experience_id;return k.has_tooltip&&!k.has_pulsar&&(this.dismissRef.current=D,null==e||e.addEventListener("click",this.dismissCb)),(0,a.jsxs)(s.Fragment,{children:[k.has_pulsar&&(0,a.jsx)(o.Z,{anchor:e,leftOverride:M?342:void 0,onTouch:()=>this.handlePulsarClick(k.has_tooltip,L),paused:this.state.paused,topOverride:M?-5:void 0,zIndex:T&&T.index()}),k.has_tooltip&&(!k.has_pulsar||this.state.paused)&&(k.thumbnail_urls?(0,a.jsx)(c,{anchor:e,dismiss:D,idealDirection:h||"down",text:k.text,thumbnails:k.thumbnail_urls}):(0,a.jsx)(j,{children:(0,a.jsx)(r.J2,{anchor:e,color:E,idealDirection:h||"down",onDismiss:g?()=>{}:D,positionRelativeToAnchor:!_&&f,shouldFocus:!1,showCaret:b,size:d,children:(0,a.jsxs)(r.xu,{column:12,padding:3,children:[(0,a.jsxs)(r.xv,{align:"right"===w?"end":w,color:"inverse",overflow:S,size:u,weight:P||"bold",children:[this.getText(k,l,I),k.secondary_cta_link&&(0,a.jsx)(r.xu,{display:"inlineBlock",marginStart:1,children:(0,a.jsx)(r.xv,{size:u,weight:"bold",color:"inverse",children:(0,a.jsx)(r.rU,{display:"inlineBlock",target:"blank",href:k.secondary_cta_link.url,underline:"hover",children:k.secondary_cta_link.text})})})]}),k.sub_text&&(0,a.jsx)(r.xu,{paddingY:2,children:(0,a.jsx)(r.xv,{color:"inverse",size:u,children:k.sub_text})}),(k.dismiss_button_text||k.complete_button_text)&&(0,a.jsxs)(r.xu,{display:"flex",alignItems:"center",marginTop:2,children:[k.dismiss_button_text&&(0,a.jsx)(r.xu,{marginEnd:1,column:6,children:(0,a.jsx)(r.zx,{fullWidth:p,color:E,onClick:()=>{x&&x(),D()},size:"md",text:k.dismiss_button_text})}),k.complete_button_text&&(0,a.jsx)(r.xu,{column:k.dismiss_button_text?6:12,children:A?(0,a.jsx)(r.iP,{fullHeight:!0,onTap:()=>{L(),m&&m()},rounding:2,children:(0,a.jsx)(r.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,a.jsx)(r.xv,{color:"shopping",weight:"bold",children:k.complete_button_text})})}):(0,a.jsx)(r.kC,{justifyContent:"center",children:(0,a.jsx)(r.zx,{fullWidth:p,color:"white",href:k.complete_button_cta_url,role:k.complete_button_cta_url?"link":"button",size:"md",target:k.complete_button_cta_url?"blank":null,text:k.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),L(),m&&m()}})})})]})]})})}))]})}})}}d(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},756306:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(667294),i=n(121093),o=n(883119),r=n(785893);class a extends s.Component{constructor(...e){var t,n,s;super(...e),s={paused:!1,showPulsar:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s}componentDidMount(){this.mountPulsar(),this.props.onExperienceMount&&this.experience&&this.props.onExperienceMount(this.experience)}componentWillUnmount(){clearTimeout(this.timer)}mountPulsar(){if(!this.experience)return;const{display_data:e}=this.experience;e.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){const{anchor:e}=this.props,{paused:t}=this.state;if(!e)return null;const n=e.getBoundingClientRect(),{height:s,width:i}=n,a=-(68+s/2),l=-(68-i/2);return(0,r.jsx)(o.xu,{position:"absolute",zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{marginTop:a,marginLeft:l,cursor:"pointer",pointerEvents:"none"}},children:(0,r.jsx)(o.o3,{paused:t})})}renderFlyout(e){const{anchor:t,flyoutSize:n,idealDirection:s}=this.props;return(0,r.jsx)(o.Li,{anchor:t,idealDirection:s||"down",onDismiss:()=>{},size:n,message:e})}render(){const{experienceIds:e,placementId:t,shouldTimeoutDismiss:n}=this.props,{showPulsar:s}=this.state;return(0,r.jsx)(i.Z,{eligibleIds:e,placementId:t,eligibleTypes:[8],children:({complete:e,dismiss:t,experience:i})=>{this.experience=i;const{display_data:a}=i;return a.has_pulsar||a.has_tooltip?(n&&a.disappearTime&&a.disappearTime>0&&(this.timer=setTimeout((()=>(t(),null)),a.disappearTime)),(0,r.jsxs)(o.xu,{zIndex:new o.Ry(10),children:[s&&this.renderPulsar(),a.has_tooltip&&(!a.has_pulsar||this.state.paused)&&this.renderFlyout(a.text)]})):(e(),null)}})}}},242923:(e,t,n)=>{n.d(t,{CF:()=>a,Tl:()=>r,dy:()=>l});var s=n(214494),i=n(332611);const o=(e,t)=>(n,o)=>r=>{if(n&&n.id){const a=s.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":a.callDelete().then((()=>{r((0,i.fO)())}));break;case"completed":a.callUpdate().then((()=>{o||r((0,i.fO)())}));break;case"viewed":a.callUpdate()}}},r=o("UserExperienceCompletedResource","completed"),a=o("UserExperienceResource","dismissed"),l=o("UserExperienceViewedResource","viewed")},570470:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(667294),i=n(883119),o=n(785893);function r({anchor:e,children:t,zIndex:n,leftOverride:r,topOverride:a}){const l=(0,s.useRef)(null),[c,d]=(0,s.useState)(0),[u,p]=(0,s.useState)(0),{height:h,width:_}=e.getBoundingClientRect();(0,s.useEffect)((()=>{const{current:t}=l;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:s,verticalOffset:i}=((e,t,n,s)=>({horizontalOffset:-(s/2-t/2),verticalOffset:-(n/2-e/2)}))(h,_,e,n);d(s),p(i)}}));const g=r||c,m=a||u;return(0,o.jsx)(i.xu,{position:"absolute",zIndex:n?new i.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:g,top:m}},ref:l,children:t})}const a=function(e){const{anchor:t,leftOverride:n,onTouch:s,onMouseEnter:a,paused:l,size:c,topOverride:d,zIndex:u}=e;return t?(0,o.jsx)(r,{anchor:t,leftOverride:n,topOverride:d,zIndex:u,children:(0,o.jsx)(i.iP,{fullWidth:!1,onTap:({event:e})=>s(e),onMouseEnter:a,rounding:"circle",children:(0,o.jsx)(i.o3,{paused:l,size:c})})}):null}},869636:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),i=n(702664),o=n(442279),r=n(123159),a=n(780280),l=n(172071);const c=(0,o.P1)((e=>e.experiences),((e,t)=>t),((e,t)=>e[t])),d=(e,t)=>"function"==typeof t?t(e):t,u=(e,t={},n=!1)=>{const[o,u]=(0,s.useReducer)(d,t),{isBot:p}=(0,a.B)(),{fetchExperienceForPlacements:h,mountPlacement:_,triggerExperimentsForPlacement:g,unmountPlacement:m}=(0,r.M)();(0,s.useDebugValue)(`Placement Hook ID - ${e}`),(0,s.useEffect)((()=>{const t={...o},s=n&&null!=t&&t.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return _(e,t,s),()=>{m(e)}}),[]),(0,s.useEffect)((()=>{Object.keys(o).length>0&&h([e],p,o)}),[o]);const x=(0,i.useSelector)((t=>c(t,e))),v=(0,i.useSelector)((t=>t.experiencesMulti[e])),f=x?x.triggerable_placed_exps:[];(0,s.useEffect)((()=>{((e,t,n={})=>{l.Z.increment(`${e}.${t}`,1,n)})("experienceservice","placementHookExperimentTrigger.1",{platform:"web",placement_id:e,...f}),g(e,o)}),[JSON.stringify(f)]);return{experience:x,experiencesMulti:v,setExtraContext:u}}},116303:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(883119),i=n(785893);const o=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function r({accessibilityLabel:e,name:t,outline:n,size:r,src:a,verified:l}){return(0,i.jsx)(s.qE,{accessibilityLabel:e,name:t,outline:n,size:r,src:o(a,t)?void 0:a,verified:l})}r.displayName="Avatar";const a=r},499128:(e,t,n)=>{n.d(t,{UZ:()=>c,Vg:()=>l,ZP:()=>d});var s=n(667294),i=n(829407),o=n(50286),r=n(883119),a=n(785893);const l=200,c=({deviceType:e,hiding:t,visible:n})=>{const s="desktop"===e;let i=0,o=s?"translateY(200px)":"translateY(-200px)",r="opacity 0.1s ease-in-out",a="hidden";return n&&!t&&(i=1,o="translateY(0)",r="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",a="visible"),n&&t&&(o="scale(1.1)",r="opacity transform 0.2s"),{opacity:i,pointerEvents:"auto",position:"relative",marginTop:s?10:0,transform:o,transition:r,visibility:a}};function d({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:n,primaryAction:d,dismissButton:u,helperLink:p,thumbnail:h,type:_,dataTestId:g,duration:m=2e3,onHide:x,href:v,onClick:f,openNewPage:y,imageUrl:b}){var w;const S=(0,o.ZP)(),[I,P]=(0,s.useState)(!1),[A,T]=(0,s.useState)(!1),C=(0,s.useRef)(),j=()=>{P(!0),C.current=setTimeout(x,l)},E=()=>{C.current=setTimeout(j,m)},k=()=>{C.current&&clearTimeout(C.current)};let R;(0,i.Z)((()=>(setTimeout((()=>T(!0)),100),E(),k))),b&&(R={image:(0,a.jsx)(r.Ee,{alt:"string"==typeof n?n:`${n[0]} ${n[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:b})});const D=(0,a.jsx)(r.FN,{_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,primaryAction:d,text:n,thumbnail:null!==(w=R)&&void 0!==w?w:h,type:_,dismissButton:u,helperLink:p}),{marginTop:Z,opacity:L,pointerEvents:M,position:O,transform:z,transition:B,visibility:N}=c({deviceType:S,hiding:I,visible:A});return(0,a.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:z,transition:B,visibility:N,pointerEvents:M}},"data-test-id":null!=g?g:"toast",onMouseEnter:k,onMouseLeave:E,opacity:L,position:O,marginTop:Z,display:"flex",children:v?(0,a.jsx)(r.iP,{role:"link",href:v,onTap:({event:e})=>null==f?void 0:f(e),target:y?"blank":null,rounding:"pill",children:D}):D})}},506708:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(170168);const i=()=>{const e=window.location.hostname;return e.includes("pinterdev")&&!e.includes("ads.pinterdev")?e:e.includes("ads-latest")?"latest.pinterest.com":s.Vi}},444445:(e,t,n)=>{n.d(t,{$H:()=>r,$q:()=>x,D6:()=>l,KN:()=>v,Lo:()=>i,P2:()=>_,ZZ:()=>d,g5:()=>u,jC:()=>a,lX:()=>h,nW:()=>p,oX:()=>g,qG:()=>m,tG:()=>o,yF:()=>s,yc:()=>c});const s=236,i=2*s/3,o=175,r=24,a=4,l=2,c=2,d=14,u=16,p=12,h=16,_=24,g=16,m=-1,x=(e=!1,t=!1)=>e?t?h:p:_,v=(e,t,n,s,i=d)=>{const o=e+i;return`\n@media (min-width: ${t*o}px) and (max-width: ${(n+1)*o-1}px) {\n  ${s}\n}\n`}},366428:(e,t,n)=>{n.d(t,{F:()=>l,Z:()=>a});var s=n(667294),i=n(124580),o=n(407043);const r={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704}};function a({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:a,contextLogData:l,clientTrackingParams:c,elementType:d,impressionAuxFields:u,inImpressionExp:p,impressionType:h,impressionsFramework:_,isPaused:g,loggingId:m,objectIdStr:x,slotIndex:v,trackCarousel:f,viewData:y,viewParameter:b,viewType:w}){const{logContextEvent:S}=(0,o.v)(),I=_||i.Z,P=(0,s.useRef)(null),A=s=>{const i=r[h],o=i.idType;let p={clientTrackingParams:c,endTime:s.endTime,[o]:m,slotIndex:v,time:s.startTime,renderDuration:s.endTime-s.startTime,type:t,...u,forcedExit:"removed"===s.forcedExit?0:void 0};var _,g,I,A;"Pin"===h&&(p={...p,pinCellWidth:(null===(_=P.current)||void 0===_?void 0:_.getBoundingClientRect().width)||0,pinCellHeight:(null===(g=P.current)||void 0===g?void 0:g.getBoundingClientRect().height)||0,windowWidth:null===(I=window)||void 0===I?void 0:I.innerWidth,windowHeight:null===(A=window)||void 0===A?void 0:A.innerHeight});const T={component:a,object_id_str:x,view_type:w,view_data:y||{},view_parameter:b};if(f){if(e){var C,j,E;S({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...p,carouselDataId:Number(e.id),carouselSlotId:(null===(C=e.carousel_slots)||void 0===C?void 0:C[null!==(j=e.index)&&void 0!==j?j:0])&&Number(e.carousel_slots[null!==(E=e.index)&&void 0!==E?E:0].id),slotIndex:e.index}]},...T,aux_data:{...l}})}}else S({clientTrackingParams:c,event_type:i.eventType,...T,element:d,event_data:{[i.impressionType]:"Story"===h?p:[p]},aux_data:{closeup_navigation_type:n,...l}})},T=(0,s.useCallback)((()=>{try{P.current instanceof HTMLElement&&I.start(P.current).onExitViewport(A).setDebugId(m||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[P.current]);(0,s.useEffect)((()=>(p&&!I.inExperiment&&I.setExperimentStatus(!0),g||T(),()=>{P.current instanceof HTMLElement&&I.stop(P.current)})),[T]);const C=(0,s.useRef)(g);return(0,s.useEffect)((()=>{C.current&&!g&&T(),C.current=g}),[g,T]),P}const l=({children:e,...t})=>e({impressionTrackerRef:a(t)})},564194:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),i=n(973935),o=n(124580),r=n(407043),a=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class d extends s.Component{constructor(e){super(e),l(this,"trackImpression",(()=>{try{this.node=(0,i.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),l(this,"logImpression",(e=>{const{carouselData:t,closeupImpressionType:n,closeupNavigationType:s,componentType:i,contextLogData:o,elementType:r,impressionAuxFields:a,impressionType:l,loggingId:d,objectIdStr:u,slotIndex:p,trackCarousel:h,viewData:_,viewParameter:g,viewType:m,logContextEvent:x}=this.props,v=c[l],f=v.idType,y=e.forcedExit&&"removed"===e.forcedExit?0:void 0;let b={endTime:e.endTime,[f]:d,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...a,forcedExit:y};var w,S;"Pin"===l&&(b={...b,pinCellWidth:this.node.offsetWidth,pinCellHeight:this.node.offsetHeight,windowWidth:null===(w=window)||void 0===w?void 0:w.innerWidth,windowHeight:null===(S=window)||void 0===S?void 0:S.innerHeight});if(h||x({event_type:v.eventType,component:i,element:r,event_data:{[v.impressionType]:"Story"===l?b:[b]},object_id_str:u,view_type:m,view_data:_||{},view_parameter:g,aux_data:{...o,closeup_navigation_type:s}}),t&&h){const{carousel_slots:e,index:n=0,id:s}=t;x({event_type:7352,component:i,event_data:{pinCarouselSlotImpressions:[{...b,carouselDataId:Number(s),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},object_id_str:u,view_type:m,view_data:_||{},view_parameter:g,aux_data:{...o}})}})),this.impressionsFramework=e.impressionsFramework||o.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return s.Children.only(this.props.children)}}function u(e){const{logContextEvent:t}=(0,r.v)();return(0,a.jsx)(d,{...e,logContextEvent:t})}},995081:(e,t,n)=>{n.d(t,{Rq:()=>s,Vf:()=>i,jd:()=>o,oy:()=>r});const s=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,i=28,o=e=>window.innerHeight>=748&&s(e),r=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},539278:(e,t,n)=>{n.d(t,{Di:()=>p,Jl:()=>c,R:()=>d,ZP:()=>x,aU:()=>h,j2:()=>u,pN:()=>_,rL:()=>v,vW:()=>m});var s=n(116303),i=n(499128),o=n(349700),r=n(826067),a=n(883119),l=n(785893);const c=7e3,d="permanent_account_closure",u="account_deletion_email_sent",p="account_deactivated",h="unlink_successful",_="account_switch_to_settings";function g(e,t,n){return(0,l.jsx)(a.xv,{align:n||"center",children:(0,o.nk)(e,{username:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:t})})})}function m({i18n:e,message:t,multipleAccounts:n,username:s=""}){switch(t){case d:return e.bt("Il tuo account è stato eliminato. Ci dispiace vederti lasciare Pinterest", "Your account has been deleted. We're sad to see you go", "unauthLoginPage.accountDeletedToast.message", undefined, true);case u:return g(n?e.bt("Ti abbiamo inviato un'email con i passaggi finali da seguire per eliminare l'account {{username}} e gli account ad esso collegati", "An email has been sent with final steps to delete your account, {{username}} and its linked accounts", "accountDeletedEmailToast.message.multipleAccounts", undefined, true):e.bt("Ti abbiamo inviato un'email con i passaggi finali da seguire per eliminare l'account {{username}}", "An email has been sent with final steps to delete your account, {{username}}", "accountDeletedEmailToast.message.singleAccount", undefined, true),s);case p:return g(n?e.bt("L'account {{username}} e i relativi account collegati sono stati disattivati", "The account, {{username}}, and its associated linked accounts have been deactivated", "unauthLoginPage.deactivatedToast.message.multipleAccounts", undefined, true):e.bt("L'account {{username}} è stato disattivato", "The account, {{username}}, has been deactivated", "unauthLoginPage.deactivatedToast.message.singleAccount", undefined, true),s);case h:return g(e.bt("Operazione riuscita! Hai scollegato questo account per aziende. Ora sei in {{username}}.", "Success! You've unlinked this business account. You are currently in {{username}}.", "authHomeFeedPage.unlinkAccountToast.message", undefined, true),s,"start");case _:return g(e.bt("Hai eseguito il passaggio e ora ti trovi nell'account {{username}}", "You've switched into and are currently in the account {{username}}", "accountSettings.switchAccountToAccountChanges", undefined, true),s,"start");default:return""}}function x(e,t,n=""){if(!t||!t.search)return"";const s=(0,r.mB)(t.search).message,i=(0,r.mB)(t.search).username||n;return m({i18n:e,message:s,multipleAccounts:"true"===(0,r.mB)(t.search).multiple_accounts,username:i})}function v({showOneToast:e,i18n:t,location:n,history:o,username:a,fullName:d,avatarUrl:u}){if(!n||!n.search)return;const p=x(t,n,a||""),g=(0,r.mB)(n.search).message,m=g===_||g===h;p&&(e((({hideToast:e})=>(0,l.jsx)(i.ZP,{duration:c,onHide:e,text:p,thumbnail:m?{avatar:(0,l.jsx)(s.Z,{name:d||"",src:u||"",size:"md"})}:void 0}))),o.replace(n.hash?`${n.pathname}${n.hash}`:n.pathname))}},307593:(e,t,n)=>{n.d(t,{CV:()=>r.Z,Mt:()=>d,RD:()=>c,iS:()=>u,z3:()=>p});var s=n(379913),i=n(56641),o=n(124580),r=n(407159),a=n(12610),l=n(884732);const c=e=>{const t={...(0,l.rl)()};delete t[e],(0,l.r8)(t)},d=(e,t)=>{if(!(0,l.PE)()||e&&!(e.id in(0,l.rl)())){if(e.partner&&e.partner.is_linked_business&&t)return void(0,s.Z)({...e,email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""});(0,s.Z)(e)}},u=(e,t,n)=>{(0,r.Z)("switch_account_success",{destination_user_id:t},n),(0,i.Z)(e)},p=(e,t)=>{o.Z.resume(a.Z3),(0,r.Z)("switch_account_failure",{destination_user_id:e},t)}},379913:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(407159),i=n(884732);const o=e=>{var t;const n={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return n.fullName&&n.imageMediumUrl&&n.imageLargeUrl||(0,s.Z)("utils.incomplete_user_values"),null!==(t=e.partner)&&void 0!==t&&t.is_create?{...n,partner:{is_create:!0}}:n},r=(e,t,n)=>{(0,i.r8)({...(0,i.rl)(),[e.id]:o(e)}),t&&n&&(0,s.Z)("new_account_add_success",{method:t,user_added:e.id},n)}},407159:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(867820),i=n(172045),o=n(884732);const r=(e,t,n)=>{let r=(0,o.yW)();r||(r=(()=>{const e=(0,i.Z)();return(0,s.tj)("web_account_switcher.utils.group_created",{group_id:e,group_count:(0,o.lv)()}),e})(),(0,o.M3)(r));const a={group_count:(0,o.lv)()};let l="";n&&(l="account_switcher_modal"===n?"modal.":"flyout."),(0,s.tj)(`web_account_switcher.${l}${e}`,{...t,...a})}},249647:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(844753);function i(e,t=!1){return n=>{if(!(0,s.Z)(n))return t&&Array.isArray(n)?n.map(i(e,t)):n;const o={};return Object.keys(n).forEach((r=>{const a=e(n[r],r);(0,s.Z)(n[r])||t&&Array.isArray(n[r])?o[a]=i(e,t)(n[r]):o[a]=n[r]})),o}}function o(e,t=!1){const n=(t,n)=>e(n);return e=>i(n,t)(e)}},56528:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(214494);const i=e=>s.Z.create("UserPasswordResource",e).callUpdate({showError:!1})},290148:(e,t,n)=>{n.d(t,{Ny:()=>u,ZP:()=>h,eD:()=>g,lp:()=>_});var s=n(794230),i=n(704115),o=n(78714),r=n(957161),a=n(432300),l=n(966113),c=n(299899),d=n(867820);const u=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class p{static defaultLoginRedirectUrl(){return window.location.pathname===l.lf||window.location.pathname===l.ZE||window.location.pathname.startsWith(l.rO)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(l.rO)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){const e=r.Z.getItem(c.kl);if(e&&e.indexOf("|")>-1){const t=e.split("|");return 3===t.length&&(new Date).getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){const e=r.Z.getItem(c.kl);let t=[];e&&(t=e.split("|"),3===t.length&&t.shift());const n=((new Date).getTime()/1e3).toString();t.push(n);const s=t.join("|");r.Z.setItem(c.kl,s)}static isFullyLoggedIn(e,t){return e&&t===a.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";const t=(0,i.Z)();if(t){const n=t.next;n&&(e=n,delete t.next),e=(0,s.Z)(e,t)}}(0,o.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){r.Z.setItem(c.F6,Date.now()),!t&&e&&"/"!==e?p.handleRedirect(e):p.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){const t=window.navigator.credentials;if(t&&e.username_or_email)try{const n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then((()=>{(0,d.My)("navigatorCredentials.store.success")}))}catch(n){(0,d.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,n){(0,d.My)("multi_step_login"),p.storeLoginCredentialsToBrowser(e),n?n(e,t):(0,d.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}const h=p;function _(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function g(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":_(e)}},838760:(e,t,n)=>{n.r(t),n.d(t,{fetchNoMicroMerchants:()=>r,fireAdvertiserCatalogFeedIngestsOnCondition:()=>d,fireCatalogUploadRealtimePixels:()=>a,fireFirstSpenderOnCondition:()=>l,fireResurrectedPixelOnCondition:()=>c,getGPCSignalState:()=>u,getThirdPartyMarketingTrackingEnabledAfterGPC:()=>h,setGPCSignalState:()=>p,setThirdPartyMarketingTrackingEnabledAfterGPC:()=>_});var s=n(689070),i=n(214494),o=n(683090);const r=async e=>{var t;const n=(null===(t=(await(0,s.Z)({url:`/v3/ppm/advertiser_kpis/${e}/no_micro/`})).resource_response)||void 0===t?void 0:t.data)||null;return!!(n&&Object.keys(n).length>0)};async function a(e,t,n){if(!e)return;const s=t?t.toString():"",i=n?n.toString():"";(0,o.tr)(s,i);await r(e)&&(0,o.lV)(s,i)}const l=async e=>{var t;const n=(null===(t=(await(0,s.Z)({url:`/v3/ppm/advertiser_kpis/${e}/ever_spend/`})).resource_response)||void 0===t?void 0:t.data)||null;n&&Object.keys(n).length>0&&"0"===n[e]&&(0,o.eP)(e)},c=async e=>{const t=await(async e=>{var t;const n=(null===(t=(await(0,s.Z)({url:`/v3/ppm/advertiser_kpis/${e}/spend/`})).resource_response)||void 0===t?void 0:t.data)||{};return n&&Object.keys(n).length>0?n:{}})(e);t&&Object.keys(t).length>0&&(0,o.M7)(t,e)},d=async e=>{const t=await(async e=>{var t;const n=(null===(t=(await(0,s.Z)({url:`/v3/ppm/advertiser_kpis/${e}/catalog/`})).resource_response)||void 0===t?void 0:t.data)||{};return n&&Object.keys(n).length>0?n:{}})(e);t&&Object.keys(t).length>0&&(0,o.F8)(t,e)},u=async()=>{var e;return 1===((null===(e=(await i.Z.create("UserStateResource",{state:"GPC_BROWSER_SIGNAL_EVER_DETECTED"}).callGet()).resource_response)||void 0===e?void 0:e.data)||null)},p=async()=>{const e=(await i.Z.create("UserStateResource",{state:"GPC_BROWSER_SIGNAL_EVER_DETECTED",value:1}).callCreate()).resource_response;return!!(e&&Object.keys(e).length>0)},h=async()=>{var e;return 1===((null===(e=(await i.Z.create("UserStateResource",{state:"SELECTED_THIRD_PARTY_SHARING_AFTER_GPC"}).callGet()).resource_response)||void 0===e?void 0:e.data)||null)},_=async()=>{const e=(await i.Z.create("UserStateResource",{state:"SELECTED_THIRD_PARTY_SHARING_AFTER_GPC",value:1}).callCreate()).resource_response;return!!(e&&Object.keys(e).length>0)}},961008:(e,t,n)=>{n.d(t,{Z:()=>i});const s="web.com.pinterest.www";function i(e){if(window.safari&&window.safari.pushNotification&&e.isAuth)try{if("default"===window.safari.pushNotification.permission(s).permission){const t=e.push_package_user_id;window.safari.pushNotification.requestPermission("https://"+window.location.hostname+"/_/_/push",s,{uid:t},(()=>{}))}}catch(t){}}},947599:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n(995228).Z},392370:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(667294),i=n(883119),o=n(785893);const r=({children:e,gray:t,weight:n="normal"})=>(0,o.jsx)(i.xv,{color:t?"subtle":void 0,inline:!0,weight:n,children:(0,o.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:e})});function a({searchDelightText:e,searchDelightConfig:t}){const{text_background_color:n,text_colors:s=[]}=t,i=n?{backgroundColor:n,margin:"-2px",padding:"2px"}:void 0;if(s.length>1){let t=0;return(0,o.jsx)("span",{style:{whiteSpace:"pre-wrap",...i},children:e.split("").map(((e,n)=>{const i=s[t];return" "!==e&&(t=(t+1)%s.length),(0,o.jsx)("span",{style:{color:i},children:e},`searchDelight-${n}`)}))})}return(0,o.jsx)("span",{style:{color:s[0],whiteSpace:"pre-wrap",...i},children:e},`searchDelight-${e}`)}const l=({allBold:e,searchDelightParts:t,searchDelightConfig:n,text:i,weightPivot:l})=>{const c=t[1],d=i.indexOf(c),u=d+c.length;return l<=d?(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(r,{gray:!0,weight:e?"bold":"normal",children:i.substring(0,l)}),(0,o.jsxs)(r,{weight:"bold",children:[i.substring(l,d),(0,o.jsx)(a,{searchDelightText:c,searchDelightConfig:n}),i.substring(u)]})]}):l<=u?(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(r,{gray:!0,weight:e?"bold":"normal",children:i.substring(0,d)}),(0,o.jsxs)(r,{weight:"bold",children:[(0,o.jsx)(a,{searchDelightText:c,searchDelightConfig:n}),i.substring(u)]})]}):(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(r,{gray:!0,weight:e?"bold":"normal",children:i.substring(0,d)}),(0,o.jsx)(r,{weight:"bold",children:(0,o.jsx)(a,{searchDelightText:c,searchDelightConfig:n})}),(0,o.jsx)(r,{gray:!0,weight:e?"bold":"normal",children:i.substring(u,l)}),(0,o.jsx)(r,{weight:"bold",children:i.substring(l)})]})},c=(e,t)=>t.map((t=>((e,t)=>{const n=new RegExp("\\b"+t+"\\b","i");if(!e.match(n))return null;const s=e.toLowerCase().indexOf(t.toLowerCase());return[e.slice(0,s),e.slice(s,s+t.length)]})(e,t))).filter(Boolean).sort(((e,t)=>e&&t?e[0].length-t[0].length:0)).shift();function d({allBold:e,searchDelightConfig:t,query:n="",text:i}){const a=(i.toLowerCase().startsWith(n.toLowerCase())?n:"").length,d=t?c(i,t.search_query_list):null;return d&&t?(0,o.jsx)(l,{allBold:e,searchDelightParts:d,searchDelightConfig:t,text:i,weightPivot:a}):(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(r,{gray:!0,weight:e?"bold":"normal",children:i.substr(0,a)}),(0,o.jsx)(r,{weight:"bold",children:i.substr(a)})]})}},150461:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(667294),i=n(199324),o=n(898781),r=n(883119),a=n(785893);function l({dataTestId:e,focusOptionId:t,isFocused:n,name:l,onBlur:c,onChange:d,onClick:u=(()=>{}),onFocus:p,onKeyDown:h,onSearchTrigger:_,placeholder:g,value:m,disabled:x=!1}){const v=(0,o.ZP)(),f=(0,s.useRef)(null);return(0,s.useEffect)((()=>{f.current&&_&&f.current.addEventListener("searchTrigger",_)}),[]),(0,s.useEffect)((()=>{if(!f.current)return;document.activeElement===f.current!==n&&(n?f.current.focus():f.current.blur())}),[n]),(0,a.jsxs)(r.xu,{height:"100%",flex:"grow",children:[(0,a.jsx)("input",{autoCapitalize:"off",autoCorrect:"off",autoComplete:"off","aria-activedescendant":t,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-label":v.bt("Cerca", "Search", "searchBox.searchInput.placeholder", undefined, true),"aria-expanded":n,"data-test-id":e,name:l,onBlur:c,onChange:e=>{d(e.target.value)},onClick:u,onFocus:p,onKeyDown:h,placeholder:g||v.bt("Cerca", "Search", "searchBox.searchInput.placeholder", undefined, true),ref:f,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:i.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:m,disabled:x}),(0,a.jsx)(r.xu,{display:"none",id:"searchBoxAccessibleText",children:v.bt("Se sono disponibili risultati del completamento automatico, utilizza i tasti freccia in su e freccia in giù per rivederli e Invio per selezionare. Gli utenti con dispositivo touch possono spostarsi sullo schermo toccandolo o scorrendolo con le dita.", "When autocomplete results are available use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures.", "searchBox.searchInput.accessibleText", undefined, true)})]})}},615119:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(689070);function i({report:e,query:t,suggestions:n,type:i}){return(0,s.Z)({url:"/v3/search/suggestion/report/",method:"POST",data:{report:e,query:t,suggestions:n,type:i}})}},254469:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(667294);const i=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},o=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};o.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new i(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},o.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},o.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},o.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},o.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};const r=o;var a=n(214494);function l({resourceName:e,resourceOptions:t}){const n={...t,count:"count"in t?t.count:5},s=a.Z.create(e,n),i=new r,o=()=>{s.abort()};return async function(e,t){const n=i.get(`${t}-${e}`);if(n){const t=n.items;if(t&&t.length){o();return{hint:n.hint,items:t,term:e}}}return e.length>=0?(async(e,t)=>{var n;if(s.isCalling()){var r,a;const n=null===(r=s.options)||void 0===r?void 0:r.term,i=null===(a=s.options)||void 0===a?void 0:a.pin_scope;if(e===n&&t===i)return;o()}const{bookmarks:l,...c}=s.options||{};s.options={...c,term:e,pin_scope:t};const d=null===(n=(await s.callGet({showError:!1})).resource_response)||void 0===n?void 0:n.data,u=null==d?void 0:d.items,p=(null==d?void 0:d.hint)||{},h={hint:p,items:u};return i.set(`${t}-${e}`,h),{term:e,items:u,hint:p}})(e,t):{hint:{},items:[],term:e}}}function c({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:n={},value:i}){const o=(0,s.useRef)(!1),r=(0,s.useRef)({}),[a,c]=(0,s.useState)([]),d=function({resourceName:e,resourceOptions:t}){const n=(0,s.useRef)();return n.current||(n.current=l({resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:n}),u=n.pin_scope||"pins",p=`${u}-${i}`;return(0,s.useEffect)((()=>{(async()=>{if(null!=i&&(e||o.current))if(p in r.current)c(r.current[p]);else try{const e=await d(i,u);if(e){const{items:t}=e;r.current[p]=t,c(t)}}catch(t){if("Resource call aborted"===t)return;throw t}o.current||(o.current=!0)})()}),[i,u,p]),a}},940589:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(643913);function i(e){const{query:t,rs:n,scope:i,guideAdded:o,filters:r,user:a}=e;if(!t)return"/";const l={q:t,rs:n};if(r&&(l.filters=r),a&&(l.user=a),o&&o.term&&(l.add_refine=`${o.term}|guide|word|${o.index}`),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,s.Z)(l)}`;let c=i;return["pins","buyable_pins","my_pins","boards","users","idea_pins"].includes(c)||(c="pins"),c?`/search/${c}/?${(0,s.Z)(l)}`:`${window.location.pathname}?${(0,s.Z)(l)}`}},23003:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(826067);function i(e){const t=(0,s.mB)(e.search)||{};let n;if(t.q){const t=e.pathname.split("/");n=t.length>2?t[2]:"pins"}if(t.q&&n){const e=Array.isArray(t.q)?t.q.join(" "):t.q,s=Array.isArray(t.rs)?"":t.rs,i=Array.isArray(t.user)?"":t.user;return{filters:t.filters||"",user:i,query:e||"",rs:s||"",scope:"pins"===n||"buyable_pins"===n||"my_pins"===n||"boards"===n||"users"===n||"videos"===n||"idea_pins"===n?n:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},391143:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(643913),i=n(613316);function o({bubbleId:e,pinId:t,query:n,referringSource:o,storyCategory:r,storyId:a,title:l}){const c=[0,24,21,26].includes(r),d=(0,s.Z)({q:n,rs:o||void 0,b_id:e,source_id:a,top_pin_id:t}),u=c&&l?(0,i.x)({title:l,id:e,articleType:"discover"}):`/discover/article/${e}/`;return c?u:"/search/pins/"+(d?"?"+d:"")}},862628:(e,t,n)=>{function s(e){return(e||"").trim().replace(/\s+/g," ")}n.d(t,{Z:()=>s})},80816:(e,t,n)=>{n.d(t,{i:()=>s});const s={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",UNKNOWN:"unknown"}},940882:(e,t,n)=>{n.d(t,{J:()=>s,Z:()=>i});const s=-1;function i(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},458451:(e,t,n)=>{n.d(t,{Z:()=>s});const s=e=>Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")},985913:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(858142);const i=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>(0,s.Z)(i,e,t)},858791:(e,t,n)=>{n.d(t,{Z:()=>s});const s=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},858142:(e,t,n)=>{n.d(t,{Z:()=>s});const s=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},66699:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(985913),i=n(858791);const o=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,i.Z)(t[e].toString()):""})),(0,s.Z)(e,n)}},883561:(e,t,n)=>{n.d(t,{ZP:()=>s});function s(e,t=80,n="…",s=false){let i;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||s)i=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);i=e.substring(0,n)}return i=i.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),i+n}},70061:(e,t,n)=>{function s(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>s})},430323:(e,t,n)=>{n.d(t,{Z:()=>v});var s=n(667294),i=n(722767),o=n(706922),r=n(245474),a=n(558068),l=n(350118),c=n(780280),d=n(790123),u=n(425288);const{Provider:p,useMaybeHook:h}=(0,u.Z)("timeSpentContext");var _=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends s.Component{constructor(e){super(e),g(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),g(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:n,objectId:s,timeSpentContext:i,view:o,viewParameter:r}=this.props;return{view:o||i&&i.view,viewParameter:r||i&&i.viewParameter,component:t||i&&i.component,element:n,objectId:s||i&&i.objectId,clientTrackingParams:e||i&&i.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),g(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),g(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),g(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),g(this,"getTimedPair",(()=>this.state.timedPair)),g(this,"setTimedPair",(e=>this.setState({timedPair:e}))),g(this,"isRegistered",!1),g(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),g(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),g(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:n,left:s,right:i,top:o}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===s&&0===i&&0===o?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new r.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,o.Z)(e.auxData,this.props.auxData)&&(0,o.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,_.jsx)(p,{value:this.getContext(),children:(0,_.jsx)(i.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:s.Children.only(e)})})}}function x(e){var t;const n=(0,a.Hv)(),i=h(),o=(0,d.w)(),r=(0,l.H0)(),{requestIdentifier:u=""}=(0,c.B)(),p={app_instance_id:u.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,s.useEffect)((()=>{null==o||o.setHistoryStackContext(n)}),[n,o]),(0,s.useEffect)((()=>{null==o||o.setPins(null!=r?r:{})}),[r,o]),o?(0,_.jsx)(m,{...e,auxData:p,timeSpentContext:i,timeSpentManager:o,children:e.children}):e.children}x.displayName="TimeSpent";const v=x},273712:(e,t,n)=>{n.d(t,{$J:()=>s,Ct:()=>h,Dm:()=>p,Ff:()=>u,Md:()=>l,My:()=>r,Rp:()=>a,ak:()=>o,d0:()=>_,gs:()=>g,jm:()=>c,oo:()=>i,vw:()=>d});const s={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",MOBILE_SMALL:"MOBILE_SMALL",MOBILE_LARGE:"MOBILE_LARGE"},i=2,o=6,r=3,a=1.5,l=16,c=8,d=16/9,u=25,p="Includes Paid Promotion #Ad",h={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},_={TRUE:!0,FALSE:!1,UNKNOWN:void 0},g=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"]},6663:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(667294),i=n(701500),o=n(391254),r=n(898781),a=n(883119),l=n(785893);function c({color:e,completeButtonText:t,completeUrl:n,dismissButtonText:c,experienceId:d,external:u,message:p,onComplete:h,onDismiss:_}){const g=(0,r.ZP)(),m=(0,s.useRef)(null),x=({event:e})=>{h&&h(e)},v=({event:e})=>{_&&_(e)},f=p&&!t,y=500735===d,b=t&&(!n||y)&&(0,l.jsx)(a.zx,{color:"white",onClick:x,text:t}),w=t&&n&&(0,l.jsx)(i.Z,{anchor:".HomeButton2",anchorElementRef:m.current,containerBoxConfig:{display:"flex",height:"100%"},children:(0,l.jsx)(a.zx,{accessibilityLabel:t,ref:m,role:"link",href:n,onClick:({event:e})=>x({event:e}),rel:u?"nofollow":"none",size:"md",color:"white",text:t},"naglink")}),S=c&&_&&(0,l.jsx)(a.xu,{mdPaddingX:2,children:(0,l.jsx)(a.zx,{color:e&&"default"!==e?"white":"gray",onClick:v,text:c})}),I=f&&!y&&_&&!c&&(0,l.jsx)(a.hU,{accessibilityLabel:g.bt("Chiudi", "Close", "accessibility close label", undefined, true),bgColor:"lightGray",onClick:v,icon:"cancel",iconColor:"gray",size:"md"});return(0,l.jsxs)(a.xu,{display:"flex",direction:"column",smDirection:"row",color:null!=e?e:"dark",paddingY:3,paddingX:6,alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(a.xu,{column:12,smColumn:f?11:8,children:(0,l.jsxs)(a.xv,{color:"inverse",weight:y?"normal":"bold",children:[(0,l.jsx)(o.Z,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),(0,l.jsx)("div",{className:"Banner--message",children:(0,l.jsx)("span",{dangerouslySetInnerHTML:{__html:p}})})]})}),(0,l.jsxs)(a.kC,{alignItems:"center",justifyContent:"end",children:[S,b||w,I]})]})}},182508:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(667294),i=n(898781),o=n(883119),r=n(785893);const a=new o.Ry(1e4);function l(){const[e,t]=(0,s.useState)(!1),[n,l]=(0,s.useState)(null),c=(0,i.ZP)(),d=(0,s.useCallback)((()=>{null==n||n.removeAttribute("tabindex"),null==n||n.removeEventListener("blur",d),null==n||n.removeEventListener("focusout",d)}),[n]);(0,s.useEffect)((()=>(n||l(document.querySelector('[role="main"]')),()=>{null==n||n.removeEventListener("blur",d),null==n||n.removeEventListener("focusout",d)})),[n,d]);const u=(0,r.jsx)(o.xu,{color:"primary",children:(0,r.jsx)(o.kC,{width:"100%",alignItems:"center",justifyContent:"center",height:75,children:(0,r.jsx)(o.xv,{underline:e,align:"center",color:"inverse",weight:"bold",children:c.bt("Vai ai contenuti", "Skip to content", "SkipToContent.Message", undefined, true)})})});return(0,r.jsx)(o.iP,{onBlur:()=>t(!1),onFocus:()=>t(!0),onTap:()=>{null==n||n.setAttribute("tabindex","-1"),null==n||n.focus({preventScroll:!0}),null==n||n.addEventListener("blur",d),null==n||n.addEventListener("focusout",d)},children:e?(0,r.jsx)(o.xu,{"data-test-id":"skipToContentContainer",position:"fixed",width:"100%",zIndex:a,children:u}):(0,r.jsx)(o.xu,{"data-test-id":"hiddenSkipToContentContainer",height:1,width:1,margin:-1,overflow:"hidden",position:"absolute",children:u})})}},537736:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(883119),i=n(785893);function o({accessibilityLabel:e,color:t,count:n,icon:o,iconSize:r}){const a=n<100?`${n}`:"99+";return(0,i.jsxs)(s.xu,{position:"relative",children:[(0,i.jsx)(s.JO,{accessibilityLabel:e,color:t,icon:o,size:r}),n>0&&(0,i.jsx)(s.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{right:-6-2*a.length,top:-8,padding:`0 ${3===a.length?"2px":"3px"} 0 2px`}},display:"flex",height:18,justifyContent:"center",minWidth:18,position:"absolute",rounding:"pill",children:(0,i.jsx)(s.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,i.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:a})})})]})}},388619:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(704115);const i=({url:e})=>{if(e){const t=e.split("?");if(t[1])return(0,s.Z)(t[1])}return(0,s.Z)()}},141452:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(794230),i=n(170168);function o({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:o,advertiserId:r}){const a=`${e||t||n?`${i.C0}`:""}${o}`;return r?(0,s.Z)(a,{advertiserId:r}):a}},215292:(e,t,n)=>{n.d(t,{Z:()=>r,q:()=>o});var s=n(667294);const i=()=>{const[e,t]=(0,s.useState)(!1),[n,i]=(0,s.useState)(!1),[o,r]=(0,s.useState)(!1);return{active:e,focused:n,hovered:o,onBlur:()=>{i(!1),t(!1)},onFocus:()=>i(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),t(!1)},onMouseUp:()=>t(!1)}};function o({children:e}){return e(i())}const r=i},781153:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(829407),i=n(965900);function o({children:e}){const{setAppFocusState:t}=(0,i.I)();return(0,s.Z)((()=>(t(!1),()=>{t(!0)}))),e}},853234:(e,t,n)=>{n.d(t,{By:()=>i,di:()=>r,s8:()=>o});var s=n(689070);const i=async({limit:e,sortBy:t="FULL_NAME",sortDirection:n="ASCENDING",searchBy:i="FULL_NAME",searchTerm:o="",startIndex:r=0})=>(await(0,s.Z)({url:"ads/v4/business_access/businesses/me/get_pinterest_support_businesses",data:{sort_by:t,sort_ascending:"ASCENDING"===n,search_by:i,search_value:o,start_index:r,page_size:e}})).resource_response,o=async e=>(await(0,s.Z)({url:`ads/v4/business_access/businesses/${e}/get_pinterest_support_access`})).resource_response,r=async()=>(await(0,s.Z)({url:"ads/v4/pinterest_support_managed_advertisers",data:{add_fields:"advertiser.owner_user()"}})).resource_response},732646:(e,t,n)=>{n.d(t,{A6:()=>o,AJ:()=>c,Eq:()=>u,F$:()=>i,H:()=>l,Iv:()=>b,Ix:()=>f,LN:()=>m,Mr:()=>r,NM:()=>s,Pc:()=>v,bH:()=>p,bn:()=>g,eE:()=>a,eZ:()=>x,he:()=>_,kG:()=>d,rl:()=>y,sC:()=>h});const s="/product-catalogs/",i="/business/catalogs/",o="/business/catalogs/data-sources/",r="/business/catalogs/product-groups/",a="/business/catalogs/diagnostics/",l="/business/catalogs/product-listings/",c="/business/catalogs/:catalog_id/data-sources/feed-debugger/",d="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/",u="/business/catalogs/:catalog_id/product-groups/edit/:product_group_id/",p="/business/catalogs/:catalog_id/product-groups/create/",h="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/",_="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/alert/:event_type_id",g="/business/catalogs/:catalog_id/product-groups/:product_group_id/",m="/business/catalogs/:catalog_id/data-sources/",x="/business/catalogs/:catalog_id/product-groups/",v=[o,m],f=[r,x],y=[a,"/business/catalogs/:catalog_id/diagnostics/"],b=[l,"/business/catalogs/:catalog_id/product-listings/"]},907162:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(732646);function i({isPartner:e,location:t}){return e&&(t.pathname.includes(s.NM)||t.pathname.includes(s.F$))}},550572:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(240684),i=n(19121),o=n(773285),r=n(785893);const a=(0,s.ZP)({resolved:{},chunkName:()=>"RoleBasedAccessControlProvider",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(39395).then(n.bind(n,869899)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 869899}},{resolveComponent:e=>e.RoleBasedAccessControlProvider}),l=({children:e})=>{const t=(0,i.Z)(),{checkExperiment:n}=(0,o.F)();return t.isAuth&&t.isPartner&&n("web_m10n_business_access_orbac_www").anyEnabled?(0,r.jsx)(a,{fallback:e,children:e}):e},c=l},829281:(e,t,n)=>{n.d(t,{I:()=>f,a:()=>v});var s=n(667294);const i=e=>[...e.map((e=>({id:e.business.id,ownedAndManagedAdAccounts:e.business.ad_account_count,user:e.business.pinterest_support_business,managedAdAccounts:e.advertisers.reduce(((e,t)=>e.set(t.id,t)),new Map)})))].sort((({user:{username:e}},{user:{username:t}})=>e.localeCompare(t))).map((e=>{const t=[...e.managedAdAccounts.values()].sort((({name:e},{name:t})=>e.localeCompare(t)));return e.managedAdAccounts=t.reduce(((e,t)=>e.set(t.id,t)),new Map),e})).reduce(((e,t)=>e.set(t.id,t)),new Map);var o=n(339363);const r={managedBusinessesMap:new Map,headerVisible:!1,activeAdAccount:{clientId:void 0,adAccountId:void 0},fetching:!1,error:!1},a=(e,t)=>{switch(t.type){case"LOAD_AD_ACCOUNTS":return{...e,managedBusinessesMap:t.payload.managedBusinesses};case"SET_ACTIVE_CLIENT":case"SET_ACTIVE_AD_ACCOUNT":return{...e,activeAdAccount:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};default:return e}},l=e=>{const[t,n]=(0,s.useReducer)(a,r),l=(({dispatch:e,isEnabled:t,state:n})=>{const{headerVisible:i}=n;return{changeClient:(0,s.useCallback)((n=>{t&&e({type:"SET_ACTIVE_CLIENT",payload:{clientId:n,adAccountId:null}})}),[t,e]),changeAdAccount:(0,s.useCallback)(((n,s)=>{t&&e({type:"SET_ACTIVE_AD_ACCOUNT",payload:{adAccountId:n,clientId:s}})}),[t,e]),toggleHeaderVisibility:(0,s.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!i})}),[t,e,i])}})({dispatch:n,isEnabled:e,state:t}),{activeAdAccount:c}=t;(0,s.useEffect)((()=>{const e=JSON.parse((0,o.qn)("psToolAdAccount",!1));e&&n({type:"SET_ACTIVE_AD_ACCOUNT",payload:e})}),[]),(0,s.useEffect)((()=>{(0,o.Nh)("psToolAdAccount",JSON.stringify(c))}),[c]);return{state:t,actions:l,receiveAdAccounts:(0,s.useCallback)((e=>{const t=i(e);n({type:"LOAD_AD_ACCOUNTS",payload:{managedBusinesses:t}})}),[n])}};var c=n(19121),d=n(853234),u=n(773285);const p=()=>{const{checkExperiment:e}=(0,u.F)(),t=(0,c.Z)(),n=Boolean(t.isAuth&&t.isPartner&&e("web_m10n_pin_support_tool").anyEnabled),{state:i,receiveAdAccounts:o}=l(n),{managedBusinessesMap:r,error:a,fetching:p}=i,h=Boolean(a)||r.size>0,_=(0,s.useCallback)((async()=>{var e;const t=await(0,d.di)();o(null!==(e=null==t?void 0:t.data)&&void 0!==e?e:[])}),[o]);return(0,s.useEffect)((()=>{h||p||_()}),[_,h,p]),r};var h=n(373232),_=n(616550),g=n(425288),m=n(785893);const{Provider:x,useMaybeHook:v}=(0,g.Z)("PinSupportToolContext"),f=({children:e,viewerAdvertiser:t})=>{const{checkExperiment:n}=(0,u.F)(),i=(0,c.Z)(),o=i.isAuth&&i.isPartner&&n("web_m10n_pin_support_tool").anyEnabled,{state:r,actions:a}=l(o),d=p(),{sterling_on_steroids_ldap:g}=(0,h.u)(),{activeAdAccount:v,headerVisible:f}=r,y=i.isAuth&&!!g&&d.size>0,{changeClient:b,changeAdAccount:w,toggleHeaderVisibility:S}=a;(0,s.useEffect)((()=>{o&&(y&&!f&&i.has_mfa_enabled&&S(!0),!y&&f&&i.has_mfa_enabled&&S(!1))}),[S,y,o,f,i.has_mfa_enabled]);const I=(()=>{const{search:e}=(0,_.useLocation)();return(0,s.useMemo)((()=>new URLSearchParams(e)),[e])})(),P=I.get("managedClientId"),A=I.get("advertiserId")||(null==t?void 0:t.id);(0,s.useEffect)((()=>{P&&A?w(A,P):P&&b(P)}),[b,w,P,A]);const T=d.get((null==v?void 0:v.clientId)||""),C=((null==T?void 0:T.managedAdAccounts)||new Map).get((null==v?void 0:v.adAccountId)||""),j=[...d.values()];return(0,m.jsx)(x,{value:{managedBusinesses:j,headerVisible:r.headerVisible,activeClient:T,activeAdAccount:C,viewerAdvertiser:t,changeClient:b,changeAdAccount:w,toggleHeaderVisibility:S},children:e})}},565158:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(19121),i=n(829281),o=n(773285),r=n(785893);const a=({children:e,viewerAdvertiser:t})=>{const n=(0,s.Z)(),{checkExperiment:a}=(0,o.F)();return n.isAuth&&n.isPartner&&a("web_m10n_pin_support_tool").anyEnabled?(0,r.jsx)(i.I,{viewerAdvertiser:t,children:e}):e}},443398:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(66211),i=n(240684),o=n(448559),r=n(898781),a=n(883119),l=n(785893);const c=(0,i.ZP)({resolved:{},chunkName:()=>"FullPageSignup",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(16458)]).then(n.bind(n,402171)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 402171}});function d(e){const t=(0,r.ZP)();return(0,l.jsx)(o.Z,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>(0,l.jsx)(a.xu,{display:"flex",justifyContent:"center",flex:"grow","data-test-id":"account-switcher-modal",children:(0,l.jsx)(c,{fallback:(0,l.jsx)(s.Z,{}),container:e.container,hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,signupFlow:{type:"login",email:e.email},isAccountSwitch:!0,signupSource:"login",customLoginTagline:e.customTaglineText||t.bt("Aggiungi account", "Add account", "Short text on the button that allows a user to log in to another Pinterest account", undefined, true)})})})}},142644:(e,t,n)=>{n.d(t,{T:()=>c,g:()=>l});var s=n(667294),i=n(443398),o=n(425288),r=n(785893);const{Provider:a,useHook:l}=(0,o.Z)("AccountSwitcherLoginModal");function c({children:e}){const[t,n]=(0,s.useState)(!1),[o,l]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),u=(0,s.useCallback)(((e,t)=>{d(e),t&&l(t),n(!0)}),[]),p=(0,s.useMemo)((()=>({showAccountSwitcherLoginModal:u})),[u]);return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(a,{value:p,children:e}),t&&(0,r.jsx)(i.Z,{container:c,email:null!=o?o:"",onClose:()=>n(!1)})]})}},448559:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(391254),i=n(898781),o=n(867820),r=n(883119),a=n(785893);const l={mask:{backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},scroller:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},modalContainer:{display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},closeButton:{backgroundColor:"Transparent",backgroundRepeat:"no-repeat",border:"none",outline:"none",overflow:"hidden",padding:"10px",position:"fixed",right:"24px",top:"24px"}};function c(e){const t=(0,i.ZP)(),n=e=>{(0,o.My)(`unauth.account_switcher_modal.${e}`)},{renderContent:c}=e;return(0,a.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:l.mask},children:[(0,a.jsx)(s.Z,{unsafeCSS:"\n.AccountSwitcherModal {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n"}),(0,a.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{n("empty_space_click");const{onCloseClick:t}=e;t()},role:"dialog",style:l.scroller,children:(0,a.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:l.modalContainer,children:[c(),(0,a.jsx)("button",{"aria-label":t.bt("chiudi", "close", "accessible label for close button", undefined, true),onClick:()=>{n("close_button_click");const{onCloseClick:t}=e;t()},style:l.closeButton,children:(0,a.jsx)(r.JO,{accessibilityLabel:t.bt("chiudi", "close", "accessible label for close button", undefined, true),color:"inverse",icon:"cancel",inline:!0})})]})})]})}},522679:(e,t,n)=>{n.d(t,{N:()=>p,t:()=>h});var s=n(667294),i=n(904431),o=n(924196),r=n(78714),a=n(214494),l=n(773285),c=n(425288),d=n(785893);const{Provider:u,useHook:p}=(0,c.Z)("LinkedAccount");function h({children:e}){const[t,n]=(0,s.useState)(!1),[c,p]=(0,s.useState)([]),{checkExperiment:h}=(0,l.F)(),_=h("ppm_p_gate").anyEnabled,g=(0,s.useCallback)((({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:s,nextUrl:l})=>{n(!0);const c={business_name:e,third_party_apps:t};return a.Z.create("BusinessOwnershipResource",c).callCreate({showError:!0}).then((()=>{s&&(e=>{i.Z.reportFacebookConversion(o.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),i.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),i.Z.reportLinkedInConversion(o.Z.LINKEDIN_PARTNER_ID,o.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),i.Z.reportGoogleConversion(o.Z.GOOGLE_ADWORDS_ID,o.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e)})(_),n(!1),(e=>{(0,r.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")})(l)})).catch((e=>(n(!1),Promise.reject({error:e}))))}),[n,_]),m=(0,s.useMemo)((()=>({createLinkedBusinessAccount:g,linkedBusinessCreationLoading:t,userAccounts:c,userAccountsRetrieved:p})),[g,t,p,c]);return(0,d.jsx)(u,{value:m,children:e})}},492640:(e,t,n)=>{n.d(t,{Z:()=>m});var s=n(702664),i=n(313139),o=n(240684),r=n(730077),a=n(50286),l=n(883119),c=n(826067),d=n(616550),u=n(780280),p=n(785893);const h=(0,o.ZP)({resolved:{},chunkName:()=>"ProPartnerHeaderDesktop",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(30381),n.e(67123)]).then(n.bind(n,810819)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 810819}}),_=(0,o.ZP)({resolved:{},chunkName:()=>"ProAdvertiserSwitcherDropdown",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(6743),n.e(41473),n.e(89980)]).then(n.bind(n,293472)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 293472}}),g=(0,o.ZP)({resolved:{},chunkName:()=>"PinSupportToolHeader",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(6743),n.e(41473),n.e(77726)]).then(n.bind(n,168848)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 168848}});function m({isBPMPage:e,isShoppingCatalogs:t,isVMPStatusPage:n,viewer:o}){const m=(0,a.ZP)(),x=(0,d.useLocation)(),{advertiser:v}=(0,u.B)(),f="desktop"===m?"DESKTOP":"MOBILE",y=(0,s.useSelector)((({experiences:e})=>e)),b=o.isAuth&&o.isPartner,w=9===(y[11]||{}).type?null:(0,p.jsx)(r.Z,{experience:y[30],nags:o.nags||[]}),S=x.search&&(0,c.mB)(x.search).advertiserId;return(0,p.jsx)(l.xu,{"data-test-id":"header-"+(b?"PartnerHeader":"Header"),children:b?t||n&&S||e?(0,p.jsxs)(l.xu,{"data-test-id":"pro-partner-header",children:[(0,p.jsx)(g,{isWwwSite:!0}),(0,p.jsx)(h,{currentSite:f,isShoppingCatalogs:t,suppressSearchBox:!0,advertiserSwitcherDropdown:v?(0,p.jsx)(_,{activeAdvertiser:v,isAdsSite:!1,isAnalyticsSite:!1,isWwwSite:!0,showCreateButton:!1,showViewAllButton:!0,userId:o.id||""}):null})]}):(0,p.jsxs)(l.xu,{"data-test-id":"pro-partner-header",children:[(0,p.jsx)(g,{}),(0,p.jsx)(h,{currentSite:f,nags:w})]}):(0,p.jsx)(i.Z,{currentSite:f,nags:w,viewer:o})})}},164686:(e,t,n)=>{n.d(t,{FT:()=>p,GW:()=>l,HW:()=>d,PX:()=>m,V3:()=>c,Wo:()=>h,XA:()=>A,bJ:()=>_,cZ:()=>S,dF:()=>w,f6:()=>P,jY:()=>T,k:()=>f,kV:()=>y,nP:()=>b,nY:()=>x,pg:()=>I,qc:()=>g,tR:()=>v});var s=n(794230),i=n(883561),o=n(55259),r=n(966113),a=n(170168);const l="/branded-pins",c={PENDING:"PENDING",APPROVED:"APPROVED",DENIED:"DENIED"},d=(u={REQUESTED:0,APPROVED:1,REJECTED:2},Object.keys(u).reduce(((e,t)=>{const n={...e};return n[t]=t,n}),{}));var u;const p=e=>{let t;switch(e){case c.PENDING:t=d.REQUESTED;break;case c.APPROVED:t=d.APPROVED;break;case c.DENIED:t=d.REJECTED;break;default:t=d.REQUESTED}return t},h={APPROVED:"APPROVED",REJECTED:"REJECTED",ERROR:"ERROR"},_=(e,t,n)=>{let s;const i={[h.APPROVED]:{icon:"workflow-status-ok",displayText:e.bt("Approvati", "Approved", "brandedContentPinCard.footer.approvedIcon", undefined, true),color:"success"},[h.REJECTED]:{icon:"workflow-status-problem",displayText:e.bt("Negato", "Denied", "brandedContentPinCard.footer.deniedIcon", undefined, true),color:"error"},[h.ERROR]:{icon:"workflow-status-problem",displayText:e.bt("Riprova", "Try again", "brandedContentPinCard.footer.errorIcon", undefined, true),color:"error"}};return 1===n&&(s=i.APPROVED),2===n&&(s=i.REJECTED),!0===t&&(s=i.ERROR),s},g=e=>{let t;return e===h.APPROVED?t=1:e===h.REJECTED&&(t=2),t},m=(e,t)=>(0,i.ZP)(e,t,"…",!0),x=`${a.C0}/branded-pins/`,v=(e,t)=>{const n=o.Z.create({entity:"campaign"});return e&&t?(0,s.Z)(r.au+"/advertiser/"+e+n,{pinId:t,from:"bpm"}):r.au},f={ERROR_APPROVING:"ERROR_APPROVING",ERROR_REJECTING:"ERROR_REJECTING",ERROR_DEFAULT:"ERROR_DEFAULT"},y=302,b=384,w=254,S=142,I=173,P=12,A=35,T=9},992813:(e,t,n)=>{n.d(t,{Z:()=>l,i:()=>a});var s=n(667294),i=n(425288),o=n(785893);const{Provider:r,useHook:a}=(0,i.Z)("ContentHeader");function l({children:e}){const[t,n]=(0,s.useState)(!1),i=(0,s.useMemo)((()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:n})),[t]);return(0,o.jsx)(r,{value:i,children:e})}},516783:(e,t,n)=>{n.d(t,{Z:()=>_});var s=n(667294),i=n(375571),o=n(907162),r=n(995228),a=n(941646),l=n(19121),c=n(350118),d=n(53987),u=n(616550),p=n(785893);const h=(0,s.lazy)((()=>Promise.all([n.e(15071),n.e(82092)]).then(n.bind(n,82092)))),_=()=>{var e,t;const n=(0,l.Z)(),s=(0,u.useLocation)(),_=!!n.isAuth&&n.isPartner,g=(0,o.Z)({isPartner:_,location:s})||(0,d.rk)(s)||(0,d.dW)(s)||(0,d.bb)(s),m=(0,d.O7)(s)||(0,d.RU)(s)&&_,x=null===(e=(0,u.matchPath)(s.pathname,{path:"/pin/:id",exact:!0}))||void 0===e?void 0:e.params.id,v=!(null===(t=(0,c.S6)()(x||""))||void 0===t||!t.story_pin_data)?124:void 0;return(0,p.jsx)(a.Z,{id:"footer",children:(0,p.jsx)(i.Z,{name:"SafeSuspense_DesktopApp_Footer",children:(0,p.jsx)(r.Z,{children:(0,p.jsx)(h,{hideQuestionMarkButton:g,isPartner:_,liftFooterButtonByPx:v,showInsiteFeedback:m})})})})}},833991:(e,t,n)=>{n.d(t,{HW:()=>r,YW:()=>u,i3:()=>p,o2:()=>d});var s=n(667294),i=n(425288),o=n(785893);const r=660,a={educationId:null,paddingRight:0,zIndex:r};function l(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":const{educationId:n}=t.payload;return{...e,educationId:n};case"FOOTER_SET_PADDING_RIGHT":const{paddingRight:s}=t.payload;return{...e,paddingRight:s};case"FOOTER_SET_Z_INDEX":const{zIndex:i}=t.payload;return{...e,zIndex:i};default:return e}}const{Provider:c,Consumer:d,useHook:u}=(0,i.Z)("footerContext");function p({children:e}){const[t,n]=(0,s.useReducer)(l,a),i=(0,s.useCallback)((e=>n({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})),[]),r=(0,s.useCallback)((e=>n({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})),[]),d=(0,s.useCallback)((e=>n({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})),[]),u=(0,s.useMemo)((()=>({...t,setEducationId:r,setPaddingRight:i,setZIndex:d})),[t,r,i,d]);return(0,o.jsx)(c,{value:u,children:e})}},697335:(e,t,n)=>{n.d(t,{c:()=>i,t:()=>o});var s=n(883521);function i({children:e}){const{height:t}=(0,s.J)();return e(t)}function o(){const{height:e}=(0,s.J)();return e}},883521:(e,t,n)=>{n.d(t,{J:()=>c,Z:()=>h});var s=n(667294),i=n(522679),o=n(425288),r=n(977558),a=n(785893);const{Provider:l,useHook:c}=(0,o.Z)("Header"),d={childList:!0,attributes:!0,subtree:!0},u={height:r.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function p(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw new Error("action type not supported")}}function h({children:e}){const t=(0,s.useRef)(null),[{height:n,isInBiznuxFullscreen:o,repinPinId:c,repinStartAnimation:h,showAccountMenuFlyout:_},g]=(0,s.useReducer)(p,u);(0,s.useEffect)((()=>{const e=document.getElementById(r.WZ),n=()=>{e&&g({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(n),t.current.observe(e,d)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}}));const m=(0,s.useMemo)((()=>({height:n,isInBiznuxFullscreen:o,repinPinId:c,repinStartAnimation:h,showAccountMenuFlyout:_,updateHeaderState:g})),[g,n,o,c,h,_]);return(0,a.jsx)(l,{value:m,children:(0,a.jsx)(i.t,{children:e})})}},313139:(e,t,n)=>{n.d(t,{Z:()=>ae});var s=n(667294),i=n(837131),o=n(121093),r=n(219286),a=n(701500),l=n(215292),c=n(497529),d=n(898781),u=n(287072),p=n(112690),h=n(48714),_=n(883119),g=n(785893);const m=505586,x=1000109;function v(e,t,n){return e||t?"selected":n?"secondary":void 0}const f=({anchorElementRef:e,children:t,url:n})=>"/"===n?(0,g.jsx)(a.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,y=({children:e,role:t,url:n,contextData:i,onClick:o})=>{const r=(0,p.Z)(),a=(0,u.Z)({href:n||"",onHistoryChange:h.Jd}),c=(0,s.useRef)(null),{onBlur:d,onFocus:m,onMouseDown:x,onMouseEnter:v,onMouseLeave:f,onMouseUp:y}=(0,l.Z)(),b=e=>{if(i){const{event:e,component:t,element:n}=i;r({component:t,element:n,event_type:e})}o&&o(e)};return"link"===t?(0,g.jsx)(_.iP,{href:n||"",onBlur:d,onFocus:m,onMouseDown:x,onMouseEnter:v,onMouseLeave:f,onMouseUp:y,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),b(e),n&&a({event:e})},ref:c,role:"link",rounding:6,children:e}):(0,g.jsx)(_.iP,{onBlur:d,onFocus:m,onMouseDown:x,onMouseEnter:v,onMouseLeave:f,onMouseUp:y,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),b(e),n&&a({event:e})},ref:c,role:"button",rounding:6,children:e})};function b({contextData:e,exploreTabExperience:t=!1,iconEnd:n,isSelected:i,onClick:r=(()=>{}),role:a="link",showNotifBadge:u=!1,text:p,url:h}){const b=(0,d.ZP)(),w=(0,s.useRef)(null),{active:S,hovered:I}=(0,l.Z)(),P=(0,c.Z)(x),A=()=>u&&(0,g.jsx)(_.xu,{"aria-label":b.bt("Notifiche", "Notifications", "header.headerTab.notifBadge", undefined, true),color:"primary",height:6,marginStart:1,marginTop:-2,rounding:"circle",width:6});return(0,g.jsx)(_.xu,{flex:"none",height:48,minWidth:60,rounding:6,children:(0,g.jsx)(f,{url:h||"",anchorElementRef:w,children:(0,g.jsx)(y,{contextData:e,onClick:e=>{r(e),u&&P.completeExperience(x,m)},role:a,url:h,children:(0,g.jsx)(_.xu,{color:v(i,S,I),dangerouslySetInlineStyle:{__style:{backgroundColor:S&&!i?"#D2D2D2":void 0,whiteSpace:"nowrap"}},flex:"none",height:48,minWidth:60,rounding:6,paddingX:4,children:(0,g.jsxs)(_.kC,{height:"100%",justifyContent:"center",alignItems:"center",children:[(0,g.jsx)(_.xv,{align:"center",color:i?"inverse":"default",inline:!0,overflow:"normal",weight:"bold",children:p}),n&&(0,g.jsx)(_.xu,{marginStart:2,children:(0,g.jsx)(_.JO,{icon:n,accessibilityLabel:"",color:i?"inverse":"default",size:12})}),t?(0,g.jsx)(o.Z,{eligibleIds:[m],placementId:x,children:(0,g.jsx)(A,{})}):(0,g.jsx)(A,{})]})})})})})}var w=n(237056),S=n(407043),I=n(616550);const P=({isSelected:e})=>{const t=(0,d.ZP)(),{logContextEvent:n}=(0,S.v)(),i=(0,w.Z)(!0),a=(0,s.useRef)(null),l=(0,s.useRef)(null),[c,u]=(0,s.useState)(!1),p=(0,I.useHistory)(),h=e=>{n({event_type:101,component:13988,element:e}),u(!1)};return(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(_.xu,{ref:a,"data-test-id":"addPinButton",children:(0,g.jsx)(b,{contextData:{event:101,component:8,element:12969},onClick:e=>{i?(n({event_type:101,component:13988,element:10949}),e.preventDefault(),p.push({pathname:(0,r.Z)(i),state:{entry_type:"navbar_plus_button"}})):u((e=>!e))},isSelected:e,text:t.bt("Crea", "Create", "header.section.createTab", undefined, true),role:i?"link":"button",iconEnd:i?void 0:"arrow-down",url:i?void 0:(0,r.Z)(i)})}),a&&(0,g.jsx)(o.Z,{eligibleIds:[504669],placementId:1000109,eligibleTypes:[8],children:({complete:e,dismiss:t,experience:n})=>{const{display_data:s}=n;return l.current={complete:e},null!=s&&s.disappear_time&&setTimeout((()=>{t()}),s.disappear_time),(0,g.jsx)(_.xu,{zIndex:new _.Ry(10),children:(0,g.jsx)(_.Li,{anchor:a.current,idealDirection:"down",onDismiss:()=>{},accessibilityLabel:"PopoverEducational",message:null==s?void 0:s.text})})}}),c&&(0,g.jsxs)(_.Lt,{anchor:a.current,idealDirection:"down",onDismiss:()=>{u(!1)},zIndex:new _.Ry(1e3),id:"header-create-dropdown",children:[(0,g.jsx)(_.Lt.Link,{dataTestId:"create-idea-pin",href:"/idea-pin-builder/",onClick:()=>h(10949),option:{value:"ideaPin",label:t.bt("Crea Pin Idea", "Create Idea Pin", "header.headerCreateMenu.ideaPinBtn", undefined, true)}}),(0,g.jsx)(_.Lt.Link,{dataTestId:"create-static-pin",href:"/pin-builder/",onClick:()=>h(10643),option:{value:"pin",label:t.bt("Crea Pin", "Create Pin", "header.headerCreateMenu.pinBtn", undefined, true)}})]})]})};var A=n(23279),T=n.n(A),C=n(333312),j=n(987835),E=n(558587),k=n(19121),R=n(170168);function D({headerIconExperience:e,isWwwSite:t=!0,onClick:n,url:i}){const o=(0,d.ZP)(),r=(0,k.Z)(),l=(0,p.Z)(),[c,u]=(0,s.useState)(null),h=()=>{l({component:8,element:244,event_type:101}),n&&n()};let m=t?"/":R.C0;r.partner&&(m=t?"/":R.Ag);const x=t&&i?i:m;return(0,g.jsx)(a.Z,{anchor:".pinLogo",anchorElementRef:c,experience:e,onCompleteClick:h,children:(0,g.jsx)(_.hU,{role:"link",accessibilityLabel:o.bt("Home page", "Home", "header.homeButton.section", undefined, true),href:x,iconColor:"brandPrimary",icon:"pinterest",onClick:h,padding:3,ref:e=>{null===e||c||u(e)},size:"xl",tabIndex:-1})})}var Z=n(784590);function L({children:e,isSelected:t}){const{isLoaded:n,data:s}=(0,Z.Z)({name:"HomefeedBadgingResource",noCache:!0});return e(Boolean(n&&s)&&!t)}var M=n(773515);n(730077);function O({anchor:e}){const t=(0,d.ZP)();return(0,g.jsx)(_.J2,{anchor:e,color:"blue",idealDirection:"down",onDismiss:()=>{},showCaret:!0,children:(0,g.jsx)(_.xu,{column:12,padding:3,children:(0,g.jsx)(_.xv,{color:"inverse",weight:"bold",children:t.bt("Nel feed vedrai idee relative ai tuoi nuovi interessi", "Your home feed will show ideas for your new interests", "Flyout message on Pinterest logo on Header", undefined, true)})})})}var z=n(682928),B=n(699211),N=n(327956),F=n(773285),H=n(224525);function U({isSelected:e}){const t=(0,d.ZP)(),{anyEnabled:n}=(0,F.F)().checkExperiment("dweb_search_landing_page_refinements");(0,N.Z)({component:8,element:11674});const s=n?t.bt("Esplora", "Explore", "header.section.exploreTab", undefined, true):t.bt("Oggi", "Today", "header.section.todayTab", undefined, true);return(0,g.jsx)(b,{contextData:{event:101,component:8,element:11674},exploreTabExperience:n,isSelected:e,showNotifBadge:n,text:s,url:(0,H.tG)()})}var q=n(826067),W=n(132651),G=n(867820),V=n(784641),$=n(522679),Y=n(164792),K=n(941646),X=n(977558);function J(e,t){return e?"dark":t?"secondary":void 0}function Q({tabs:e}){var t;const n=(0,d.ZP)(),[i,o]=(0,s.useState)(!1),{hovered:r,onMouseEnter:a,onMouseLeave:c}=(0,l.Z)(),u=(0,s.useRef)();let p=e.find((e=>e.isSelected));p||(p=e.find((e=>"home"===e.key)));const h=()=>o(!1);return(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(_.xu,{color:J(i,r),flex:"none",display:"inlineBlock",height:48,minWidth:60,onMouseEnter:a,onMouseLeave:c,ref:u,rounding:6,marginStart:2,children:(0,g.jsx)(_.iP,{fullHeight:!0,onTap:()=>o(!i),rounding:6,children:(0,g.jsxs)(_.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"14px 14px",whiteSpace:"nowrap"}},display:"flex",flex:"none",justifyContent:"center",children:[(0,g.jsx)(_.xv,{align:"center",color:i?"inverse":"default",overflow:"normal",weight:"bold",children:null===(t=p)||void 0===t?void 0:t.text}),(0,g.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"1px"}},marginStart:2,children:(0,g.jsx)(_.JO,{accessibilityLabel:n.bt("Apri menu scheda", "Open tab menu", "header.tabMenu.downArrow", undefined, true),color:i?"inverse":"default",icon:"arrow-down",size:12})})]})})}),i&&(0,g.jsx)(K.Z,{id:"HeaderCollapsedTabsMenu",children:(0,g.jsx)(_.Lt,{anchor:u.current,id:"HeaderCollapsedTabsMenu",onDismiss:h,zIndex:new _.H3([new _.Ry(X.fe)]),children:e.map((({isSelected:e,key:t,text:s,url:i})=>(0,g.jsx)(_.Lt.Link,{href:i,option:{value:t,label:s},onClick:h,children:(0,g.jsxs)(_.kC,{alignItems:"center",width:"100%",children:[(0,g.jsx)(_.kC.Item,{flex:"grow",children:(0,g.jsx)(_.xv,{weight:"bold",children:s})}),(0,g.jsx)(_.JO,{accessibilityLabel:n.bt("Opzione selezionata", "Selected option", "flyoutMenu.selectedOptionCheckmark", undefined, true),color:"default",icon:e?"check":void 0,inline:!0})]})},t)))})})]})}var ee=n(7893),te=n(780280),ne=n(550448),se=n(49028),ie=n(53987);function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class re extends s.Component{constructor(e){super(e),oe(this,"mounted",!1),oe(this,"iconRoutes",{bag:"shop_pins",explore:"discover",home:"/",profile:this.props.viewer.username,search:"search",today:"today",create:"idea-pin-builder"}),oe(this,"logoButtonRef",(0,s.createRef)()),oe(this,"profileRef",(0,s.createRef)()),oe(this,"getCollapsedTabList",(()=>[{key:"home",text:this.props.i18n.bt("Home page", "Home", "header.homeButton.section", undefined, true),url:"/"},...this.props.isTodayTabEligible?[{key:"today",text:this.props.i18n.bt("Oggi", "Today", "header.section.todayTab", undefined, true),url:(0,H.tG)()}]:[],{key:"create",text:this.props.i18n.bt("Crea", "Create", "header.section.createTab", undefined, true),url:(0,r.Z)(this.props.isIdeaPinRenamingEnabled)}])),oe(this,"getSubpage",(e=>{if("/"===e||""===e)return"home";const t=e.split("/",2)[1];if(t&&this.iconRoutes)for(const n of Object.keys(this.iconRoutes))if(t===this.iconRoutes[n])return n;return null})),oe(this,"handleResize",T()((()=>{if(this.mounted){var e;const t=(null===(e=document.getElementById("searchBoxContainer"))||void 0===e?void 0:e.offsetWidth)||0;this.setState({searchIconOnly:t<=300}),window.innerWidth<850&&this.props.requestContext?this.setState({shrinkSearchbox:!0}):this.state.shrinkSearchbox&&this.setState({searchIconOnly:!1,shrinkSearchbox:!1})}}),100)),oe(this,"fetchUserAccounts",(()=>{const{userAccountsRetrieved:e,viewer:t}=this.props;(0,ee.dD)(t).then((t=>{e(t)}))})),this.state={headerIconExperience:null,searchIconOnly:!1,selected:this.getSubpage(e.location.pathname),showLeftTabs:!0,showToolTip:!1,shrinkSearchbox:!1}}componentDidMount(){const{headerButtonContext:e}=this.props;this.mounted=!0,this.fetchUserAccounts(),this.handleResize(),window.addEventListener("resize",this.handleResize),(0,s.startTransition)((()=>{e.setLogoButtonRef(this.logoButtonRef.current)}))}componentDidUpdate(e){const{location:t,showToolTipExp:n}=this.props;if(e.location.pathname!==t.pathname){const e=this.getSubpage(t.pathname);this.setState({selected:e})}e.showToolTipExp!==n&&(this.state.showToolTip||this.setState({showToolTip:!0}))}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.mounted=!1}renderButtons(){const{currentSite:e,headerButtonContext:t,history:n}=this.props,{headerIconExperience:o,selected:r,searchIconOnly:a,showLeftTabs:l,showToolTip:c,shrinkSearchbox:d}=this.state;return(0,g.jsxs)(_.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,g.jsxs)(_.xu,{children:[(0,g.jsx)(_.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,g.jsx)(D,{headerIconExperience:o},"HomeButton")}),c&&(0,g.jsx)(C.default,{experienceIds:[500613],placementId:19,anchor:this.logoButtonRef.current,shouldTimeoutDismiss:!0,noClickToDismiss:!0}),t.isTooltipOnLogoButtonShown&&(0,g.jsx)(O,{anchor:this.logoButtonRef.current})]}),!d&&l&&(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(L,{isSelected:"home"===r,children:e=>(0,g.jsx)(b,{isSelected:"home"===r,showNotifBadge:e,text:this.props.i18n.bt("Home page", "Home", "header.homeButton.section", undefined, true),url:"/"})}),this.props.isTodayTabEligible&&(0,g.jsx)(U,{isSelected:"today"===r}),(0,g.jsx)(P,{isSelected:"create"===r})]}),d&&l&&(0,g.jsx)(Q,{tabs:this.getCollapsedTabList().map((e=>({isSelected:r===e.key,...e})))}),n.push&&(0,g.jsx)(B.Z,{handleIconOnlyChange:e=>this.setState({showLeftTabs:a&&e}),iconOnly:a,widthType:d?"shrink":void 0}),(0,g.jsxs)(_.xu,{display:"flex",alignItems:"center","data-test-id":"button-container",children:[(0,g.jsx)(W.F,{value:{currentSite:e},children:(0,g.jsx)(i.Z,{})}),(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(_.xu,{ref:this.profileRef,children:(0,g.jsx)(z.Z,{children:(0,g.jsx)(E.Z,{isSelected:"profile"===r})})}),(0,g.jsx)(j.Z,{currentSite:e})]})]})]})}renderHomeButtonAndAccountSwitcher(){const{currentSite:e,headerButtonContext:t}=this.props,{headerIconExperience:n,selected:i,showToolTip:o}=this.state;return(0,g.jsxs)(_.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,g.jsxs)(_.xu,{children:[(0,g.jsx)(_.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,g.jsx)(D,{headerIconExperience:n},"HomeButton")}),o&&(0,g.jsx)(C.default,{experienceIds:[500613],placementId:19,anchor:this.logoButtonRef.current,shouldTimeoutDismiss:!0,noClickToDismiss:!0}),t.isTooltipOnLogoButtonShown&&(0,g.jsx)(O,{anchor:this.logoButtonRef.current})]}),(0,g.jsx)(_.xu,{flex:"grow"}),(0,g.jsx)(_.xu,{display:"flex",alignItems:"center","data-test-id":"button-container",children:(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(_.xu,{ref:this.profileRef,children:(0,g.jsx)(z.Z,{children:(0,g.jsx)(E.Z,{isSelected:"profile"===i})})}),(0,g.jsx)(j.Z,{currentSite:e})]})})]})}renderUnsubscribePageHeader(){const{headerIconExperience:e}=this.state,{history:t,i18n:n}=this.props;return(0,g.jsxs)(_.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,g.jsx)(_.xu,{children:(0,g.jsx)(D,{headerIconExperience:e},"HomeButton")}),(0,g.jsx)(_.xu,{flex:"grow"}),(0,g.jsx)(_.xu,{display:"flex",alignItems:"center","data-test-id":"button-container",children:(0,g.jsx)(_.iP,{tapStyle:"compress",rounding:2,onTap:()=>{t.push("/"),(0,G.My)("web.unsubscribe_page.back_to_pinterest.click")},children:(0,g.jsxs)(_.kC,{alignItems:"center",justifyContent:"start",children:[(0,g.jsx)(_.xv,{inline:!0,weight:"bold",size:"300",children:n.bt("Torna a Pinterest", "Back to Pinterest", "header.backToPinterest.section", undefined, true)}),(0,g.jsx)(E.Z,{isSelected:!1,noNavigation:!0})]})})})]})}renderHeaderContent(){const{location:e,viewer:t}=this.props;if((0,ie.RU)(e)){const t=(0,q.mB)(e.search);if((0,M.Z)(t))return this.renderHomeButtonAndAccountSwitcher()}else if((0,ie.OK)(e)&&t.isLimitedLogin)return this.renderUnsubscribePageHeader();return this.renderButtons()}render(){const{headerShadowContext:{isScrolled:e,subheaderShadow:t},nags:n}=this.props;return(0,g.jsxs)(_.xu,{color:"default",column:12,"data-test-id":"header-background",children:[n,(0,g.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{...null===t&&e?X.Rz:{}}},children:(0,g.jsx)(_.kC,{direction:"column",height:X.cI,justifyContent:"start",width:"100%",children:(0,g.jsx)(_.xu,{alignItems:"center",column:12,display:"flex",flex:"grow",paddingX:4,paddingY:1,children:this.renderHeaderContent()})})})]})}}function ae(e){var t;const n=(0,d.ZP)(),s=(0,Y.X2)(),i=(0,te.B)(),{checkExperiment:o}=(0,F.F)(),{userAccountsRetrieved:r}=(0,$.N)();o("community_engagement_holdout_2023_h1"),o("social_growth_holdout_2022_h2"),o("social_growth_holdout_2023_h1");const a=(0,w.Z)(!0),l=(0,V.bl)(),c=s&&Object.keys(s).map((e=>s[e])).filter((e=>e.showTooltip)).length>0;return(0,g.jsx)(re,{...e,headerButtonContext:(0,ne.p)(),headerShadowContext:(0,se.WQ)(),history:(0,I.useHistory)(),i18n:n,isIdeaPinRenamingEnabled:a,isTodayTabEligible:l,location:(0,I.useLocation)(),requestContext:i,showPersonalBoutique:null!==(t=e.viewer.show_personal_boutique)&&void 0!==t&&t,showToolTipExp:c,userAccountsRetrieved:r})}},558587:(e,t,n)=>{n.d(t,{Z:()=>v});var s=n(667294),i=n(116303),o=n(141452),r=n(941646),a=n(215292),l=n(898781),c=n(287072),d=n(19121),u=n(977558),p=n(48714),h=n(883521),_=n(780280),g=n(883119),m=n(785893);function x({children:e,show:t,text:n}){return t?(0,m.jsx)(g.u,{accessibilityLabel:"",text:n,zIndex:new g.H3([new g.Ry(u.fe)]),children:e}):e}function v({isAdsSite:e=!1,isAnalyticsSite:t=!1,isTrendsSite:n=!1,isSelected:u,noNavigation:v=!1}){const f=(0,d.Z)(),y=(0,_.B)(),b=(0,l.ZP)(),{active:w,hovered:S,onBlur:I,onFocus:P,onMouseDown:A,onMouseUp:T,onMouseEnter:C,onMouseLeave:j}=(0,a.Z)(),{fullName:E,username:k,imageMediumUrl:R}=f.isAuth?f:{fullName:"",username:"",imageMediumUrl:""},{isInBiznuxFullscreen:D}=(0,h.J)(),Z=(0,s.useRef)(null),L=(0,o.Z)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:`/${k}/`,requestContext:y}),M=(0,c.Z)({href:L,onHistoryChange:p.Jd});return D||v?(0,m.jsx)(g.xu,{height:48,rounding:"circle",width:48,"data-test-id":"header-profile",children:(0,m.jsx)(g.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,m.jsx)(g.xu,{alignItems:"center",display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30,children:(0,m.jsx)(i.Z,{name:E,size:"xs",src:R})})})}):(0,m.jsx)(r.Z,{id:"header-profile",children:(0,m.jsx)(x,{show:![e,t,n].some(Boolean),text:b.bt("Il tuo profilo", "Your profile", "navbar.avatarButton.tooltip", undefined, true),children:(0,m.jsx)(g.iP,{href:L,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),M({event:e})},role:"link",rounding:"circle",children:(0,m.jsx)(g.xu,{color:S?"secondary":void 0,height:48,onBlur:I,onFocus:P,onMouseDown:A,onMouseUp:T,onMouseEnter:C,onMouseLeave:j,rounding:"circle",ref:Z,width:48,children:(0,m.jsx)(g.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,m.jsx)(g.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...w||u?{border:"2px solid #111111"}:{}}},display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30,children:(0,m.jsx)(i.Z,{name:E,size:"xs",src:R})})})})})})})}},550448:(e,t,n)=>{n.d(t,{e:()=>i,p:()=>o});var s=n(425288);const{Provider:i,useHook:o}=(0,s.Z)("headerButtonContext")},55569:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(667294),i=n(550448),o=n(785893);function r({children:e}){const[t,n]=(0,s.useState)(null),[r,a]=(0,s.useState)(!1),l=(0,s.useMemo)((()=>({logoButtonRef:t,setLogoButtonRef:n,isTooltipOnLogoButtonShown:r,toggleTooltipOnLogoButton:a})),[t,r]);return(0,o.jsx)(i.e,{value:l,children:e})}},977558:(e,t,n)=>{n.d(t,{L1:()=>o,Rz:()=>l,WZ:()=>r,cI:()=>i,fe:()=>a,hu:()=>s});const s=64,i=80,o=22,r="HeaderContent",a=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},566438:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(667294),i=n(701500),o=n(407043),r=n(883119),a=n(785893);const l=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,a.jsx)(i.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,c=({accessibilityLabel:e,compactMode:t,icon:n,rightIcon:i,selected:c,text:d,type:u="link",url:p,contextData:h,onClick:_})=>{const{logContextEvent:g}=(0,o.v)(),[m,x]=(0,s.useState)("transparent"),v=(0,s.useRef)(null),f=()=>{x("secondary")},y=()=>{x("transparent")},b=()=>{x("transparent")},w=()=>{x("secondary")},S=e=>{if(h){const{event:e,component:t,element:n}=h;g({event_type:e,component:t,element:n})}_&&_(e)};let I=(0,a.jsx)(r.iP,{accessibilityLabel:e,onTap:({event:e})=>S(e),rounding:"circle",onMouseEnter:f,onMouseLeave:y,onFocus:w,onBlur:b,children:(0,a.jsx)(r.xu,{rounding:"circle",height:48,width:48,color:m,display:"flex",alignItems:"center",justifyContent:"center",children:n})});if(i||"link"!==u||!p||t){if("link"===u&&(t&&n||i)){let s="pill";const o="200";let l,u;s=n||i?d&&!t?"pill":"circle":"pill",n&&(l=n),i&&(u=i);const h=d instanceof Object?d:(0,a.jsx)(r.xv,{color:c?"default":"subtle",overflow:"normal",size:o,weight:"bold",children:d});I=(0,a.jsx)(r.iP,{role:"link",href:p||"",accessibilityLabel:e,onTap:({event:e})=>S(e),rounding:s,onMouseEnter:f,onMouseLeave:y,onFocus:w,onBlur:b,children:(0,a.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[l,!!d&&!t&&(0,a.jsx)(r.xu,{paddingX:2,children:h}),u]})})}}else I=(0,a.jsx)(l,{experienceAnchor:"/"===p?".HomeButton2":"",anchorElementRef:v,children:(0,a.jsx)(r.iP,{role:"link",href:p,accessibilityLabel:e,onTap:({event:e})=>S(e),rounding:"pill",ref:v,onMouseEnter:f,onMouseLeave:y,onFocus:w,onBlur:b,children:(0,a.jsx)(r.xu,{paddingX:4,paddingY:4,rounding:"pill",color:m,children:(0,a.jsx)(r.xv,{color:c?"default":"subtle",overflow:"normal",weight:"bold",children:d})})})});return(0,a.jsx)(r.xu,{position:"relative",children:I})}},49028:(e,t,n)=>{n.d(t,{Hv:()=>c,WQ:()=>l});var s=n(667294),i=n(766935),o=n(425288),r=n(785893);const{Provider:a,useHook:l}=(0,o.Z)("HeaderShadow");function c({children:e}){const[t,n]=(0,s.useState)(!1),[o,l]=(0,s.useState)(0),[c,d]=(0,s.useState)(null);return(0,s.useEffect)((()=>{const e=(0,i.Z)((()=>{n(window.scrollY>0),l(window.scrollY)}),50);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,r.jsx)(a,{value:{currentScrollPosition:o,isScrolled:t,setSubheaderShadow:d,subheaderShadow:c},children:e})}},682928:(e,t,n)=>{n.d(t,{Z:()=>g});var s=n(667294),i=n(391254),o=n(350118),r=n(883521),a=n(883119),l=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={__style:{left:"50%",marginLeft:-125}},u={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},h={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}};class _ extends s.Component{constructor(...e){super(...e),c(this,"state",{imageLoaded:!1}),c(this,"handleAnimationCompletion",(()=>{const{animationEnded:e}=this.props;this.setState({imageLoaded:!1},(()=>{e()}))})),c(this,"handleImageLoad",(()=>{this.setState({imageLoaded:!0})})),c(this,"loadImage",(()=>{const e=new Image;e.onload=this.handleImageLoad,e.src=this.imageSrc()})),c(this,"imageSrc",(()=>{var e,t;const{images:n={}}=this.props.lastRepin||{};return null!==(e=null===(t=n["236x"])||void 0===t?void 0:t.url)&&void 0!==e?e:""})),c(this,"shouldRenderAnimation",(()=>{const{lastRepin:e,startAnimation:t}=this.props,{imageLoaded:n}=this.state;return Boolean(e&&n&&t)}))}componentDidUpdate(e,t){const{lastRepin:n={}}=e,{imageLoaded:s}=t,{lastRepin:i,startAnimation:o}=this.props,{imageLoaded:r}=this.state;i&&i.id!==(null==n?void 0:n.id)&&this.loadImage(),o&&r&&r!==s&&(this.dismissTimeout=setTimeout(this.handleAnimationCompletion,2500))}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}render(){const{children:e}=this.props;return this.shouldRenderAnimation()?(0,l.jsxs)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,l.jsx)(i.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0) scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(-100px) scale(0.0);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,l.jsxs)(a.xu,{position:"relative",children:[(0,l.jsxs)(a.xu,{width:250,height:250,position:"absolute",top:!0,dangerouslySetInlineStyle:d,children:[(0,l.jsx)(a.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:u}),(0,l.jsx)(a.xu,{width:100,height:100,position:"absolute",left:!0,right:!0,top:!0,bottom:!0,margin:"auto",opacity:0,rounding:3,dangerouslySetInlineStyle:p,children:(0,l.jsx)(a.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,l.jsx)(a.Ee,{alt:"pin-image",fit:"cover",naturalHeight:1,naturalWidth:1,src:this.imageSrc()})})})]}),(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:h,children:e})]})]}):e}}function g(e){const{repinPinId:t,repinStartAnimation:n,updateHeaderState:s}=(0,r.J)(),i=(0,o.S6)(),a=t?i(t):null;return(0,l.jsx)(_,{...e,animationEnded:()=>s({type:"hideRepinAnimation"}),lastRepin:a,startAnimation:n})}},132651:(e,t,n)=>{n.d(t,{F:()=>i,j:()=>o});var s=n(425288);const{Provider:i,useHook:o}=(0,s.Z)("SiteParametersContextType")},207403:(e,t,n)=>{n.d(t,{Jo:()=>d,mv:()=>p,nJ:()=>u});var s=n(667294);const i={hiddenNews:{}};var o=n(425288);function r(e=i,t){switch(t.type){case"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS":const{payload:{id:n,isHidden:s}}=t;return{hiddenNews:{...e.hiddenNews,[n]:s}};default:return e}}var a=n(785893);const{Provider:l,useHook:c}=(0,o.Z)("HiddenNews");function d({children:e}){const[t,n]=(0,s.useReducer)(r,i),o=(0,s.useMemo)((()=>({dispatch:n,hiddenNews:t})),[n,t]);return(0,a.jsx)(l,{value:o,children:e})}function u(){const{dispatch:e,hiddenNews:{hiddenNews:t}}=c();return(0,s.useMemo)((()=>({updateNewsIdToHiddenNews:(t,n)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:n}})},getShownNewsCount:e=>e.filter((e=>!(e.id in t&&t[e.id]))).length})),[e,t])}function p(){const{hiddenNews:e}=c();return e}},861411:(e,t,n)=>{n.d(t,{fv:()=>m,GR:()=>p,Hs:()=>v,Mv:()=>_,uc:()=>g,dL:()=>h,qS:()=>x,Y4:()=>b,HE:()=>y,Cy:()=>f});var s=n(667294),i=n(973935),o=n(124580),r=n(407043),a=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends s.Component{constructor(...e){super(...e),l(this,"observe",(()=>{try{if(this.node=(0,i.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=this.props.eventData;o.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),l(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&o.Z.stop(this.node)}render(){return s.Children.only(this.props.children)}}function d(e){const{logImpression:t}=(0,r.v)();return(0,a.jsx)(c,{...e,logImpression:t})}function u({auxData:e,component:t,eventData:n,eventType:i,impressionType:a,isPaused:l,objectIdStr:c,viewData:d,viewType:u,viewParameter:p}){const h=(0,s.useRef)(null),{logImpression:_}=(0,r.v)(),g=(0,s.useCallback)((()=>{const s=s=>{var o,r,l,g;_({viewData:d||{},viewType:u,viewParameter:p,eventType:i,impressionType:a,auxData:e,component:t,objectIdStr:c,eventData:{endTime:s.endTime,time:s.startTime,pinCellWidth:(null===(o=h.current)||void 0===o?void 0:o.getBoundingClientRect().width)||0,pinCellHeight:(null===(r=h.current)||void 0===r?void 0:r.getBoundingClientRect().height)||0,windowWidth:null===(l=window)||void 0===l?void 0:l.innerWidth,windowHeight:null===(g=window)||void 0===g?void 0:g.innerHeight,...n}})};try{if(h.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=n;o.Z.start(h.current).onExitViewport(s).setDebugId(e||t||"unknown")}}catch(r){window.console.error('Can only track impressions for type "HTMLElement"')}}),[h.current]);return(0,s.useEffect)((()=>{l||g();const e=h.current;return()=>{e instanceof HTMLElement&&o.Z.stop(e)}}),[l,g]),h}const p=e=>(0,a.jsx)(d,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),h=e=>{const t=u({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},_=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},g=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},m=e=>(0,a.jsx)(d,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),x=e=>{const t=u({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},v=e=>(0,a.jsx)(d,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),f=e=>{const t=u({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},y=e=>{const t=u({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},b=e=>{const t=u({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},182144:(e,t,n)=>{n.d(t,{Z:()=>b});var s,i=n(667294),o=n(702664),r=n(411938),a=n(19121),l=n(205992),c=n(80816),d=n(773285),u=n(780280),p=n(675149),h=n(966113),_=n(330102),g=n(161164),m=n(838760),x=n(3223),v=n(167912);const f=(e,t,n)=>{setTimeout((()=>{t?e(t):e()}),n||300)},y=void 0!==s?s:s=n(939971);function b(){var e;const{unauthId:t,country:n,countryFromHostName:s,countryFromIp:b,regionFromIp:w}=(0,u.B)(),{checkExperiment:S}=(0,d.F)(),I=(0,a.Z)(),P=h.nB.includes(w),A=h.PR.includes(w),T=null===(e=(0,v.useLazyLoadQuery)(y,{}).v3GetThirdPartyTrackingSettingsQuery)||void 0===e?void 0:e.data,[C,j]=(0,i.useState)(T&&T.sendPixel&&!A),[E,k]=(0,i.useState)(T&&T.sendEventsToFacebook&&!A),R=I.isAuth?I.id:null,D=R||"",Z=(0,o.useDispatch)(),[L,M]=(0,i.useState)(!1),O=!("undefined"==typeof window||!window.navigator||!window.navigator.globalPrivacyControl)&&window.navigator.globalPrivacyControl;return(0,i.useEffect)((()=>{let e=!1;if(async function(){if(O&&P)try{const n=await(0,m.getGPCSignalState)();e||n||await(0,m.setGPCSignalState)();const s=await(0,m.getThirdPartyMarketingTrackingEnabledAfterGPC)();e||s||(await(t=!1,Z((0,l._L)({field:"third_party_marketing_tracking_enabled",value:t,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:c.i.SETTINGS,userId:D}))),j(!1),k(!1))}catch(n){}var t;e||M(!0)}(),L&&C){const e=S("ppm_p_gate").anyEnabled;f(g.jO,{pixelBlocked:e}),(0,x.c_)({country:n,countryFromHostName:s,countryFromIp:b})&&(f(g.X,{id:p.me,eventCategory:"Logins",eventName:"LoggedInViews"}),f(g.X,{id:p.Ph,eventName:"Desktop"})),(0,x.$r)({country:n,countryFromHostName:s,countryFromIp:b,regionFromIp:w})&&f(g.Kv,{id:"flashtalking-d-ses",eventName:"Desktop"}),(0,x.NR)({country:n,regionFromIp:w})&&t&&R&&(f(g.fh,{unauthId:t,userId:R}),f(g.c,{id:_.xA,unauthId:t,userId:R,eventCategory:"EngagedSessions",eventName:"Desktop"},6e4)),(0,x.Fc)({country:n,countryFromHostName:s,countryFromIp:b})&&t&&R&&f(g.Xn,{unauthId:t,userId:R})}return()=>{e=!0}}),[S,n,s,b,w,O,L,t,R,P,D,C,Z]),(0,i.useEffect)((()=>{L&&C&&((0,x.c_)({country:n,countryFromHostName:s,countryFromIp:b})&&(0,r.Z)(null,I,28)&&f(g.X,{id:p.Nv,eventName:"Desktop",eventCategory:"RezLogins"}),(0,x.NR)({country:n,regionFromIp:w})&&t&&R&&(0,r.Z)(null,I,28)&&(0,g.EN)({pixelId:_.Dq,eventCategory:"RezLogins",eventName:"Desktop"}))}),[n,s,b,w,I,t,R,L,C]),(0,i.useEffect)((()=>{L&&E&&(f(g.Um),(0,x.Fc)({country:n,countryFromHostName:s,countryFromIp:b})&&f(g.KT))}),[n,s,b,E,L]),null}},730077:(e,t,n)=>{n.d(t,{Z:()=>f});var s=n(667294),i=n(319915),o=n(121093),r=n(124580),a=n(6663),l=n(898781),c=n(785893);class d extends s.Component{constructor(...e){var t,n,s;super(...e),s={mounted:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s}componentDidMount(){this.setState({mounted:!0})}render(){if(this.state.mounted)return null;const e=this.props.i18n.bt("Oh no! Pinterest non funziona se <a style=\"text-decoration: underline; color: #fff\" href=\"http://enable-javascript.com/\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">non attivi Javascript.</a>", "Oh no! Pinterest doesn't work unless you <a style=\"text-decoration: underline; color: #fff\" href=\"http://enable-javascript.com/\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">turn on JavaScript.</a>", "Nag to tell users Javascript is disabled and the site is broken without it", undefined, true);return(0,c.jsx)("noscript",{children:(0,c.jsx)(a.Z,{message:e},"noscriptNag")})}}function u(e){const t=(0,l.ZP)();return(0,c.jsx)(d,{...e,i18n:t})}var p=n(947599),h=n(869636);const _=(0,s.lazy)((()=>n.e(5481).then(n.bind(n,505481)))),g=(0,s.lazy)((()=>n.e(55378).then(n.bind(n,155378)))),m=(0,s.lazy)((()=>n.e(6568).then(n.bind(n,506568)))),x=(0,s.lazy)((()=>n.e(85915).then(n.bind(n,512072))));class v extends s.Component{constructor(e,t){var n,s,i;super(e,t),i=e=>{this.setState((t=>({nags:t.nags.filter((t=>t!==e))})))},(s="removeNag")in(n=this)?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i;const o=[...this.props.nags||[]];this.state={nags:o}}componentDidUpdate(){r.Z.updateObstructions()}render(){const{experience:e}=this.props;if(502597===(null==e?void 0:e.experience_id))return(0,c.jsx)(o.Z,{eligibleTypes:[13],placementId:30,transitionType:17,children:({complete:e})=>(0,c.jsx)(i.Z,{name:"SafeSuspense_Nags_CookieConsentBanner",children:(0,c.jsx)(p.Z,{children:(0,c.jsx)(g,{handleComplete:e,isNag:!0})})})});const{nags:t}=this.state,n=!(!e||500711!==e.experience_id);return(0,c.jsxs)("div",{className:"Nags",children:[(0,c.jsx)(u,{}),(0,c.jsx)(o.Z,{eligibleTypes:n?[13]:[2],placementId:30,transitionType:17,children:({complete:e,dismiss:t,experience:s})=>(0,c.jsx)(i.Z,{name:"SafeSuspense_Nags_HeroNag",children:(0,c.jsx)(p.Z,{children:n?(0,c.jsx)(m,{complete:e,dismiss:t,experience:s}):(0,c.jsx)(_,{complete:e,dismiss:t,experience:s})})})}),!e&&t[0]?(0,c.jsx)(i.Z,{name:"SafeSuspense_Nags_NonExperienceNags",children:(0,c.jsx)(p.Z,{children:(0,c.jsx)(x,{nag:t[0],removeNag:this.removeNag})})}):null]})}}function f(e){const{experience:t}=(0,h.Z)(30);return(0,c.jsx)(v,{...e,experience:t})}},509423:(e,t,n)=>{n.r(t),n.d(t,{default:()=>me});var s=n(667294),i=n(702664),o=n(231486),r=n(492640),a=n(516783),l=n(299487),c=n(992813),d=n(925059),u=n(319915),p=n(493678),h=n(55569),_=n(883521),g=n(124580),m=n(858521),x=n(187345),v=n(907162),f=n(272160),y=n(240684),b=n(182144),w=n(565158),S=n(961008),I=n(214494),P=n(550572),A=n(947599),T=n(182508),C=n(619575),j=n(108234),E=n(941646),k=n(700380),R=n(791185),D=n(829407),Z=n(784590),L=n(19121),M=n(164686),O=n(233211),z=n(833991),B=n(697335),N=n(49028),F=n(226198),H=n(995081),U=n(826067),q=n(100745),W=n(791606),G=n(965900),V=n(313951),$=n(987318),Y=n(350118),K=n(116674),X=n(780280),J=n(53987),Q=n(883119),ee=n(977558),te=n(616550),ne=n(785893);const se=(0,s.lazy)((()=>n.e(4394).then(n.bind(n,502517)))),ie=(0,s.lazy)((()=>n.e(76260).then(n.bind(n,476260)))),oe=(0,s.lazy)((()=>n.e(57815).then(n.bind(n,444120)))),re=(0,y.ZP)({resolved:{},chunkName:()=>"Authentication-PersonalizedLoginFlyout",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(58594).then(n.bind(n,163067)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 163067}}),ae=(0,y.ZP)({resolved:{},chunkName:()=>"FullHeightInboxDesktop",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(59576).then(n.bind(n,891219)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 891219}});ae.displayName="Loadable(FullHeightInbox)";const le=(0,y.ZP)({resolved:{},chunkName:()=>"common-react-components-profile-ProfileDecider-ProfileDeciderContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(83119),n.e(67631),n.e(12163),n.e(20534)]).then(n.bind(n,774026)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 774026}});le.preload();const ce=1056,de=680,ue=300,pe=({isPartner:e,location:t})=>e&&t.pathname.includes(M.GW),he=({isPartner:e,location:t})=>e&&t.pathname.includes("/business/verified-merchant/status"),_e=()=>{const e=(0,Y.AF)(),t=(0,te.useLocation)(),n=(0,te.matchPath)(t.pathname,{path:"/pin/:id",exact:!0}),s=n&&n.params.id||null,i=s&&((e[s]||{}).images||{})["474x"];return i?{url:i.url,width:i.width,height:i.height}:null},ge=()=>{if((0,H.oy)()){o.U2(F.oj)||(o.t8(F.oj,String(!0),(0,o.kZ)(F.oj)),"undefined"!=typeof window&&window.location.reload(!0))}};function me({children:e}){const{appUI:{viewportSize:t},setIsAutoplay:n,setViewportSize:o}=(0,G.I)(),{dismiss:y,reportData:M}=(0,K.f)(),{loginForMore:F}=(0,$.H)(),H=(0,s.useRef)(null),Y=(0,L.Z)(),[le,me]=(0,s.useState)(!1),xe=!!Y.isAuth&&Y.isPartner,ve=!!Y.isAuth&&Y.isLimitedLogin,fe=Y.isAuth&&!Y.isLimitedLogin,ye=Y.isAuth?Y.username:"",be=(0,te.useHistory)(),we=(0,te.useLocation)(),Se=(0,X.B)(),{pathname:Ie}=we,Pe=H.current,Ae=!((0,J.jC)(we)||(0,J.x7)(we))&&fe,Te=(0,U.mB)(we.search),{conversation_id:Ce,tab:je}=Te,{conversations:{showConversationsDropdown:Ee},conversationOpen:ke,dropdownOpen:Re}=(0,V.Z5)(),De=(0,i.useDispatch)(),Ze=_e(),{userAgent:{browserName:Le}}=Se,Me=(0,i.useSelector)((e=>e.pinbuilder&&e.pinbuilder.pinDraftIdUploadStatusMap||{}));(0,D.Z)((()=>{function e(e){Object.keys(Me||{}).length>0&&e.preventDefault()}return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}})),(0,D.Z)((()=>{(0,S.Z)(Y)})),(0,s.useEffect)((()=>{l.Z.extensionReady(Le).then(l.Z.initBrowserExtension)}),[Le]),(0,D.Z)((()=>{setTimeout((()=>{n(!0)}),ue)})),(0,s.useEffect)((()=>{ve||(Ce&&ke(Ce),"inbox"===je&&Re())}),[Ce,je,ke,Re,ve]);const Oe=!((0,J.Gl)(we)||(0,J.PY)(we)||(0,J.jC)(we)||(0,J.Xn)(we)||(0,J.b_)(we)||(0,J.oF)(we)||(0,J.dt)(we)||(0,J.x7)(we)||(0,J.cY)(we)||(0,J.bb)(we));(0,s.useEffect)((()=>(Pe instanceof HTMLElement&&g.Z.addObstruction("top",Pe),()=>{Pe instanceof HTMLElement&&g.Z.removeObstruction("top",Pe)})),[Pe]);const[ze,Be]=(0,s.useState)(!(null==F||!F.visible)||!ve),Ne=(0,k.Z)((()=>{let e="lg";window&&window.innerWidth<ce&&(e=window.innerWidth<de?"sm":"md"),t!==e&&o(e)}),200);return(0,D.Z)((()=>(window.addEventListener("resize",Ne),Ne(),()=>{window.removeEventListener("resize",Ne)}))),(0,s.useEffect)((()=>{me(Ie!==`/${ye}/`)}),[Ie,ye]),(0,s.useEffect)((()=>{I.Z.create("BoardsResource",{page_size:1,privacy_filter:"all",sort:"last_pinned_to",username:ye}).callGet().then((e=>{const{resource_response:t}=e||{},n=(t.data||[])[0];n&&n.id&&n.name&&De((0,W.p)(n.id,n.name,n.url))}))}),[De,ye]),(0,Z.Z)(le?{name:"UserResource",options:{field_set_key:"profile",username:ye}}:null),(0,Z.Z)(le?{name:"UserMetadataResource",options:{user:{id:ye}}}:null),(0,D.Z)((()=>{ge()})),(0,ne.jsx)(C.Z.Provider,{value:!!Te.social_debug,children:(0,ne.jsx)(P.Z,{children:(0,ne.jsx)(w.Z,{viewerAdvertiser:Se.advertiser,children:(0,ne.jsx)(c.Z,{children:(0,ne.jsx)(j.Z,{children:(0,ne.jsx)(q.N,{children:(0,ne.jsxs)(O.c4,{value:Ze,children:["undefined"!=typeof window&&window.Windows&&(0,ne.jsx)(u.Z,{name:"SafeSuspense_DesktopApp_WindowsPWA",children:(0,ne.jsx)(A.Z,{children:(0,ne.jsx)(oe,{onActivated:e=>{be.push(e)}})})}),!(null!=F&&F.visible)&&Y.isAuth&&Y.isLimitedLogin&&!(0,J.Xn)(we)&&!(0,J.OK)(we)&&!(0,J.FO)(we)&&!(0,J.re)(we)&&(0,ne.jsx)(re,{fallback:(0,ne.jsx)(Q.xu,{}),shouldHideFlyout:ze,triggerModal:()=>{F&&F.setVisible(!0),Be(!0)},viewer:Y}),(0,ne.jsx)(_.Z,{children:(0,ne.jsx)(N.Hv,{children:(0,ne.jsx)(h.Z,{children:(0,ne.jsx)(z.i3,{children:(0,ne.jsx)(m.Z,{children:(0,ne.jsxs)(Q.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1,paddingTop:1}},minWidth:320,children:[(0,ne.jsxs)(Q.xu,{role:"banner",children:[(0,ne.jsx)(T.Z,{}),(0,ne.jsxs)(Q.xu,{"data-test-id":"header",id:ee.WZ,position:"fixed",top:!0,ref:H,width:"100%",zIndex:new Q.Ry(ee.fe),children:[null!=F&&F.visible&&!(0,J.re)(we)||ve&&we.pathname.includes("/repin/")?(0,ne.jsx)(f.Z,{}):null,Oe&&Y.isAuth&&(0,ne.jsx)(u.Z,{name:"AuthDesktopHeader",type:"critical",children:(0,ne.jsx)(r.Z,{isShoppingCatalogs:(0,v.Z)({isPartner:xe,location:we}),isBPMPage:pe({isPartner:xe,location:we}),isVMPStatusPage:he({isPartner:xe,location:we}),viewer:Y})}),Ae&&(0,ne.jsx)(d.Z,{})]})]}),(0,ne.jsxs)("div",{className:"appContent",role:"main",children:[(0,ne.jsx)(B.c,{children:t=>(0,ne.jsx)(Q.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:Oe?t:0}},children:(0,ne.jsxs)("div",{className:"mainContainer",children:[e,(0,ne.jsx)(u.Z,{name:"AuthDesktopAppShell_ExperienceSurvey",children:(0,ne.jsx)(A.Z,{children:(0,ne.jsx)(se,{placementId:1000421})})}),(0,ne.jsx)(R.Z,{})]})})}),Ee&&!ve&&(0,ne.jsx)(ae,{})]}),(0,ne.jsx)(a.Z,{})]})})})})})}),xe&&(0,ne.jsx)(x.Z,{}),(0,ne.jsx)(p.Z,{}),(0,ne.jsx)(u.Z,{name:"DesktopApp_MarketingPixel",children:(0,ne.jsx)(A.Z,{children:(0,ne.jsx)(b.Z,{})})}),M&&(0,ne.jsx)(E.Z,{id:"report-pin",children:(0,ne.jsx)(u.Z,{name:"SafeSuspense_DesktopApp_ReportContent",children:(0,ne.jsx)(A.Z,{children:(0,ne.jsx)(ie,{data:M,dismiss:y})})})})]})})})})})})})}},573991:(e,t,n)=>{n.d(t,{Z:()=>h,j:()=>_});var s=n(667294),i=n(319915),o=n(121151),r=n(947599),a=n(898781),l=n(19121),c=n(425288),d=n(785893);const u=(0,s.lazy)((()=>n.e(84785).then(n.bind(n,784785)))),{Provider:p,useHook:h}=(0,c.Z)("reportBugModalContext");function _({children:e}){const t=(0,a.ZP)(),[n,c]=(0,s.useState)(!1),h=(0,l.Z)(),_=(0,s.useCallback)((()=>{c(!0)}),[]),g=(0,s.useMemo)((()=>({handleShowReportBugModal:_})),[_]);return(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)(p,{value:g,children:e}),n&&h.isAuth&&(0,d.jsx)(o.ZP,{accessibilityModalLabel:t.bt("Segnala bug", "Report bug", "header.accountsOptionsMenu.logout", undefined, true),onDismiss:()=>{c(!1)},children:(0,d.jsx)(i.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,d.jsx)(r.Z,{children:(0,d.jsx)(u,{onDismiss:()=>{c(!1)},username:h.username})})})})]})}},791185:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(965900),i=n(883119),o=n(785893);const r=new i.Ry(500);function a(){const{appUI:{showTypeaheadOverlay:e}}=(0,s.I)();return e?(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.4)"}},bottom:!0,left:!0,right:!0,top:!0,position:"fixed",zIndex:r}):null}},865607:(e,t,n)=>{n.d(t,{O:()=>c,Z:()=>d});var s=n(667294),i=n(898781),o=n(966113),r=n(883119),a=n(785893);const l={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,i.ZP)();return(0,a.jsx)(r.u,{link:(0,a.jsx)(r.rU,{href:o.vB,target:"blank",children:(0,a.jsx)(r.xv,{color:"inverse",size:"100",weight:"bold",children:t.bt("Ulteriori informazioni", "Learn more", "verifiedBadge.tooltip.link", undefined, true)})}),text:t.bt("Questo rivenditore soddisfa le Linee guida per i commercianti di Pinterest", "This retailer meets Pinterest's Merchant Guidelines", "merchantVerification.badge.tooltip", undefined, true),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:o,size:d}){const u=(0,i.ZP)(),p=(0,a.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(r.JO,{accessibilityLabel:u.bt("Icona del badge di verifica del venditore", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),o&&(0,a.jsx)(r.xu,{marginStart:2,children:(0,a.jsx)(r.xv,{color:"shopping",inline:!0,weight:"bold",children:u.bt("Commerciante verificato", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})]});return(0,a.jsxs)(s.Fragment,{children:[n&&!t&&(0,a.jsx)(c,{children:p}),n&&t&&p,e&&!n&&(0,a.jsx)(r.JO,{accessibilityLabel:u.bt("Icona di verifica del dominio", "Domain verification icon", "domainVerification.badge.icon", undefined, true),color:"error",icon:"check-circle",size:l[d]})]})}},654874:(e,t,n)=>{n.d(t,{Z:()=>m});var s=n(667294),i=n(116303),o=n(65675),r=n(564194),a=n(391143),l=n(72809),c=n(66699),d=n(898781),u=n(19121),p=n(773285),h=n(940882),_=n(883119),g=n(785893);function m({bubble:e,contextLogData:t,disableTabIndex:n,handleReport:m,height:x,imgSignature:v,isHovered:f,onClick:y,onMouseEnter:b,onMouseLeave:w,referringSource:S,searchBoxRenderStopwatch:I,showFlag:P,slotIndex:A,storyId:T,viewParameter:C,viewType:j,width:E}){const k=(0,d.ZP)(),R=(0,u.Z)(),{id:D,action:Z,aux_fields:L,cover_images:M,dominant_colors:O,identifier_icon_type:z,title:B,story_category:N,curator:F}=e,{checkExperiment:H}=(0,p.F)();let U="",q="";if(R.isAuth&&5===j){U=H("blp_explore_bubble_image_size").group;const e=U.split("_");e.length>1&&U.startsWith("enabled")&&(q=e[1])}const W=M&&M[0]&&(U.startsWith("enabled")&&q?M[0][q]:M[0]["280x280"]||M[0]["236x"]),G=(0,c.Z)(B&&B.format||"",B&&B.args||{}),V=O&&O.length?O[0]:"gray",$=(null==Z?void 0:Z.url)||(0,a.Z)({storyCategory:N,query:G,referringSource:S,bubbleId:D,storyId:T,title:B.format,pinId:null==L?void 0:L.image_pin_id});return(0,g.jsx)(r.Z,{impressionAuxFields:{storyCategory:N,storyIdStr:T},impressionType:"Article",loggingId:D,viewType:j,viewParameter:C,slotIndex:A,contextLogData:{story_id:T,...t},children:(0,g.jsx)(o.Z,{backgroundColor:V,coverImage:W,disableTabIndex:n,height:x,id:D,isHovered:f,onClick:y,onMouseEnter:b,onMouseLeave:w,searchBoxRenderStopwatch:I,url:$,width:E,children:({isHovered:e})=>(0,g.jsxs)(s.Fragment,{children:[F&&26!==N&&(0,g.jsx)(_.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,g.jsx)(i.Z,{outline:!0,size:"xs",src:F.image_small_url,name:F.full_name})}),z&&z!==h.J&&(0,g.jsx)(_.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,g.jsx)(_.JO,{icon:(0,h.Z)(z),accessibilityLabel:k.bt("Icona acquisti", "Shopping icon", "bubble.shoppingIcon.label", undefined, true),color:"default",size:12})}),(0,g.jsx)(_.xu,{display:"flex",height:x,width:E||"100%",position:"absolute",top:!0,padding:3,alignItems:26===N?"end":"center",justifyContent:"center",children:(0,g.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[x>200?(0,g.jsx)(_.X6,{size:"500",align:"center",color:"light",children:G}):(0,g.jsx)(_.xv,{align:"center",color:"light",weight:"bold",children:G}),F&&26===N&&(0,g.jsxs)(_.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,g.jsx)(_.xu,{marginEnd:2,children:(0,g.jsx)(i.Z,{outline:!0,size:"xs",src:F.image_small_url,name:F.full_name})}),(0,g.jsx)(_.xv,{size:"100",color:"light",children:F.full_name})]})]})}),R.isAuth&&R.isEmployee&&P?(0,g.jsx)(_.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,g.jsx)(l.Z,{handleReport:m,imgSignature:v||"",isVisible:e})}):null]})})})}},65675:(e,t,n)=>{n.d(t,{A:()=>r,Z:()=>a});var s=n(667294),i=n(883119),o=n(785893);const r={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function a({backgroundColor:e,children:t,coverImage:n,disableTabIndex:a,height:l,id:c,isHovered:d,onClick:u,onMouseDown:p,onMouseEnter:h,onMouseLeave:_,searchBoxRenderStopwatch:g,url:m,width:x}){var v,f;const[y,b]=(0,s.useState)(!1),w=()=>{h?h():b(!0)},S=()=>{_?_():b(!1)},I=d||y,P=I?r.hoverOverlay:r.bubbleOverlay;return(0,o.jsx)(i.iP,{href:m,onBlur:S,onFocus:w,onMouseDown:p,onMouseEnter:w,onMouseLeave:S,onTap:()=>{null==u||u(c)},role:"link",rounding:4,tabIndex:a?-1:void 0,children:(0,o.jsx)(i.zd,{rounding:4,width:x||"100%",height:l,children:null!=n&&n.url?(0,o.jsxs)(i.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(v=n.height)&&void 0!==v?v:1,naturalWidth:null!==(f=n.width)&&void 0!==f?f:1,onLoad:()=>{null==g||g.stop()},role:"presentation",src:n.url,children:[(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:P},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:I}):t]}):(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},134951:(e,t,n)=>{n.d(t,{Z:()=>g});var s=n(667294),i=n(116303),o=n(65675),r=n(72809),a=n(615119),l=n(66699),c=n(19121),d=n(784641),u=n(641350),p=n(861411),h=n(883119),_=n(785893);function g({bubble:e,height:t,isHovered:n,onClick:g,onMouseDown:m,onMouseEnter:x,onMouseLeave:v,searchBoxRenderStopwatch:f,showFlag:y,slotIndex:b,storyId:w,storyType:S,viewParameter:I,viewType:P,width:A}){var T,C;const j=(0,c.Z)(),{id:E,title:k,image_urls:R,article_creator_user:D}=e,Z=()=>{(0,a.Z)({query:"",report:k,suggestions:[k],type:u.KH.SEARCH_TRENDING_TEXT})},L=R&&R.length>0?{url:R[0]}:void 0,M=(0,l.Z)(k||"",{});if(!e.title||!e.id)return null;const O=(0,d.T7)(null!==(T=e.feed_source)&&void 0!==T?T:0,null!==(C=e.is_product_pin_feed)&&void 0!==C&&C,e.title,e.id);return(0,_.jsx)(p.Y4,{auxData:{grid_index:b.toString(),today_article_id:E,story_type:S,story_id:w},loggingId:E,objectIdStr:E,slotIndex:b,viewParameter:I||3467,viewType:P,children:({impressionTrackerRef:e})=>(0,_.jsx)(o.Z,{backgroundColor:"gray",coverImage:L,disableTabIndex:!0,height:t,id:E,isHovered:n,onClick:g,onMouseDown:m,onMouseEnter:x,onMouseLeave:v,ref:e,searchBoxRenderStopwatch:f,url:O,width:A,children:({isHovered:n})=>{var o;return(0,_.jsxs)(s.Fragment,{children:[(0,_.jsx)(h.xu,{alignItems:"end",display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:A||"100%",ref:e,children:(0,_.jsxs)(h.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t>200?(0,_.jsx)(h.X6,{size:"500",align:"center",color:"light",children:M}):(0,_.jsx)(h.xv,{align:"center",color:"light",weight:"bold",children:M}),D&&D.image_small_url&&D.full_name&&(0,_.jsxs)(h.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,_.jsx)(h.xu,{marginEnd:2,children:(0,_.jsx)(i.Z,{outline:!0,size:"xs",src:D.image_small_url,name:D.full_name})}),(0,_.jsx)(h.xv,{size:"100",color:"light",children:D.full_name})]})]})}),j.isAuth&&j.isEmployee&&y&&(0,_.jsx)(h.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,_.jsx)(r.Z,{handleReport:Z,imgSignature:null!==(o=null==L?void 0:L.url)&&void 0!==o?o:"",isVisible:n})})]})}})})}},666389:(e,t,n)=>{n.d(t,{Z:()=>p});var s=n(667294);const i={backgroundColor:"transparent"},o={backgroundColor:"rgba(216, 216, 216, 0.37)"},r={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},a={outline:"0"};var l=n(883119),c=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends s.Component{constructor(...e){super(...e),d(this,"state",{hovered:!1}),d(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),d(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{backgroundHaloSize:e,onClick:t,color:n="subtle"}=this.props,s=Object.freeze({height:e,width:e}),d={border:0,display:"block",background:"transparent",cursor:"pointer",...a},u={...s,...{...r,...i,...this.state.hovered?o:{}}};return(0,c.jsx)("button",{type:"button",style:d,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,c.jsx)("div",{style:u,children:(0,c.jsx)(l.xu,{rounding:"circle",children:(0,c.jsx)(l.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:n})})})})}}const p=u},72809:(e,t,n)=>{n.d(t,{Z:()=>g});var s=n(667294),i=n(666389),o=n(121151),r=n(214494),a=n(499128),l=n(116674),c=n(898781),d=n(343341),u=n(883119),p=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends s.PureComponent{constructor(...e){var t;super(...e),t=this,h(this,"state",{showModal:!1,reportType:null}),h(this,"handleDismiss",(()=>this.setState({showModal:!1}))),h(this,"handleClick",(()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()})),h(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await r.Z.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),h(this,"reportSuggestionText",(()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast((({hideToast:e})=>(0,p.jsx)(a.ZP,{onHide:e,text:this.props.i18n.bt("Grazie per la segnalazione. Verrà esaminata dal nostro team per la sicurezza", "Thanks for your report! This will be reviewed by our Trust and Safety Team", "ReportingFlag.Toast.text", undefined, true)}))),this.handleDismiss())})),h(this,"showModal",(({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})}))}render(){const{showModal:e}=this.state;return(0,p.jsxs)(s.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(i.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,p.jsx)(o.ZP,{accessibilityModalLabel:this.props.i18n.bt("Segnala termine di ricerca", "Report search term", "ReportingFlag.Modal.accessibilityModalLabel", undefined, true),heading:this.props.i18n.bt("Segnala termine di ricerca", "Report search term", "ReportingFlag.Modal.heading", undefined, true),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(u.xu,{children:[(0,p.jsx)(u.xu,{padding:5,children:(0,p.jsx)(u.xv,{children:this.props.i18n.bt("Il nostro team per la sicurezza esaminerà l'elemento segnalato. Se non soddisfa le nostre Linee guida per la community, verrà bloccato.", "When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.", "ReportingFlag.Box.Text.report", undefined, true)})}),(0,p.jsxs)(u.FX,{id:"reporting-flag-options-group",legend:this.props.i18n.bt("Il nostro team per la sicurezza esaminerà l'elemento segnalato. Se non soddisfa le nostre Linee guida per la community, verrà bloccato.", "When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.", "ReportingFlag.Box.Text.report", undefined, true),legendDisplay:"hidden",children:[(0,p.jsxs)(u.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,p.jsxs)(u.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(u.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,p.jsx)(u.xu,{flex:"grow",children:(0,p.jsx)(u.__,{htmlFor:"textType",children:(0,p.jsx)(u.xu,{paddingX:2,children:(0,p.jsx)(u.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(u.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(u.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,p.jsx)(u.xu,{flex:"grow",children:(0,p.jsx)(u.__,{htmlFor:"imageType",children:(0,p.jsx)(u.xu,{paddingX:2,children:(0,p.jsx)(u.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(u.iz,{}),(0,p.jsxs)(u.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(u.xu,{margin:2,children:(0,p.jsx)(u.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n.bt("Annulla", "Cancel", "ReportingFlag.Box.Button.text.cancel", undefined, true)})}),(0,p.jsx)(u.xu,{margin:2,children:(0,p.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n.bt("Segnala", "Report", "ReportingFlag.Box.Button.text.report", undefined, true),disabled:!this.state.reportType})})]})]})]})})]})}}function g(e){const t=(0,c.ZP)(),{reportImage:n}=(0,l.f)();return(0,p.jsx)(_,{...e,i18n:t,reportImage:n,toastManagerContext:(0,d.F9)()})}},699211:(e,t,n)=>{n.d(t,{Z:()=>nt});var s=n(667294),i=n(940589),o=n(977558),r=n(909499),a=n(883119),l=n(785893);function c({contentTypes:e,contentTypesAnchor:t,handleSelectFilter:n,onDismiss:s}){return(0,l.jsx)(a.Lt,{anchor:t,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:s,zIndex:new a.Ry(o.fe),children:e.map(((e,t)=>(0,l.jsx)(a.Lt.Item,{dataTestId:"search-filter-"+e.text.replace(/\s/g,"-").toLowerCase(),onSelect:()=>n(t),option:{value:e.text,label:e.text},children:(0,l.jsx)(a.xv,{weight:[r.lw.PINS,r.lw.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text)))})}var d=n(898781),u=n(641350),p=n(407043),h=n(616550),_=n(773285),g=n(780280);const m=e=>{switch(e){case r.lw.PINS:return 220;case r.lw.PINS_MINE:return 223;case r.lw.PINS_VIDEO:return 11399;case r.lw.BOARDS:return 221;case r.lw.USERS:return 222;default:return null}};const x=function({currentlySelectedFilter:e,currentQuery:t,handleContentTypeFilterHover:n,handleScopeChange:i}){const{logContextEvent:o}=(0,p.v)(),x=(0,d.ZP)(),v=function(e){const{checkExperiment:t}=(0,_.F)(),{country:n}=(0,g.B)();let s=[{scope:r.lw.PINS,text:e.bt("Tutti i Pin", "All Pins", "All Pins label for content type filters on search bar", undefined, true)},{scope:r.lw.PINS_MINE,text:e.bt("I tuoi pin", "Your Pins", "Your Pins label for content type filters on search bar", undefined, true)},{scope:r.lw.PINS_VIDEO,text:e.bt("Video", "Videos", "Video label for content type filters on search bar", undefined, true)},{scope:r.lw.BOARDS,text:e.bt("Bacheche", "Boards", "Boards label for content type filters on search bar", undefined, true)}];(["US","UK"].includes(n)||t("one_bar_expansion").anyEnabled)&&(s=s.filter((({scope:e})=>e!==r.lw.BOARDS&&e!==r.lw.PINS_VIDEO)));const i=s.findIndex((e=>e.scope===r.lw.PINS_MINE));return s.push(s.splice(i,1)[0]),s}(x),f=(0,s.useRef)(null),y=(0,h.useHistory)(),[b,w]=(0,s.useState)(e||v[0].scope),[S,I]=(0,s.useState)(!1),[P,A]=(0,s.useState)(!1);(0,s.useEffect)((()=>{w(e)}),[e]);const T=(v[b?v.findIndex((e=>e.scope===b)):0]||v[0]).text,C=(0,l.jsx)(a.xu,{"data-test-id":"search-filter",overflow:"hidden",dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:u.XI}},ref:f,children:(0,l.jsxs)(a.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,l.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:T}),(0,l.jsx)(a.xu,{marginStart:2,children:(0,l.jsx)(a.JO,{accessibilityLabel:x.bt("A discesa", "Dropdown", " - ", undefined, true),color:"default",icon:"arrow-down",inline:!0,size:12})})]})});return(0,l.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:P?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:u.XI,marginStart:2,position:"relative",rounding:6,children:[(0,l.jsx)(a.iP,{fullHeight:!0,fullWidth:!1,onMouseEnter:()=>(A(!0),void(n&&n(!0))),onMouseLeave:()=>(A(!1),void(n&&n(!1))),onTap:({event:e})=>{e&&(e.preventDefault(),e.stopPropagation()),I(!S),o({event_type:101,component:215,aux_data:{entered_query:t}})},rounding:6,children:C}),S&&(0,l.jsx)(c,{contentTypes:v,contentTypesAnchor:f.current,handleSelectFilter:e=>{const n=v[e].scope;w(n),I(!1),o({event_type:101,component:215,element:m(n),aux_data:{entered_query:t}}),i(n),t&&y.push(`/search/${n}/?q=${encodeURIComponent(t)}&rs=filter`)},onDismiss:()=>I(!1)})]})};var v=n(23003),f=n(124580),y=n(755742),b=n(333312),w=n(829407),S=n(100745);const I="all 0.6s cubic-bezier(0.68, -0.6, 0.32, 1.6)",P={transform:"scale(0)",opacity:"0",transition:I},A={transform:"scale(1)",opacity:"1",transition:I},T={transform:"scale(1.2)",transition:I};function C({handleClearMode:e,scope:t,backgroundColorHex:n,iconType:i}){var o,c;const u=(0,d.ZP)(),p=(0,r.Hd)(t),[h,_]=(0,s.useState)(!1),g=(0,a.JZ)(),[m,x]=(0,s.useState)(g?A:P),v=(0,s.useRef)();let f;if((0,w.Z)((()=>g?()=>{}:(x(A),()=>{x(P)}))),h)f="cancel";else if(6===i)f="person";else{if(1!==i)return null;f="shopping-bag"}return(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(a.xu,{flex:"none",marginEnd:2,marginStart:-3,ref:v,dangerouslySetInlineStyle:{__style:h?T:m},"data-test-id":"mode-icon-wrapper",children:(0,l.jsx)(a.iP,{onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),onFocus:()=>_(!0),onBlur:()=>_(!1),onTap:e,rounding:"circle",tapStyle:"compress",children:(0,l.jsx)(a.xu,{padding:3,rounding:"circle",dangerouslySetInlineStyle:{__style:{backgroundColor:null!==(o=n&&n[0])&&void 0!==o?o:void 0}},children:(0,l.jsx)(a.JO,{accessibilityLabel:u.bt("Icona modalità di ricerca", "Search mode icon", "searchBox.modesIcon.accessibilityLabel", undefined, true),icon:f,color:"inverse",size:16})})})}),(null===(c=v.current)||void 0===c?void 0:c.style.transform)!==P.transform&&(0,l.jsx)(b.default,{id:"experience-tooltip",anchor:v.current,hasFullWidthButton:!1,placementId:p,experienceIds:[t===r.lw.USERS?504374:504373],showCaret:!0,textAlign:"center",textWeight:"normal"})]})}function j({handleClearMode:e,scope:t}){const{modeIcon:n}=(0,S.A)().searchContext;if(n)return(0,l.jsx)(s.Suspense,{fallback:null,children:(0,l.jsx)(C,{handleClearMode:e,scope:t,backgroundColorHex:n.backgroundColorHex,iconType:n.iconType})})}var E=n(862628),k=n(150461),R=n(388619),D=n(430323),Z=n(361122),L=n(869636),M=n(794230),O=n(391143),z=n(784590),B=n(19121),N=n(613316);function F({suggestion:e,query:t,lastFocusTime:n=0,filterSelectedTerm:s}){if("explorearticle"===e.type){var i,o;const{story_category:t,query:n,referringSource:s,id:r,storyId:a}=e;return null!==(i=null===(o=e.action)||void 0===o?void 0:o.url)&&void 0!==i?i:(0,O.Z)({storyCategory:t,query:n,referringSource:s,bubbleId:r,storyId:a})}if("todayarticle"===e.type){const{id:t,title:n}=e;return(0,N.x)({title:n,id:t,articleType:"today"})}const r={eq:(0,E.Z)(t)};n&&(r.etslf=String(Date.now()-n)),"inclusive_product_filter_query"===e.type&&s&&(r.filters=s);return(0,M.Z)(e.url||"",r)}function H(e,t){return`SuggestionGroup-Option-${e}-${t}`}const U=e=>{let t=0;return e.map((e=>{var n,s;const i=t;return t+=null!==(n=(null!==(s=e.items)&&void 0!==s?s:[]).length)&&void 0!==n?n:0,i}))},q=(e,t)=>{if(null==t)return;const n=U(e);for(let s=0;s<n.length;s+=1)if(e[s].items.length&&t-n[s]<e[s].items.length)return e[s].items[t-n[s]];return null};var W=n(349700),G=n(149230);function V({suggestions:e}){var t;const n=e[0],s=(0,G.Z)({url:null===(t=n[0])||void 0===t?void 0:t.action_button_uri})?"nofollow":"none";return(0,l.jsxs)(a.xu,{padding:10,children:[(0,l.jsx)(a.xu,{marginBottom:6,children:(0,l.jsx)("span",{style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"},children:n.description})}),(0,l.jsx)(a.iP,{role:"link",rel:s,href:n.action_button_uri,rounding:"pill",children:(0,l.jsx)(a.xu,{color:"infoBase",display:"inlineBlock",rounding:"pill",padding:3,children:(0,l.jsx)(a.xv,{color:"inverse",weight:"bold",children:n.action_button_text})})})]})}var $=n(319915),Y=n(123159);const K=(e,t)=>{const n=new RegExp("\\b"+t+"\\b","i");return e===t||e.match(n)};function X({children:e,experiences:t,placementId:n,searchTerm:i,suggestions:o}){const{viewExperience:r}=(0,Y.M)(),[a,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(new Set),u=(null==t?void 0:t.filter((e=>{var t;return 3===(null===(t=e.display_data)||void 0===t?void 0:t.component_type)})).map((e=>({...e.display_data,id:e.experience_id}))))||[];return(0,s.useEffect)((()=>{if(!i||!o)return void l(null);if(!(null==a?void 0:a.search_query_list.find((e=>o.some((({label:t})=>K(t,e))))))){const e=u.find((e=>{var t;return e.id!==(null==a?void 0:a.id)&&(null===(t=e.search_query_list)||void 0===t?void 0:t.find((e=>o.some((({label:t})=>K(t,e))))))}));if(e){l(e);const{id:t}=e;c.has(t)||("number"==typeof t&&r(n,t),d(new Set(c).add(t)))}}}),[i]),e({searchDelightConfig:a})}var J=n(392370),Q=n(615119),ee=n(947599),te=n(121151),ne=n(499128),se=n(343341);function ie({handleReport:e}){const t=(0,d.ZP)(),[n,i]=(0,s.useState)(!1),{showToast:o}=(0,se.F9)();return(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(a.hU,{accessibilityLabel:t.bt("Segnala", "Report", "Accessibility label for report icon for search term", undefined, true),icon:"flag",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),i(!0)},size:"xs",iconColor:"gray"}),n&&(0,l.jsx)(te.ZP,{accessibilityModalLabel:t.bt("Segnala ricerca", "Report search", "accessible label for report search modal", undefined, true),heading:t.bt("Segnala termine della ricerca", "Report Search Term", "Heading for report searchmodal", undefined, true),onDismiss:()=>i(!1),size:"sm",children:(0,l.jsxs)(a.xu,{children:[(0,l.jsx)(a.xu,{padding:4,children:(0,l.jsx)(a.xv,{children:t.bt("Segnala questo termine di ricerca perché venga analizzato dal nostro team per la sicurezza", "Flag this search term for review by our Trust and Safety team", "What will happen when you report a search term", undefined, true)})}),(0,l.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,l.jsx)(a.xu,{margin:2,children:(0,l.jsx)(a.zx,{fullWidth:!0,onClick:()=>i(!1),text:t.bt("Annulla", "Cancel", "Text for cancel button when reporting search result", undefined, true)})}),(0,l.jsx)(a.xu,{margin:2,children:(0,l.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:()=>{e(),o((({hideToast:e})=>(0,l.jsx)(ne.ZP,{onHide:e,text:t.bt("Grazie! Il tuo feedback ci aiuta a rendere sicura la community di Pinterest.", "Thanks! Your feedback helps keep the Pinterest community safe.", "Toast after reporting a search term", undefined, true)}))),i(!1)},text:t.bt("Segnala", "Report", "Button label to report search term", undefined, true)})})]})]})})]})}var oe=n(796668),re=n(940882),ae=n(865607);const le=40;function ce({id:e,children:t,isHovered:n,url:s,onClick:i,onMouseEnter:o,onMouseLeave:r}){return(0,l.jsx)(a.xu,{id:e,color:n?"secondary":"default","data-test-id":"search-suggestion",role:"option","aria-selected":n?"true":"false",children:(0,l.jsx)(a.iP,{onMouseEnter:o,onMouseLeave:r,role:"link",href:s,tabIndex:-1,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.metaKey||e.ctrlKey||(e.preventDefault(),i())},children:(0,l.jsx)(a.xu,{marginBottom:1,paddingX:5,children:t})})})}function de({highlightMatch:e=!1,iconName:t,imageUrl:n,isVerifiedMerchant:s=!1,label:i,query:o,rounding:r,searchDelightConfig:c,subLabel:u,verified:p=!1}){const h=(0,d.ZP)();return(0,l.jsx)(a.xu,{display:"flex",paddingY:n?1:0,width:"100%","data-test-id":n||t?"enriched-search-suggestion":"regular-search-suggestion",children:(0,l.jsxs)(a.kC,{gap:{row:2,column:0},alignItems:"center",children:[n?(0,l.jsx)(a.xu,{width:le,height:le,overflow:"hidden",rounding:r&&2===r?2:"circle","data-test-id":"enriched-autocomplete-image",children:(0,l.jsx)(a.Ee,{alt:"",role:"presentation",color:"#efefef",fit:"cover",naturalHeight:le,naturalWidth:le,src:n})}):(0,l.jsx)(a.kC,{justifyContent:"center",alignItems:"center",width:le,height:le,children:(0,l.jsx)(a.xu,{marginTop:1,children:(0,l.jsx)(a.JO,{accessibilityLabel:t?(0,W.nk)(h.bt("icona {{ icon}}", "{{ icon}} icon", "SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon", undefined, true),{icon:t}).join():"",color:"default",icon:t||"search",size:12})})}),(0,l.jsxs)(a.kC,{direction:"column",alignItems:"start",justifyContent:"center",gap:{row:0,column:1},children:[(0,l.jsxs)(a.kC,{alignItems:"center",children:[e&&o?(0,l.jsx)(J.Z,{searchDelightConfig:c,query:o,text:i||o}):(0,l.jsx)(a.xv,{weight:"bold",children:i}),(p||s)&&(0,l.jsx)(a.xu,{marginStart:1,children:(0,l.jsx)(ae.Z,{hasVerifiedIdentity:p,iconOnly:!0,isVerifiedMerchant:s,size:"xs"})})]}),u&&(0,l.jsx)(a.xv,{size:"100",children:u})]})]})})}const ue=(0,s.lazy)((()=>Promise.all([n.e(67631),n.e(90279)]).then(n.bind(n,690279)))),pe=0;function he({experiences:e,index:t,focusedIndex:n,onInclusiveProductFilterClick:i,onSuggestionClick:o,onSuggestionMouseEnter:r,onSuggestionMouseLeave:c,query:u,suggestion:p}){const h=(0,d.ZP)(),_=(0,B.Z)(),g="number"==typeof p.identifier_icon_name&&p.identifier_icon_name!==re.J?(0,re.Z)(p.identifier_icon_name):void 0,m=()=>{(0,Q.Z)({report:p.label.toLowerCase(),query:u.toLowerCase(),suggestions:[p.label],type:pe})};return(0,l.jsx)(X,{experiences:e,placementId:1000315,searchTerm:u,suggestions:[p],children:({searchDelightConfig:e})=>(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(ce,{id:H(0,t),url:F({suggestion:p,query:u}),isHovered:n===t,onClick:()=>{o(p,t)},onMouseEnter:()=>{r(t)},onMouseLeave:()=>{c()},children:(0,l.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(a.xu,{flex:"grow",children:"inclusive_product_filter_query"===p.type?(0,l.jsx)(a.xu,{marginBottom:2,children:(0,l.jsx)(a.xv,{weight:"bold",children:(0,W.nk)(p.eligibleHairPatternFilters?h.bt("{{ query }} per tipo di capello", "{{ query }} by hair pattern", "SearchSuggestion.HairPatternFilterSuggestion", undefined, true):h.bt("{{ query }} per tonalità di pelle", "{{ query }} by skin tone range", "SearchSuggestion.SkinToneFilterSuggestion", undefined, true),{query:(0,l.jsx)(J.Z,{searchDelightConfig:e,query:u,text:p.label||u})})})}):(0,l.jsx)(de,{highlightMatch:!0,iconName:g,imageUrl:p.image,label:p.label,query:u,rounding:2,searchDelightConfig:e,subLabel:p.subLabel})}),_.isAuth&&_.isEmployee&&n===t?(0,l.jsx)(a.xu,{flex:"none",children:(0,l.jsx)(ie,{handleReport:m})}):null]})}),"inclusive_product_filter_query"===p.type&&i&&(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:p.eligibleHairPatternFilters?(0,l.jsx)($.Z,{name:"SafeSuspense_BlendedTypeaheadSuggestion_HairPatternFilters",children:(0,l.jsx)(ee.Z,{children:(0,l.jsx)(a.xu,{display:"flex",marginBottom:-4,overflow:"scrollX",paddingY:2,position:"relative",children:(0,l.jsx)(ue,{eligibleFilters:p.eligibleHairPatternFilters,isUpsell:!0,query:u,onClickApplyFilters:e=>i(p,t,e)})})})}):(0,l.jsx)(oe.Z,{query:u,onClickApplyFilters:e=>i(p,t,e),showHeaderText:!1})})]})})}const _e=({index:e,focusedIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:i,suggestion:o})=>(0,l.jsx)(ce,{id:H(0,e),url:o.url,isHovered:t===e,onClick:()=>{n(o,e)},onMouseEnter:()=>{s(e)},onMouseLeave:()=>{i()},children:(0,l.jsx)(de,{imageUrl:o.image,isVerifiedMerchant:o.is_verified_merchant,label:o.label,rounding:"circle",subLabel:o.subLabel,verified:o.verified})},`${o.type}-${o.label}-${o.subLabel||""}`);function ge({focusedIndex:e,onSuggestionClick:t,onSuggestionMouseEnter:n,onSuggestionMouseLeave:s}){const i=(0,d.ZP)(),o=0===e;return(0,l.jsx)(a.xu,{"aria-selected":o?"true":"false",id:"syop_cta",role:"option",children:(0,l.jsxs)(a.xu,{paddingX:4,marginTop:3,children:[(0,l.jsx)(a.iz,{}),(0,l.jsx)(a.xu,{marginTop:4,children:(0,l.jsxs)(a.kC,{justifyContent:"between",alignItems:"center",children:[(0,l.jsx)(a.xv,{weight:"bold",lineClamp:2,children:i.bt("Stai cercando le idee che hai salvato?", "Looking for ideas you saved?", "searchBox.suggestionsMenu.searchYourPinsCTA", undefined, true)}),(0,l.jsx)(a.kC.Item,{flex:"none",children:(0,l.jsx)(a.iP,{onTap:t,rounding:"pill",onMouseEnter:()=>{n(0)},onMouseLeave:s,children:(0,l.jsx)(a.xu,{rounding:"pill",color:o?"darkWash":"secondary",height:40,paddingX:3,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(a.xv,{align:"center",weight:"bold",children:i.bt("Cerca i tuoi Pin", "Search your Pins", "searchBox.suggestionsMenu.searchYourPinsText", undefined, true)})})})})]})})]})})}function me({experiences:e,suggestion:t,index:n,focusedIndex:s,query:i,onSuggestionClick:o,onSuggestionMouseEnter:r,onSuggestionMouseLeave:a,onInclusiveProductFilterClick:c}){switch(t.type){case"autocompleteupsell":return(0,l.jsx)(V,{suggestions:[t]});case"query":case"enriched_autocomplete":case"inclusive_product_filter_query":return(0,l.jsx)(he,{experiences:e,index:n,focusedIndex:s,onInclusiveProductFilterClick:c,onSuggestionClick:o,onSuggestionMouseEnter:r,onSuggestionMouseLeave:a,query:i,suggestion:t});case"user":return(0,l.jsx)(_e,{index:n,focusedIndex:s,onSuggestionClick:o,onSuggestionMouseEnter:r,onSuggestionMouseLeave:a,suggestion:t})}return null}var xe=n(702664),ve=n(654874),fe=n(689070),ye=n(90053),be=n(134951),we=n(444445),Se=n(248327),Ie=n(366428),Pe=n(81636);const Ae=({handleRemove:e,id:t,isHovered:n,label:s,onClick:i,onMouseEnter:o,onMouseLeave:r,removeA11yText:c,url:d})=>(0,l.jsx)(a.xu,{"aria-selected":n?"true":"false","data-test-id":"search-suggestion",id:t,marginBottom:2,marginEnd:2,role:"option",children:(0,l.jsx)(a.iP,{accessibilityLabel:s,href:d,onMouseEnter:o,onMouseLeave:r,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{e.metaKey||e.ctrlKey||(t(),e.preventDefault(),i())},role:"link",rounding:"pill",children:(0,l.jsxs)(a.xu,{alignItems:"center",color:n?"darkWash":"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,l.jsx)(a.xv,{align:"center",children:s}),(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,l.jsx)(a.hU,{accessibilityLabel:null!=c?c:"",icon:"cancel",iconColor:"darkGray",onClick:({event:t})=>{t.stopPropagation(),t.preventDefault(),null==e||e(s)},size:"xs"})})]})})}),Te=({id:e,isHovered:t,onClick:n,onMouseEnter:i,onMouseLeave:o,showSeeMoreOverlay:r,suggestion:c,trackClick:p,url:h})=>{var _,g,m,x,v,f;const y=(0,d.ZP)();return(0,l.jsx)(a.xu,{"aria-selected":t?"true":"false","data-test-id":"search-suggestion",id:e,marginBottom:2,paddingX:1,role:"option",children:(0,l.jsx)(a.iP,{role:"link",onMouseEnter:i,onMouseLeave:o,href:h||c.url,rounding:3,tabIndex:-1,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),p(),e.metaKey||e.ctrlKey||h||(e.preventDefault(),n())},children:(0,l.jsxs)(a.zd,{height:u.YO,rounding:3,wash:t,width:u.Gh,children:[(0,l.jsx)(a.Ee,{alt:c.label,fit:"cover",naturalHeight:null!==(_=null===(g=c.images["236x"])||void 0===g?void 0:g.height)&&void 0!==_?_:1,naturalWidth:null!==(m=null===(x=c.images["236x"])||void 0===x?void 0:x.width)&&void 0!==m?m:1,src:null!==(v=null===(f=c.images["236x"])||void 0===f?void 0:f.url)&&void 0!==v?v:""}),r&&(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:u.H2,height:u.YO,left:!0,position:"absolute",top:!0,width:u.Gh}),(0,l.jsx)(a.xu,{alignItems:"center",display:"flex",height:u.YO,justifyContent:"center",padding:3,position:"absolute",top:!0,width:u.Gh,children:(0,l.jsx)(a.xv,{align:"center",color:"inverse",weight:"bold",children:y.bt("Vedi altri", "See More", "searchBox.suggestionGroups.recentPinRep.seeMoreText", undefined, true)})})]})]})})})},Ce=({componentType:e,focusedIndex:t,groupIndex:n,keyPrefix:s,onSuggestionClick:i,onSuggestionMouseEnter:o,onSuggestionMouseLeave:r,seeMoreUrl:c,slpRefinementComponentStyle:d,suggestions:h,title:_})=>{const{logContextEvent:g}=(0,p.v)();return(0,l.jsxs)(a.kC,{direction:"column",gap:d?u.Lo:void 0,children:[(0,l.jsx)(a.kC,{width:"100%",children:(0,l.jsx)(je,{title:_,slpRefinementComponentStyle:d})}),(0,l.jsx)(a.xu,{display:"flex",wrap:!0,width:"100%",paddingX:d?u.r5:u.YP,children:h.map(((a,d)=>{const p=d===u.TD-1&&h.length===u.TD;return(0,l.jsx)(Te,{id:H(n,d),isHovered:t===d,onClick:()=>{i(a,d)},onMouseEnter:()=>{o(d)},onMouseLeave:()=>{r()},showSeeMoreOverlay:p,suggestion:a,trackClick:()=>{g({event_type:101,component:e,element:p?179:12374,view_type:u.Ie,view_parameter:103})},url:p?c:a.url},`${s}-${d}`)}))})]})},je=({slpRefinementComponentStyle:e,title:t})=>(0,l.jsx)(a.xu,{alignItems:"center",display:"flex",marginTop:e?void 0:2,marginStart:e?u.r5:5,paddingY:e?void 0:2,children:(0,l.jsx)(a.xv,{lineClamp:1,weight:e?"bold":void 0,children:t})});function Ee({focusedIndex:e,groupIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:i,slpRefinementComponentStyle:o,suggestions:r}){const a=(0,d.ZP)();return(0,Pe.Q)({component:13844,view_parameter:103,view_type:u.Ie}),(0,l.jsx)(Ce,{componentType:13844,focusedIndex:e,groupIndex:t,keyPrefix:"recent_save",onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:i,seeMoreUrl:"/me/pins/",slpRefinementComponentStyle:o,suggestions:r,title:a.bt("Salvati di recente", "Recently saved", "searchBox.recentSavedSuggestions.heading", undefined, true)})}function ke({containerWidth:e,focusedIndex:t,groupIndex:n,onSuggestionClick:s,onSuggestionMouseEnter:i,onSuggestionMouseLeave:o,slpRefinementComponentStyle:r,suggestions:c}){const p=(0,d.ZP)(),h=(0,xe.useDispatch)(),_=async e=>{await(0,fe.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e}}),h((0,Se.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins"}}))},g=p.bt("Rimuovi", "Remove", "Remove recent search in search typeahead suggestion", undefined, true),m=function({pillLabels:e,maxWidth:t}){let n=e.length;if(!t)return n;let s=0;for(let i=0;i<e.length;i+=1){const o=e[i].length*u.yY+u.Ag+u.Ub;if(!(o+s<t)){n=i;break}s+=o}return n}({pillLabels:c.map((e=>e.label)),maxWidth:e});return(0,l.jsxs)(a.kC,{direction:"column",gap:r?u.Lo:void 0,children:[(0,l.jsx)(je,{slpRefinementComponentStyle:r,title:p.bt("Ricerche recenti", "Recent searches", "Recent searches heading in search autocomplete", undefined, true)}),(0,l.jsx)(a.xu,{display:"flex",overflow:"hidden",paddingX:r?u.r5:u.YP,position:"relative",children:c.slice(0,m).map(((e,r)=>(0,l.jsx)(a.xu,{"data-test-id":"recent-query",children:(0,l.jsx)(Ae,{handleRemove:_,id:H(n,r),isHovered:t===r,label:e.label,onClick:()=>{s(e,r)},onMouseEnter:()=>{i(r)},onMouseLeave:()=>{o()},removeA11yText:g,url:F({suggestion:e,query:""})})},`${e.type}-${e.label}`)))})]})}function Re({focusedIndex:e,groupIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:i,slpRefinementComponentStyle:o,suggestions:r}){const a=(0,d.ZP)();return(0,Pe.Q)({component:13843,view_parameter:103,view_type:u.Ie}),(0,l.jsx)(Ce,{componentType:13843,focusedIndex:e,groupIndex:t,keyPrefix:"recent_view",onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:i,seeMoreUrl:"/recently-viewed/",slpRefinementComponentStyle:o,suggestions:r,title:a.bt("Visualizzati di recente", "Recently viewed", "searchBox.recentSavedSuggestions.heading", undefined, true)})}function De({groupIndex:e,focusedIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:i,onSuggestionMouseLeave:o,searchBoxRenderStopwatch:r,suggestions:c}){const d=u.Ie,{id:p,items:h,story_type:_,title:{format:g}}=c,m=h.map((({type:e,id:t})=>e+":"+t)).join("|"),x=(0,Ie.Z)({viewType:d,componentType:200,viewParameter:3467,loggingId:p,objectIdStr:p,contextLogData:{content_ids:m,story_id:p,story_type:_},impressionType:"Story",slotIndex:e});return(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(je,{title:g}),(0,l.jsx)(a.xu,{display:"flex",marginBottom:5,maxWidth:832,paddingX:u.YP,ref:x,wrap:!0,children:h.slice(0,4).map(((s,c)=>{const h=t===c;return(0,l.jsx)(a.xu,{"aria-selected":h?"true":"false","data-test-id":"search-suggestion-today-bubble",id:H(e,c),marginBottom:2,paddingX:1,role:"option",children:(0,l.jsx)(be.Z,{bubble:s,height:u.Ny,isHovered:h,onClick:()=>{n(s,c)},onMouseEnter:()=>{i(c)},onMouseLeave:()=>{o()},searchBoxRenderStopwatch:r,slotIndex:c,storyId:p,storyType:_,viewParameter:3467,viewType:d,width:u.Ny})},`story--${e}-${c}`)}))})]})}function Ze({containerWidth:e,focusedIndex:t,groupIndex:n,onSuggestionClick:s,onSuggestionMouseEnter:i,onSuggestionMouseLeave:o,searchBoxRenderStopwatch:r,slpRefinementComponentStyle:c,suggestions:d}){const{group:p}=(0,_.F)().checkExperiment("dweb_search_landing_page_refinements"),h=u.Ie,g=3467,{id:m,items:x,story_type:v,title:{format:f}}=d,y=x.map((({type:e,id:t})=>e+":"+t)).join("|"),b=(0,Ie.Z)({componentType:200,contextLogData:{content_ids:y,story_id:m,story_type:v},impressionType:"Story",loggingId:m,slotIndex:n,viewParameter:g,viewType:h}),w="shopping_spotlight"===v,S=e=>64+8*e;let I=3,P=(e-S(I))/I;for(;P>1.5*we.yF;)I+=1,P=(e-S(I))/I;const A=P/2.6;return(0,l.jsxs)(a.kC,{direction:"column",gap:c?u.Lo:void 0,children:[(0,l.jsx)(je,{title:f,slpRefinementComponentStyle:c}),(0,l.jsx)(a.xu,{display:"flex",marginBottom:c?void 0:5,maxWidth:c?void 0:832,paddingX:c?u.r5:u.YP,ref:b,wrap:!0,children:x.slice(0,w||"enabled_single_line_trending"===p&&2===x[0].story_category?I:void 0).map(((e,d)=>{var p,_;const f=t===d,{aux_fields:b,cover_images:S,dominant_colors:I,id:T,query:C,story_category:j,title:{format:E}}=e,k=()=>{(0,Q.Z)({query:"",report:C,suggestions:x.map((e=>e.query)),type:2===e.story_category?u.KH.SEARCH_TRENDING_TEXT:u.KH.SEARCH_IDEAS_FOR_YOU})},R=w?u.Ny:u.D1,D={story_type:v,content_ids:y,grid_index:d,story_id:m};return(0,l.jsx)(a.xu,{"aria-selected":f?"true":"false","data-test-id":"search-suggestion",id:H(n,d),marginBottom:2,marginEnd:2,role:"option",children:c?(0,l.jsx)(ye.Z,{contextLogData:D,dominantColor:I[0],handleReport:k,height:A,id:T,image:(null===(p=S[0]["236x"])||void 0===p?void 0:p.url)||(null===(_=S[0]["474x"])||void 0===_?void 0:_.url)||"",isHovered:f,name:E,onTap:()=>{s(e,d)},onMouseEnter:()=>{i(d)},onMouseLeave:()=>{o()},searchBoxRenderStopwatch:r,slotIndex:d,url:(0,O.Z)({query:E,referringSource:2===j?"trending":"autocomplete_bubble",bubbleId:null!=T?T:"",storyId:m,pinId:null==b?void 0:b.image_pin_id}),viewParameter:g,viewType:h,width:P}):(0,l.jsx)(ve.Z,{bubble:e,contextLogData:D,disableTabIndex:!0,handleReport:k,height:R,imgSignature:null==b?void 0:b.image_sig,isHovered:f,onClick:()=>{s(e,d)},onMouseEnter:()=>{i(d)},onMouseLeave:()=>{o()},referringSource:2===j?"trending":"autocomplete_bubble",searchBoxRenderStopwatch:r,showFlag:2===j||115===j,slotIndex:d,storyId:m,viewParameter:g,viewType:h,width:u.Ny})},`story-${null!=j?j:""}-${n}-${T}`)}))})]})}const Le={boxSizing:"content-box",overflowY:"scroll",width:"calc(100% + 17px)"};function Me({focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:n,onMouseEnter:o,onMouseLeave:r,onSuggestionClick:c,onSuggestionHovered:u,onSyopCtaClick:p,query:h,searchBoxHeight:g,searchBoxRenderStopwatch:m,showSyopHeading:x,slpRefinementComponent:v,suggestionGroups:f,width:y}){const b=(0,s.useRef)(),w=(0,d.ZP)(),{experiencesMulti:S}=(0,L.Z)(1000315),{checkExperiment:I}=(0,_.F)(),P=I("gate_ss_articles_through_tat").anyEnabled,A=(0,Z.Z)();function T(){u(void 0)}function C(t,s,o){const r=U(f),a=null==e?void 0:e-r[s],d=e=>{!function(e,t){u(U(f)[e]+t)}(s,e)};switch(t.type){case"recent_query":return(0,l.jsx)(ke,{containerWidth:o,focusedIndex:a,groupIndex:s,onSuggestionClick:c,onSuggestionMouseEnter:d,onSuggestionMouseLeave:T,slpRefinementComponentStyle:v,suggestions:t.items});case"recent_save":return(0,l.jsx)(Ee,{focusedIndex:a,groupIndex:s,onSuggestionClick:c,onSuggestionMouseEnter:d,onSuggestionMouseLeave:T,slpRefinementComponentStyle:v,suggestions:t.items});case"recent_view":return(0,l.jsx)(Re,{focusedIndex:a,groupIndex:s,onSuggestionClick:c,onSuggestionMouseEnter:d,onSuggestionMouseLeave:T,slpRefinementComponentStyle:v,suggestions:t.items});case"story":return P&&"shopping_spotlight"===t.story_type?(0,l.jsx)(De,{containerWidth:o,focusedIndex:a,groupIndex:s,onSuggestionClick:c,onSuggestionMouseEnter:d,onSuggestionMouseLeave:T,searchBoxRenderStopwatch:m,slpRefinementComponentStyle:v,suggestions:t}):(0,l.jsx)(Ze,{containerWidth:o,focusedIndex:a,groupIndex:s,onSuggestionClick:c,onSuggestionMouseEnter:d,onSuggestionMouseLeave:T,searchBoxRenderStopwatch:m,slpRefinementComponentStyle:v,suggestions:t});case"blended_autocomplete":return function(e){const t=e.slice();let n=t[0];for(const c of t){var s,o;if(null!==(s=c.modified_filter_eligibility)&&void 0!==s&&s.hair_pattern||null!==(o=c.modified_filter_eligibility)&&void 0!==o&&o.skin_tone){var r,a,l;const e=(null===(r=c.modified_filter_eligibility.hair_pattern)||void 0===r?void 0:r.base_query)||(null===(a=c.modified_filter_eligibility.skin_tone)||void 0===a?void 0:a.base_query)||"",s=null===(l=c.modified_filter_eligibility.hair_pattern)||void 0===l?void 0:l.eligible_filters,{rs:o}=(0,R.Z)({url:c.url}),d={query:e,rs:o},u=(0,i.Z)(d),p="enriched_autocomplete"===n.type&&n.image?1:0,h={eligibleHairPatternFilters:s,label:e,query:e,resultIndex:p,type:"inclusive_product_filter_query",url:u};t.splice(p,0,h),n=t[0];break}}return t}(t.items).map(((e,t)=>(0,l.jsx)(me,{experiences:S,focusedIndex:a,index:t,onInclusiveProductFilterClick:n,onSuggestionClick:c,onSuggestionMouseEnter:d,onSuggestionMouseLeave:T,query:h,suggestion:e},`search-suggestion-${e.label||""}-${e.query||""}-${e.type}-${e.url||""}-${e.image||""}`)));case"syop_cta":return(0,l.jsx)(ge,{focusedIndex:a,index:0,onSuggestionClick:p,onSuggestionMouseEnter:d,onSuggestionMouseLeave:T})}return null}return(0,l.jsx)(D.Z,{view:2,viewParameter:103,children:f.length>0?(0,l.jsx)(a.xu,{role:"listbox",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",top:g}},left:!0,overflow:"hidden",position:"absolute",width:y||"100%",id:"SuggestionsMenu",children:(0,l.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:o,onMouseLeave:r,style:{maxHeight:t,...Le},children:(0,l.jsxs)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",paddingBottom:v?"24px":"16px",paddingTop:v?"32px":"12px"}},marginStart:A?2:void 0,overflow:"hidden",ref:b,width:v?"100%":"calc(100% - 17px)",children:[x&&(0,l.jsx)(a.xu,{marginTop:4,marginStart:v?8:5,marginBottom:v?4:void 0,children:(0,l.jsx)(a.X6,{size:"500",children:(e=>e.length>0?(0,W.nk)(w.bt("Cerca i tuoi Pin relativi a {{ query }}", "Search your Pins for {{ query }}", "searchBox.suggestionsMenu.searchYourPinsForQueryText", undefined, true),{query:e}):w.bt("Cerca i tuoi Pin", "Search your Pins", "searchBox.suggestionsMenu.searchYourPinsText", undefined, true))(h)})}),f.map(((e,t)=>{var n,s,i,o;return e.items.length?(0,l.jsx)(a.kC,{direction:"column",gap:v?10:void 0,children:(0,l.jsx)(a.xu,{children:C(e,t,null!==(i=null===(o=b.current)||void 0===o?void 0:o.getBoundingClientRect().width)&&void 0!==i?i:0)},`${h}-${e.type}-${null!==(n=null===(s=e.title)||void 0===s?void 0:s.format)&&void 0!==n?n:""}`)}):null}))]})})}):(0,l.jsx)(a.xu,{})})}var Oe=n(254469);function ze({query:e,scope:t,setRecentQueries:n,setAutocompleteSuggestions:i}){const o=(0,d.ZP)(),a=(0,Oe.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:t},value:e});(0,s.useEffect)((()=>{i([{items:a||[],type:"blended_autocomplete"}])}),[a,e,i,o]);const{isLoaded:l,data:c}=(0,z.Z)({name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:r.lw.PINS},noCache:!0});(0,s.useEffect)((()=>{l&&c&&function({newRecentQueries:e,setRecentQueries:t}){t(e.slice(0,u.P$).map((({label:e,query:t,url:n,type:s},i)=>({label:e,query:t,resultIndex:i,type:s,url:n}))))}({newRecentQueries:c.items,setRecentQueries:n})}),[l,c,n])}var Be=n(425288);const Ne={recentSaves:[],recentViews:[]};function Fe(e=Ne,t){switch(t.type){case"FETCH_COMPLETE":{const{options:n={},resource:s}=t.payload,i=t.payload.response.resource_response.data;if("ApiResource"===s&&"/v3/users/me/recent/engaged/pin/stories/"===n.url&&i){const t=i.find((e=>"user_recently_viewed_pins"===e.story_type)),n=i.find((e=>"user_recently_saved_pins"===e.story_type)),s=(null==t?void 0:t.objects.map((({description:e,id:t,images:n},s)=>({label:e,images:n,resultIndex:s,type:"recent_view",url:`/pin/${t}`}))))||[],o=(null==n?void 0:n.objects.map((({description:e,id:t,images:n},s)=>({label:e,images:n,resultIndex:s,type:"recent_save",url:`/pin/${t}`}))))||[];return{...e,recentSaves:o,recentViews:s}}return e}default:return e}}var He=n(505920);const{Provider:Ue,useHook:qe}=(0,Be.Z)("SearchBox");function We({children:e}){const[t,n]=(0,s.useReducer)(Fe,Ne);(0,He.Z8)("ApiResource",(e=>{n({type:"FETCH_COMPLETE",payload:e})}));const i=(0,s.useMemo)((()=>({state:t})),[t]);return(0,l.jsx)(Ue,{value:i,children:e})}var Ge=n(584992);const{Provider:Ve,useHook:$e}=(0,Ge.Z)({name:"search_tab_render",sampleRate:1}),Ye=Ve,Ke=$e;function Xe({focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:n,onMouseEnter:i,onMouseLeave:o,onSuggestionClick:a,onSuggestionGroupsUpdate:c,onSuggestionHovered:d,onSyopCtaClick:u,query:p,scope:h,searchBoxHeight:_,slpRefinementComponent:g,suggestionGroups:m,width:x}){const v=h===r.lw.PINS_MINE,f=Ke();(0,w.Z)((()=>{v||null==f||f.start()}));const{data:y}=(0,z.Z)({name:"SearchTabResource"}),{state:{recentSaves:b,recentViews:S}}=qe(),[I,P]=(0,s.useState)([]),[A,T]=(0,s.useState)([]);return ze({query:p,scope:h,setRecentQueries:P,setAutocompleteSuggestions:T}),(0,s.useEffect)((()=>{const e=A.concat({items:[{type:"syop_cta",label:"",query:"",resultIndex:0,url:""}],type:"syop_cta"}),t=g?null==y?void 0:y.filter((e=>"shopping_spotlight"!==e.story_type)):y;let n;n=v?[{items:I,type:"recent_query"},{items:S,type:"recent_view"},{items:b,type:"recent_save"}]:p.length?e:[{items:I,type:"recent_query"},...t||[]],c(n)}),[A,v,c,p,y,I,b,S,h,g]),(0,l.jsx)(Me,{focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:n,onMouseEnter:i,onMouseLeave:o,onSuggestionClick:a,onSuggestionHovered:d,onSyopCtaClick:u,query:p,searchBoxHeight:_,searchBoxRenderStopwatch:f,showSyopHeading:v,slpRefinementComponent:g,suggestionGroups:m,width:x})}var Je=n(941646),Qe=n(53987),et=n(965900);function tt({handleIconOnlyChange:e,iconOnly:t=!1,isPartner:n=!1,widthType:o="md"}){const{logContextEvent:c}=(0,p.v)(),m=(0,d.ZP)(),b=(0,h.useHistory)(),{isRTL:S}=(0,g.B)(),{checkExperiment:I}=(0,_.F)(),P=(0,h.useLocation)(),A=(0,Qe.En)(P);!function(){const e=(0,B.Z)();(0,z.Z)({name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:r.lw.PINS},noCache:!0}),(0,z.Z)({name:"SearchTabResource"}),(0,z.Z)(e.isLimitedLogin?null:{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:u.a3.join(","),pin_preview_count:u.sA}}})}();const{query:T,scope:C}=(0,v.Z)(P),R=null!=T?T:"",[D,Z]=(0,s.useState)(R),[L,M]=(0,s.useState)(),O=L&&L.query?L.query:D,N=function(){const e=(0,h.useLocation)(),t=(0,B.Z)(),n=t.isAuth&&e.pathname.startsWith(`/${t.username}/`),s=e.pathname.startsWith("/recently-viewed");return n||s}();let W=null!=C?C:r.lw.PINS;N&&(W=r.lw.PINS_MINE);const[G,V]=(0,s.useState)(W),$=G===r.lw.PINS_MINE,[Y,K]=(0,s.useState)([]),[X,J]=(0,s.useState)(),[Q,ee]=(0,s.useState)(!1),[te,ne]=(0,s.useState)(!1),[se,ie]=(0,s.useState)(!1),[oe,re]=(0,s.useState)(!1),[ae,le]=(0,s.useState)(!1),[ce,de]=(0,s.useState)(0);function ue(){J(void 0),M(void 0)}const pe=te||oe,{setAppFocusState:he,toggleTypeaheadOverlay:_e}=(0,et.I)(),[ge,me]=(0,s.useState)(t);(0,s.useEffect)((()=>{me(t)}),[t]);const{anyEnabled:xe}=I("dweb_search_landing_page_refinements"),[ve,fe]=(0,s.useState)(!1),[ye,be]=(0,s.useState)();!function({setShouldHideGhostText:e,setSuggestionsMaxHeight:t}){function n(){var n;const s=(null===(n=document.getElementById("searchBoxContainer"))||void 0===n?void 0:n.offsetWidth)||0;e(s<=u.le),t(window.innerHeight-14-u.Fj)}(0,w.Z)((()=>(window.addEventListener("resize",n),n(),()=>{window.removeEventListener("resize",n)})))}({setShouldHideGhostText:fe,setSuggestionsMaxHeight:be});const[we,Se]=function({shouldHideGhostText:e,isSyop:t,inputFocused:n}){const s=(0,d.ZP)(),i=(0,z.Z)({name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}});let o=s.bt("Cerca", "Search", "searchBox.placeholder.defaultText", undefined, true),r="";if(!e&&i.isLoaded&&i.data&&i.data.length>0){const e=i.data[0].text;r=i.data[0].query,o=e}return t&&(o=n?s.bt("Prova un titolo o una descrizione", "Try a title or description", "searchBox.placeholder.searchYourOwnPinsFocusedText", undefined, true):s.bt("Cerca i tuoi Pin", "Search your Pins", "searchBox.placeholder.searchYourOwnPinsText", undefined, true)),[o,r]}({shouldHideGhostText:ve,isSyop:$,inputFocused:te}),Ie=(0,s.useRef)();function Pe(){const e=(0,E.Z)(D);if(!e.length)return;const t=(0,i.Z)({query:e,rs:"ac",scope:r.lw.PINS_MINE});b.push(t)}(0,s.useEffect)((()=>{Ie.current!==pe&&(pe?f.Z.pause():f.Z.resume(),he(!pe),pe||(ue(),Z(R)),_e(pe),Ie.current=pe)}),[R,pe,he,_e]),(0,s.useEffect)((()=>{Z(R),V(W),ne(!1),re(!1)}),[R,W]);const Ae=(e,t,n=!1)=>{const s=n?97:101,i={};switch(D&&(i.entered_query=D,i.selected_query=e.query||void 0),e.type){case"inclusive_product_filter_query":case"recent_query":case"query":c({event_type:s,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"inclusive_product_filter_query"===e.type?"query":e.type,result_index:t,...i}});let o=F({suggestion:e,query:D,lastFocusTime:ce});$&&"recent_query"===e.type&&(o=o.replace("pins","my_pins")),b.push(o);break;case"recent_save":b.push(e.url);break;case"enriched_autocomplete":c({event_type:s,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:e.type,result_index:t,...i}}),b.push(e.url);break;case"explorearticle":26===e.story_category?c({event_type:101,view_type:2,view_parameter:3467,component:13865,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_id:e.storyId,story_type:"shopping_spotlight",...i}}):c({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:{autocomplete_type:2===e.story_category?"trending":"recommended",result_index:t,...i}}),n&&b.push(F({suggestion:e,query:""}));break;case"todayarticle":c({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_type:"shopping_spotlight",...i}}),n&&b.push(F({suggestion:e,query:""}));break;case"board":case"user":c({event_type:s,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:e.type,result_index:t,...i}}),b.push(e.url);break;case"syop_cta":Pe()}ue(),ne(!1),re(!1)},Te=()=>{if(O===R&&G===W)return;const e=(0,E.Z)(O);if(!e.length)return;const t=(0,i.Z)({query:e,rs:"typed",scope:G});b.push(t)},Ce=()=>{ne(!0),me(!1),e&&e(!1),n&&c({event_type:101,element:11809})};if(ge&&!te&&!R&&!pe)return(0,l.jsx)(a.xu,{id:"searchBoxContainer",children:(0,l.jsx)(a.hU,{accessibilityLabel:m.bt("Icona di ricerca", "Search icon", "searchBox.searchIcon.accessibilityLabel", undefined, true),icon:"search",onClick:Ce,size:"lg",iconColor:"gray"})});const je=function({suggestionsFocusIndex:e,suggestionGroups:t}){const n=U(t);let s,i;if("number"==typeof e)for(let o=n.length-1;o>=0;o-=1)if(e>=n[o]){s=o,i=e-n[o];break}return"number"==typeof s&&"number"==typeof i?H(s,i):""}({suggestionsFocusIndex:X,suggestionGroups:Y}),Ee="shrink"!==o&&(R||N);let ke="shrink"===o?"8px":0;Ee&&(ke="4px");const Re="shrink"===o?"80vw":void 0,De=(0,l.jsx)(Ye,{children:(0,l.jsx)(Xe,{focusIndex:X,maxHeight:ye,onInclusiveProductFilterClick:(e,t,n)=>{const s={};D&&(s.entered_query=D),c({event_type:101,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"query",result_index:t,...s}});const i=F({suggestion:e,query:D,lastFocusTime:ce,filterSelectedTerm:n});b.push(i)},onMouseEnter:()=>re(!0),onMouseLeave:()=>re(!1),onSuggestionClick:Ae,onSuggestionGroupsUpdate:K,onSuggestionHovered:e=>J(e),onSyopCtaClick:Pe,query:D,scope:G,slpRefinementComponent:xe,searchBoxHeight:u.XI+4,suggestionGroups:Y,width:Re})});return(0,l.jsx)(a.xu,{flex:"grow",id:"searchBoxContainer",minWidth:o&&"shrink"!==o?u.ht[o]:void 0,paddingX:2,children:(0,l.jsxs)(a.xu,{color:se?void 0:"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:se?"#E1E1E1":void 0}},display:"flex",height:u.XI,rounding:6,children:[(0,l.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:S?`0 16px 0 ${ke}`:`0 ${ke} 0 16px`,...pe?{borderRadius:"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{}}},display:"flex",flex:"grow",height:"100%",onMouseEnter:()=>{ie(!0)},onMouseLeave:()=>{ie(!1)},position:"relative",children:[!(O||te)&&(0,l.jsx)(a.xu,{flex:"none",marginEnd:2,children:(0,l.jsx)(a.JO,{accessibilityLabel:m.bt("Icona di ricerca", "Search icon", "searchBox.searchIcon.accessibilityLabel", undefined, true),icon:"search",size:16})}),A&&(0,l.jsx)(j,{handleClearMode:()=>{O===R?b.push(`/search/pins/?q=${R}`):V(r.lw.PINS)},scope:G}),(0,l.jsx)(k.Z,{dataTestId:"search-box-input",focusOptionId:je,isFocused:pe,name:"searchBoxInput",onBlur:function(){ne(!1)},onChange:function(e){Z(e),ue()},onFocus:function(){de(Date.now()),c({event_type:101,component:43,element:227}),ne(!0)},onKeyDown:e=>{switch(e.keyCode){case y.Z.ENTER:{const t=q(Y,X);pe&&t&&e.preventDefault(),t&&Q?(Ae(t,t.resultIndex||0,!0),ee(!1)):Te();break}case y.Z.ESCAPE:pe&&e.preventDefault(),e.stopPropagation(),ne(!1),re(!1);break;case y.Z.UP:pe&&e.preventDefault();const[t,n]=function(e,t){const n=e.map((e=>{var t;return null!==(t=e.items.length)&&void 0!==t?t:0})).reduce(((e,t)=>e+t),0);let s;return s=null==t?n-1:0===t?void 0:t-1,[s,q(e,s)]}(Y,X);J(t),ee(!0),M(n);break;case y.Z.DOWN:{pe&&e.preventDefault();const[t,n]=function(e,t){const n=e.map((e=>{var t;return null!==(t=e.items.length)&&void 0!==t?t:0})).reduce(((e,t)=>e+t),0);let s;return s=null==t?0:t===n-1?void 0:t+1,[s,q(e,s)]}(Y,X);J(t),ee(!0),M(n);break}case y.Z.TAB:Se&&!D&&pe&&(e.preventDefault(),e.stopPropagation(),Z(Se))}},onSearchTrigger:Te,placeholder:we,value:O}),O||n&&Ee||pe?(0,l.jsx)(a.xu,{flex:"none",marginStart:3,children:(0,l.jsx)(Je.Z,{id:"search-cancel",children:(0,l.jsx)(a.hU,{accessibilityLabel:m.bt("Rimuovi i dati della ricerca", "Remove search input", "searchBox.removeSearchInput.accessibilityLabel", undefined, true),icon:R?"cancel":"clear",iconColor:"darkGray",onClick:()=>{if(Z(""),V(r.lw.PINS),ue(),R){const e=(0,i.Z)({query:"",rs:"remove"});b.push(e)}else n&&e&&e(!0)},size:R?"sm":"lg"})})}):null,pe&&De]}),Ee?(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,l.jsx)(x,{currentlySelectedFilter:G,currentQuery:R,handleContentTypeFilterHover:()=>{n&&le(ae)},handleScopeChange:function(e){V(e),ne(n&&!D),ue()}})]}):null]})})}function nt(e){return(0,l.jsx)(We,{children:(0,l.jsx)(tt,{...e})})}},641350:(e,t,n)=>{n.d(t,{Ag:()=>_,D1:()=>m,Fj:()=>u,Gh:()=>b,H2:()=>y,Ie:()=>S,KH:()=>w,Lo:()=>r,Ny:()=>x,P$:()=>p,TD:()=>v,Ub:()=>g,XI:()=>s,YO:()=>f,YP:()=>o,a3:()=>c,ht:()=>a,le:()=>d,r5:()=>i,sA:()=>l,yY:()=>h});const s=48,i=8,o=4,r=4,a={md:407,sm:332},l=7,c=["pin.description","pin.id","pin.images[236x]"],d=360,u=76,p=5,h=7.5,_=40,g=24,m=84,x=192,v=7,f=116,y={__style:{backgroundColor:"rgba(0,0,0, .4)"}},b=90,w={AUTOCOMPLETE:0,SEARCH_TRENDING_TEXT:2,SEARCH_IDEAS_FOR_YOU:3},S=2},100745:(e,t,n)=>{n.d(t,{A:()=>a,N:()=>l});var s=n(667294),i=n(425288),o=n(785893);const{Provider:r,useHook:a}=(0,i.Z)("ModeIcon");function l({children:e,value:t={modeIcon:null}}){const[n,i]=(0,s.useState)(t),a=(0,s.useMemo)((()=>({searchContext:n,updateSearchContext:i})),[n,i]);return(0,o.jsx)(r,{value:a,children:e})}},858521:(e,t,n)=>{n.d(t,{Z:()=>r,b:()=>a});var s=n(667294);const i=(0,s.createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{}});var o=n(785893);function r({children:e}){const[t,n]=(0,s.useState)(null),[r,a]=(0,s.useState)(null),[l,c]=(0,s.useState)(!1),d=(0,s.useMemo)((()=>({inboxButton:t,setInboxButton:n,profileInboxButton:r,setProfileInboxButton:a,isUnblockToast:l,setIsUnblockToast:c})),[t,r,l]);return(0,o.jsx)(i.Provider,{value:d,children:e})}function a(){const e=(0,s.useContext)(i);if(void 0===e)throw new Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},627219:(e,t,n)=>{n.d(t,{AI:()=>B,AM:()=>b,AY:()=>W,C:()=>Y,Cc:()=>l,DX:()=>k,GO:()=>O,HJ:()=>r,Hj:()=>p,I2:()=>H,IV:()=>i,J0:()=>x,LL:()=>$,Ng:()=>s,P:()=>P,P3:()=>m,QX:()=>K,Rd:()=>I,So:()=>f,V$:()=>d,WC:()=>C,ZH:()=>Z,aE:()=>g,c4:()=>A,cU:()=>T,ci:()=>j,di:()=>F,f_:()=>u,gb:()=>G,gs:()=>M,hf:()=>N,hp:()=>z,hy:()=>o,iJ:()=>h,ie:()=>v,kJ:()=>q,kc:()=>S,mM:()=>E,os:()=>c,qZ:()=>w,qb:()=>y,ti:()=>V,uW:()=>L,uZ:()=>a,wA:()=>_,yc:()=>D,ys:()=>U,zM:()=>R});const s={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},i=3,o=360,r=375,a=64,l=36,c=36,d=344,u=328,p=8,h=156,_=164,g=328,m=164,x=108.7,v=3,f=82,y=82,b=164,w=164,S=4,I=164,P=164,A=2,T=82,C=164,j=2,E=2,k=4,R=328,D="290x",Z="170x",L={backgroundColor:"rgba(0, 0, 0, 0.4)"},M=4,O="1px",z=48,B=32,N=36,F="136x136",H=2,U=4,q=118,W=236,G={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18},V=e=>"31"==`${String(e)}`,$="recommendation",Y="dropdown_item_settings_id",K=10},883851:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(215292),i=n(883119),o=n(785893);function r(e,t){return t?"primary":e?"tertiary":void 0}function a({colors:e,isSelected:t,onClick:n}){return(0,o.jsx)(s.q,{children:({hovered:s,onMouseEnter:a,onMouseLeave:l})=>(0,o.jsx)(i.kC,{alignItems:"center",height:64,justifyContent:"start",children:(0,o.jsx)(i.iP,{mouseCursor:"pointer",onMouseEnter:a,onMouseLeave:l,onTap:n,rounding:"pill",children:(0,o.jsx)(i.xu,{alignItems:"center",color:r(s,t),display:"flex",height:64,justifyContent:"center",rounding:"pill",width:92,children:(0,o.jsx)(i.xu,{alignItems:"center",color:"default",display:"flex",height:60,justifyContent:"center",rounding:"pill",width:88,children:(0,o.jsx)(i.xu,{display:"flex",height:56,overflow:"hidden",rounding:"pill",width:84,wrap:!0,children:e.map(((e,t)=>(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:28,width:42},`${e}-${t}`)))})})})})})})}},796668:(e,t,n)=>{n.d(t,{W:()=>d,Z:()=>p});var s=n(667294),i=n(756306),o=n(883851),r=n(898781),a=n(407043),l=n(883119),c=n(785893);const d=[["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],["#DEBAB0","#E0999A","#DDA67C","#D98A64"],["#9A6B52","#A25847","#B37143","#BF6951"],["#683929","#34261F","#64281B","#4F2221"]],u=[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}];function p({currentlyAppliedFiltersParamTerm:e,filterTones:t=u,onClickApplyFilters:n,query:p,showHeaderText:h=!0}){const{logContextEvent:_}=(0,a.v)(),g=(0,r.ZP)(),m=(0,s.useRef)(null),x=(0,s.useRef)(null),v=e?g.bt("Alcune idee per questa tonalità di pelle", "Some ideas in this skin tone range", "SkinToneFilters.copy.termSelected", undefined, true):g.bt("Scegli una tonalità di pelle", "Pick a skin tone range", "SkinToneFilters.copy.noTermSelected", undefined, true);return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsxs)(l.kC,{alignItems:h?"center":"start",direction:"column",justifyContent:"start",children:[h&&(0,c.jsx)(l.xu,{marginBottom:2,children:(0,c.jsx)(l.xv,{color:"default",overflow:"normal",weight:"bold",children:v})}),(0,c.jsx)(l.xu,{display:"flex",flex:"none",paddingX:1,ref:m,children:t.map((({term:t},s)=>(0,c.jsx)(l.xu,{"data-test-id":"skin-tone-option",dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},children:(0,c.jsx)(o.Z,{colors:d[s],isSelected:e===t,onClick:()=>(t=>{var s;const i=e===t?"":t;_({event_type:101,component:47,element:10418,view_type:2,aux_data:{entered_query:p,filter_type:"skin_tone",value:i}}),null===(s=x.current)||void 0===s||s.complete(),n(i)})(t)})},t)))})]}),m&&(0,c.jsx)(i.Z,{anchor:m.current,experienceIds:[502978],idealDirection:"right",onExperienceMount:e=>{e.complete&&502978===e.experience_id&&(x.current=e)},placementId:29})]})}},361122:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(19121),i=n(773285);function o(){const{checkExperiment:e}=(0,i.F)(),t=(0,s.Z)();return Boolean(t.isPartner)&&e("aid_exp_ia_navigation_update_search").anyEnabled}},925059:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(667294),i=n(784590),o=n(313951);function r(){const e=(0,s.useRef)(0),t=(0,s.useRef)(null),n=(0,i.Z)({name:"NewsHubBadgeResource",noCache:!0,headers:{"X-Pinterest-AppState":"background"}}),r=(0,i.Z)({name:"ConversationsResource",noCache:!0}),{conversations:{unread:a}}=(0,o.Z5)();function l(){t.current&&clearTimeout(t.current),n.refresh(),t.current=setTimeout(l,2e3+e.current),e.current=Math.min(2*(e.current||5e3),9e5)}return(0,s.useEffect)((()=>(l(),function(){t.current&&clearTimeout(t.current)})),[]),(0,s.useEffect)((()=>r.refresh()),[a]),null}},837131:(e,t,n)=>{n.d(t,{Z:()=>X});var s=n(667294),i=n(537736),o=n(566438),r=n(898781),a=n(785893);function l({badgeCount:e=0,icon:t="speech-ellipsis",onClick:n,selected:s=!1}){const l=(0,r.ZP)(),c={bell:l.bt("Notifiche", "Notifications", " - ", undefined, true),"speech-ellipsis":l.bt("Messaggi", "Messages", " - ", undefined, true)};return(0,a.jsx)(o.Z,{accessibilityLabel:c[t],contextData:{event:101,component:8,element:1187},icon:(0,a.jsx)(i.Z,{count:e,accessibilityLabel:"",color:s?"default":"subtle",icon:t,iconSize:24}),onClick:n,text:c[t],type:"button"},"NotificationsButton")}var c=n(442082),d=n(977558);const u=1,p=2;var h=n(773285),_=n(858521),g=n(343341),m=n(946984),x=n(116303),v=n(499128),f=n(313951),y=n(883119);function b({onHide:e,lastConversation:t}){const{dropdownOpen:n,conversationOpen:s}=(0,f.Z5)(),i=(0,r.ZP)();if(!(e&&t&&t.last_message&&t.last_message.sender))return;const o=t.last_message.sender,l=o.first_name?o.first_name:o.username,c=(0,a.jsx)(x.Z,{size:"sm",name:l||"Someone",src:o.image_large_url}),d=t.last_message.pin?i.bt("ti ha inviato un Pin!", "sent you a Pin!", "navbar.messageNotifications.text", undefined, true):i.bt("ti ha inviato un messaggio!", "sent you a message!", "navbar.messageNotifications.text", undefined, true),u=(0,a.jsxs)(y.xv,{color:"light",inline:!0,children:[" ",(0,a.jsxs)(y.xv,{weight:"bold",color:"light",inline:!0,children:[l," "]}),d]});return(0,a.jsx)(y.kC,{alignContent:"center",alignItems:"stretch",justifyContent:"start",children:(0,a.jsx)(y.iP,{onTap:()=>{e(),n(),s(t.id)},fullWidth:!0,children:(0,a.jsx)(v.ZP,{onHide:e,duration:7e3,primaryAction:{accessibilityLabel:"Open chat",label:"View"},thumbnail:{avatar:c},text:u})})})}function w({anchor:e,lastConversation:t}){const{dropdownOpen:n,conversationOpen:s}=(0,f.Z5)(),i=(0,r.ZP)();if(!t||!t.unread)return null;const o=t.last_message;if(!o||!o.sender||Date.now()-o.created_ms>7e3)return null;const l=o.sender,c=l.first_name?l.first_name:l.username,d=(0,a.jsx)(x.Z,{size:"sm",name:c||"Someone",src:l.image_large_url}),u=o.pin?i.bt("ti ha inviato un Pin!", "sent you a Pin!", "navbar.messageNotifications.text", undefined, true):i.bt("ti ha inviato un messaggio!", "sent you a message!", "navbar.messageNotifications.text", undefined, true),p=(0,a.jsxs)(y.xv,{color:"light",inline:!0,children:[" ",(0,a.jsxs)(y.xv,{weight:"bold",color:"light",inline:!0,children:[c," "]}),u]}),h=new y.Ry(1e3);return(0,a.jsx)(y.mh,{zIndex:new y.H3([h]),children:(0,a.jsx)(y.iP,{onFocus:()=>{n(),s(t.id)},children:(0,a.jsx)(y.xu,{marginTop:0,display:"flex",alignContent:"center",position:"fixed",children:(0,a.jsx)(y.Li,{accessibilityLabel:"New message notification",onDismiss:()=>{},anchor:e,idealDirection:"down",size:"flexible",role:"tooltip",children:(0,a.jsxs)(y.xu,{padding:2,alignItems:"center",display:"flex",direction:"row",width:310,alignContent:"center",children:[(0,a.jsx)(y.xu,{padding:2,children:d}),(0,a.jsxs)(y.xu,{display:"flex",direction:"row",padding:2,children:[p,(0,a.jsx)(y.zx,{text:"View"})]})]})})})})})}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends s.Component{constructor(...e){super(...e),S(this,"setButtonRef",(e=>{const{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))})),S(this,"clearBadges",(()=>{const{onClearBadges:e}=this.props;e(p),this.updateBrowserTabTitleCount(0)})),S(this,"handleButtonClick",(e=>{const{requireAuth:t,showPanel:n,closeConversationsDropdown:s,openConversationsDropdown:i}=this.props;if(t)return e&&e.stopEventPropagation(),void t();n?s():i(),this.clearBadges(),this.onComplete&&this.onComplete()}))}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(e){var t,n;const{messageNotificationType:s,lastConversation:i}=this.props;if("enabled_toast"===s&&i&&i.unread>0&&e.lastConversation&&(null===(t=i.last_message)||void 0===t?void 0:t.id)!==(null===(n=e.lastConversation.last_message)||void 0===n?void 0:n.id)){const e=i.last_message?i.last_message.created_ms:0;Date.now()-e<7e3&&this.props.handleMessageToast()}this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){const{conversationsUnseenCount:e,newsHubCount:t}=this.props;this.updateBrowserTabTitleCount(e+t)}updateBrowserTabTitleCount(e){const{i18n:t}=this.props,n=Math.max(e,0),s=t.bt("Pinterest", "Pinterest", " - ", undefined, true);window.document.title=n?`(${n}) ${s}`:s}render(){const{conversationsUnseenCount:e,i18n:t,showPanel:n,lastConversation:s,messageNotificationType:i}=this.props;return(0,a.jsxs)(y.xu,{position:"relative",ref:this.setButtonRef,children:[(0,a.jsx)(y.u,{accessibilityLabel:"",text:t.bt("Messaggi", "Messages", "navbar.conversationsButton.tooltip", undefined, true),zIndex:new y.H3([new y.Ry(d.fe)]),children:(0,a.jsx)(l,{badgeCount:e,onClick:this.handleButtonClick,icon:"speech-ellipsis",selected:n})}),i&&(0,a.jsx)(c.Z,{name:"ConversationsResource",options:{field_set_key:"default"},delay:7e3}),"enabled_popup"===i&&(0,a.jsx)(w,{anchor:this.anchor,lastConversation:s})]})}}function P(e){const t=(0,r.ZP)(),n=(0,m.Z)(),{conversations:{conversationsUnseenCount:s,newsHubCount:i,showConversationsDropdown:o},dropdownClose:l,dropdownOpen:c}=(0,f.Z5)(),{checkExperiment:d}=(0,h.F)(),{setInboxButton:u}=(0,_.b)(),p=(0,f.iu)(),x=p?p[0]:null,v=!o&&x&&d("web_message_notifications").group,{showOneToast:y}=(0,g.F9)();return(0,a.jsx)(I,{...e,handleMessageToast:()=>{x&&x.unread>0&&"enabled_toast"===v&&y((({hideToast:e})=>(0,a.jsx)(b,{lastConversation:x,onHide:e})))},messageNotificationType:"enabled_popup"===v||"enabled_toast"===v?v:null,lastConversation:x,closeConversationsDropdown:l,conversationsUnseenCount:s,i18n:t,newsHubCount:i,openConversationsDropdown:c,requireAuth:n,setInboxButton:u,showPanel:o})}var A,T=n(249647),C=n(214494),j=n(70061),E=n(784590),k=n(167912);const R=(0,T.Z)(j.Z);class D extends s.Component{constructor(...e){var t,n,s;super(...e),s=e=>{e===u?(C.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateNewsHubCount(0)):(this.props.conversationBadgeCall(),this.props.updateUnreadCount(0))},(n="handleClearBadges")in(t=this)?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;const t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map((e=>t[e]!==n[e])).filter(Boolean).length:!(t||!n)}componentDidUpdate(){const{badgeResource:e,updateNewsHubCount:t,updateUnreadCount:n}=this.props;if(!e||!e.data)return;const s=R(e.data);n(s.conversationsUnseenCount),t(s.newsHubCount)}render(){const{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}function Z({conversationBadgeCall:e,children:t}){const{checkExperiment:n}=(0,h.F)(),{anyEnabled:s}=n("web_unread_conversation_badging_gate",{dangerouslySkipActivation:!0}),i=(0,E.Z)({name:"NewsHubBadgeResource",noCache:!0}),{conversations:{conversationsUnseenCount:o,newsHubCount:r},updateNewsHubCount:l,updateUnreadCount:c}=(0,f.Z5)();return(0,a.jsx)(D,{badgeResource:i,conversationsUnseenCount:o,newsHubCount:r,shouldPersistConversationBadge:s,updateNewsHubCount:l,updateUnreadCount:c,conversationBadgeCall:e,children:t})}const L=()=>{const e=void 0!==A?A:A=n(737811),[t]=(0,k.useMutation)(e);return async()=>await new Promise(((e,n)=>{t({variables:{},onCompleted:(t,s)=>{s&&n(s[0]),e(t)},onError:e=>n(e)})}))};function M({children:e}){return(0,a.jsx)(Z,{conversationBadgeCall:L(),children:e})}function O({icon:e,children:t}){const[n,i]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{i(!0)}),[]),n?(0,a.jsx)(M,{children:t}):(0,a.jsx)(y.xu,{paddingX:1,children:(0,a.jsx)(y.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:(0,a.jsx)(y.JO,{color:"subtle",icon:e,size:24,accessibilityLabel:""})})})}function z(){return(0,a.jsx)(O,{icon:"speech-ellipsis",children:({onClearBadges:e})=>(0,a.jsx)(P,{onClearBadges:e})})}var B=n(319915),N=n(333312),F=n(947599),H=n(207403),U=n(826067),q=n(627219),W=n(616550);const G=()=>n.e(64658).then(n.bind(n,164658)),V=(0,s.lazy)(G);function $({onClearBadges:e}){const t=(0,r.ZP)(),n=(0,W.useLocation)(),i=(0,s.useRef)(null),[o,c]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[_,g]=(0,s.useState)(!1),[m,x]=(0,s.useState)(!1),{tab:v,utm_source:b,news_hub_id:w}=(0,U.mB)(n.search),S=b||null,I=w||null,{conversations:{conversationsUnseenCount:P,newsHubCount:A}}=(0,f.Z5)(),T=e=>{const n=Math.max(e,0),s=t.bt("Pinterest", "Pinterest", " - ", undefined, true);window.document.title=n?`(${n}) ${s}`:s};(0,s.useEffect)((()=>{T(P+A),n.pathname.startsWith("/notifications")&&"inbox"!==v&&c(!0)}),[P,A]);const C=(0,q.ti)(S),j=()=>{c(!o),e(u),T(0)};return(0,s.useEffect)((()=>{const e=setTimeout((()=>{h(o),g(o)}),100);return()=>clearTimeout(e)}),[o]),(0,a.jsxs)(s.Fragment,{children:[C?(0,a.jsxs)(y.xu,{children:[(0,a.jsx)(y.xu,{onMouseEnter:G,position:"relative",ref:i,children:(0,a.jsx)(l,{badgeCount:A,onClick:j,icon:"bell",selected:o})}),(0,a.jsx)(N.default,{anchor:i.current,experienceIds:[503023],placementId:1000109,showCaret:!0})]}):(0,a.jsx)(y.xu,{onMouseEnter:G,position:"relative",ref:i,children:(0,a.jsx)(y.u,{accessibilityLabel:"",text:t.bt("Notifiche", "Notifications", "navbar.newsButton.tooltip", undefined, true),zIndex:new y.H3([new y.Ry(d.fe)]),children:(0,a.jsx)(l,{badgeCount:A,onClick:j,icon:"bell",selected:o})})}),(0,a.jsx)(H.Jo,{children:(0,a.jsx)("div",{className:"newsHubSidebarWrapper",style:o?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:p&&(0,a.jsx)(B.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,a.jsx)(F.Z,{children:(0,a.jsx)(V,{newsButton:i.current,handleDismissPanel:()=>{c(!1),x(!1)},show:_,highlightScrollSidebar:m,utmNewsHubId:I})})})})})]})}function Y(){return(0,a.jsx)(O,{icon:"bell",children:({onClearBadges:e})=>(0,a.jsx)($,{onClearBadges:e})})}var K=n(19121);function X(){const{should_show_messaging:e}=(0,K.Z)();return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(Y,{}),e&&(0,a.jsx)(z,{})]})}},791606:(e,t,n)=>{n.d(t,{p:()=>s});const s=(e,t,n)=>({type:"MOST_RECENT_BOARD",payload:{id:e,name:t,url:n}})},205992:(e,t,n)=>{n.d(t,{Cp:()=>h,GT:()=>l,V6:()=>r,W2:()=>d,W6:()=>_,_L:()=>p,fm:()=>a,hT:()=>c});var s=n(56528),i=n(214494),o=n(248327);function r(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}const a=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),l=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}});function c(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}const d=(e,t,n)=>s=>{s({type:"USER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})},u=e=>{const t=e.split(" ");return{first_name:t[0],last_name:t[1]}},p=({field:e,value:t,passcode:n,onSettingSavedHn:s,showErrorHn:r,surfaceTag:a,userId:l})=>(c,p)=>{const h=p().users[l],_={user_id:l,surface_tag:a};if("full_name"===e)if(h.is_partner)_.business_name=t;else{const e=u(t);_.first_name=e.first_name,_.last_name=e.last_name||""}else _[e]=t;n&&(_.passcode=n),i.Z.create("UserSettingsResource",_).callUpdate().then((()=>{if("profile_image_url"===e)c((0,o.b)("UserResource",{options:_}));else if("full_name"===e)if(h.is_partner)c(d(l,"first_name",t));else{const e=u(t);c(d(l,"first_name",e.first_name)),c(d(l,"last_name",e.last_name))}!h.is_partner||"account_type"!==e&&"contact_name"!==e?c(d(l,e,t)):c(((e,t,n)=>s=>{s({type:"USER_PARTNER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})})(l,e,t)),s()}),r)},h=(e,t,n,i,o,r)=>()=>{(0,s.Z)({new:t,new_confirm:n,old:e,passcode:i}).then(o,r)},_=(e,t,n,s,o,r)=>a=>{a(d(e,`${t}.${n}`,s));let l={},c="EmailSettingsResource";void 0!==o?(l={section:t,option:n,value:s,od:o.od,user_id:o.user_id},c="UnsubEmailSettingsResource"):l={section:t,option:n,value:s},i.Z.create(c,l).callUpdate().then(r).catch((()=>a(d(e,`${t}.${n}`,!s))))}},619575:(e,t,n)=>{n.d(t,{Z:()=>s});const s=(0,n(667294).createContext)(!1)},525568:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(667294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends s.Component{constructor(...e){super(...e),i(this,"stop",(()=>{this.interval&&(clearInterval(this.interval),delete this.interval)})),i(this,"interval",null)}componentDidMount(){const{cb:e,delay:t}=this.props;this.interval=setInterval(e,t)}componentWillUnmount(){this.stop()}render(){return null}}},15432:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),i=n(702664),o=n(886858),r=n(718368),a=n(248327),l=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends s.Component{constructor(...e){super(...e),c(this,"fetch",(()=>{const{dispatch:e,name:t,options:n}=this.props;e((0,a.U)(t,{options:n}))})),c(this,"fetchMore",(()=>{const{dispatch:e,name:t,nextBookmark:n,options:s}=this.props;n&&e((0,a.U)(t,{options:s,bookmark:n}))}))}componentDidMount(){const{allowStale:e=!0,data:t}=this.props;e&&t||this.fetch()}componentWillUnmount(){this.interval&&(clearInterval(this.interval),delete this.interval)}render(){const{children:e,data:t,isAtEnd:n,isFetching:s}=this.props;return e?e({refresh:this.fetch,loadMore:this.fetchMore,data:t,isAtEnd:n,isFetching:s}):null}}function u(e){const t=(0,o.Z)(e.options||{}),n=(0,i.useSelector)((n=>{var s;return n.resources&&n.resources[e.name]&&(null===(s=n.resources[e.name][t])||void 0===s?void 0:s.fetching)||!1})),s=(0,i.useSelector)((n=>n.resources&&n.resources[e.name]&&n.resources[e.name][t]?n.resources[e.name][t].data:null)),a=(0,i.useSelector)((n=>{var s;return n.resources&&n.resources[e.name]&&(null===(s=n.resources[e.name][t])||void 0===s?void 0:s.nextBookmark)})),c=(0,i.useSelector)((n=>!!(n.resources&&n.resources[e.name]&&n.resources[e.name][t])&&a===r.q)),u=(0,i.useDispatch)();return(0,l.jsx)(d,{...e,isFetching:n,data:s,nextBookmark:a,isAtEnd:c,dispatch:u})}},442082:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(525568),i=n(15432),o=n(785893);function r(e){const{name:t,options:n,delay:r}=e;return(0,o.jsx)(i.Z,{name:t,options:n,allowStale:!1,children:({refresh:e})=>(0,o.jsx)(s.Z,{cb:e,delay:r})})}},224525:(e,t,n)=>{function s(e,t){return t?`${e}?${new URLSearchParams(t).toString()}`:e}function i(e){return s("/admin/",e)}function o(e){return s("/admin/oauth/logout/",e)}function r(e){return s("/today/",e)}n.d(t,{HF:()=>i,Kn:()=>o,tG:()=>r})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/AuthDesktopPageWrapper.it-2c29e3cb93da0e00.mjs.map